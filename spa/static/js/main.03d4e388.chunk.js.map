{"version":3,"sources":["logo.svg","assets/images/background.jpg","components/MainPage/Background.jsx","components/MainPage/ButtonContainer.jsx","assets/images/logo-lg.png","components/Buttons/MainButton.jsx","components/MainPage/Logo.jsx","components/Forms/Login/AskLoginForm.jsx","scripts/helperFunctions/format.js","components/VirtualPinpad.jsx","components/Forms/Login/InputPhoneForm.jsx","components/Forms/Login/ConfirmNumberForm.jsx","components/LoaderScreen.jsx","scripts/user/User.js","scripts/user/Session.js","scripts/constants/dummyConstants.js","scripts/api/fakeApi.js","scripts/api/realApi.js","scripts/reducer.js","components/Buttons/TimeoutButtonOutline.jsx","components/Forms/UserInfo.jsx","components/Buttons/SecondaryButton.jsx","components/Buttons/ContentButton.jsx","scripts/api/contentApi.js","components/FailReport.jsx","components/Toolbars/ToolbarSecondary.jsx","components/Menus/GoBackComponents.jsx","components/Menus/AutoMenu.jsx","components/Header.jsx","components/MainPage/MainPage.jsx","components/Services/ServicesMenu.jsx","components/Services/Finance.jsx","components/Forms/BaseForm.jsx","components/Services/Services.jsx","components/Modals/ModalBackground.jsx","components/Modals/ModalClose.jsx","components/Forms/Login/ReadCardForm.jsx","components/Toolbars/ToolbarMain.jsx","components/SuccessReport.jsx","components/Forms/info/ServiceAfterSuccess.jsx","components/Forms/info/ServiceAfterFail.jsx","components/Forms/FormTask.jsx","components/Forms/UserForms.jsx","components/Maps/MapDetail.jsx","components/Maps/Maps.jsx","components/News/News.jsx","App.js","reportWebVitals.js","index.js"],"names":["Background","className","src","this","props","url","alt","React","Component","ButtonContainer","children","MainButton","ParentTagName","link","Link","to","undefined","onClick","icon","defaultProps","AskLoginForm","location","search","substr","indexOf","length","class","xmlns","fill","viewBox","d","format","value","pattern","i","v","toString","replace","_","ModalBackground","pins","e","style","width","map","char","text","onInput","x","console","log","InputPhoneForm","onPhoneChange","event","number","target","setState","phoneNumber","state","searchInput","focus","inputRef","inputEl","mask","maskChar","onChange","id","type","size","direction","preventDefault","onSubmit","data","ConfirmNumberForm","numberMask","LoaderScreen","fill-rule","clip-rule","userRoles","defaultUser","name","roles","Set","User","overrides","Object","assign","result","lastName","firstName","middleName","array","split","keys","forEach","key","JSON","stringify","getInfo","current","defaultSession","user","validThrough","Date","authToken","refreshToken","Session","changes","import","export","JSONstring","parse","Cookies","set","expires","secure","get","status","ACTION","DUMMY_PHONE","DUMMY_USER_NAME","DUMMY_TOKEN","inputNumber","session","Promise","resolve","reject","setTimeout","startNew","add","Math","random","confirmNumber","inputCard","fetch","method","headers","body","ssid","card","then","response","ok","json","userName","logout","requestService","uuid","action","a","getCurrent","reduce","sizes","height","border","padding","TimeoutButtonOutline","timer","timeout","onTimerTick","call","color","hoverText","contrastColor","hoverBg","UserInfo","loading","callback","setLoading","bind","updateSession","reducer","catch","has","stroke","stroke-linecap","stroke-linejoin","stroke-width","getFullName","onLogout","SecondaryButton","left","right","description","ContentButton","disabled","getMaps","category","error","FailReport","detail","ToolbarSecondary","buttons","button","index","ServicesGoBack","history","push","component","currentPath","pathname","lastIndexOf","getGoBackPath","switches","GoBackComponent","AutoMenu","prevProps","componentDidMount","menu","goBack","Header","logo","MainPage","backgroundImage","ServicesMenu","goBackText","BaseForm","for","title","fields","field","label","ServicesRoutes","allowGuest","URLSearchParams","path","render","background","createRef","ref","onClose","ModalClose","aria-hidden","ReadCardForm","countdown","clearTimeout","onCancel","cx","cy","r","enable-background","autoFocus","directions","ToolbarMain","n","ServiceAfterSuccess","serviceText","onContinue","onExit","ServiceAfterFail","FormTask","onSuccess","onFail","form","onFormSubmit","confirmNumberMask","Forms","onConfirmNumberChange","onConfirmNumberSubmit","success","fail","lifeReport","serviceId","deathReport","onPhoneSubmit","onCardSubmit","match","params","MapDetail","imageList","images","allowRotate","doubleClickZoom","Maps","exact","News","numPages","pageNumber","window","innerWidth","innerHeight","list","changeEntry","offset","changePage","file","renderMode","onLoadSuccess","onDocumentLoadSuccess","gutter","previousEnty","nextEntry","previousPage","nextPage","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03d4e388.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/background.54f53330.jpg\";","import React from 'react';\n\nexport default class Background extends React.Component {\n    render() {\n      return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 select-none -z-10\">\n            <img src={this.props.url} className=\"select-none -z-10 absolute top-0 left-0 h-screen w-screen\" alt=\"Фоновая картинка\"/>\n            {\n              //<div className=\"select-none bg-gray-100 bg-opacity-75 -z-10 absolute top-0 left-0 right-0 bottom-0\"></div>\n            }\n        </div>\n      );\n    }\n}\n","import React from 'react';\n\nexport default class ButtonContainer extends React.Component {\n    render() {\n      return (\n        <div className=\"absolute bottom-10 left-0 right-0\">\n          <div className='container mx-auto'>\n            <div className=\"grid grid-cols-3 gap-4 mx-auto h-2/3 w-full content-end\">\n                {this.props.children}\n            </div>\n          </div>\n        </div>\n      );\n    }\n} \n","export default __webpack_public_path__ + \"static/media/logo-lg.e88d47c5.png\";","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\n/**\n * Кнопка на главной странице\n */\nexport default class MainButton extends React.Component {\n    static propTypes = {\n        /** \n         * Иконка кнопки, url\n         */\n        icon: PropTypes.string,\n\n        /** \n         * Ссылка, по которой ведёт кнопка \\\n         * Если задана, кнопка оборачивается в ссылку и функция OnClick не срабатывает \\\n         */\n        link: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки\n         */\n        onClick: PropTypes.func,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         * @example className = \"bg-blue-lighter hover:bg-red\"\n         * сделает кнопку синей, а при наведении на неё мышкой - красной \n         */\n        className: PropTypes.string,\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        icon: undefined,\n        children: 'Кнопка',\n    }\n    \n    render() {\n        const ParentTagName = this.props.link ? Link : 'button'\n      return (\n        <ParentTagName\n        className={`relative bg-red transition-colors duration-200 rounded flex\n        justify-center items-center text-white shadow-xl\n        ` + this.props.className}\n        to={this.props.link ? this.props.link : undefined}\n        onClick={this.props.link ? undefined : this.props.onClick}>\n            <div className=\"text-center my-4\">\n                {(() => {if (this.props.icon) {\n                    return (\n                    <div className=\"w-28 h-28 p-1 mx-auto\">\n                            <img className=\"min-w-full\" src={this.props.icon} alt=\"icon\" />\n                    </div>)\n                }})()}\n\n                <h3 className=\"text-4xl font-black\">\n                    {this.props.children}\n                </h3>\n            </div>\n        </ParentTagName>\n      );\n    }\n}","import React from 'react';\nimport logo from '../../assets/images/logo-lg.png'\nexport default class Logo extends React.Component {\n    render() {\n      /**return (\n        <div className = \"mx-auto h-1/3 py-10\">\n            <header className = \"text-9xl font-black text-blue-darker flex justify-center items-center\">\n                <span className=\"flex-initial p-1\" >RM</span>\n                <span className = \"flex-initial p-1 mb-8\">\n                <svg viewBox=\"0 0 69.4 69.8\" className = \"w-48 h-auto\" xmlns=\"http://www.w3.org/2000/svg\" id=\"preloader-logo\">\n                    <path className=\"fill\" fill=\"#ed1849\" fill-rule=\"evenodd\" d=\"M45.8 52.7l-27.7 4.1-1.6-1.2 6.6-13.1 2.6 4.5c.3.5.9.8 1.4.8h16.2c.5 0 1-.3 1.4-.7.3-.4.4-1 .2-1.5l-3.8-11.1c-.2-.7-.9-1.1-1.6-1.1h-8.9L28 25.6h12.9l2.9 4.9c.3.5.9.8 1.4.8h23.9v-.2-.1l-.1-.7v-.1l-.4-2.3C65.6 11.9 51.5 0 34.7 0A35 35 0 00.5 27.7l11.1-.7 12-9.9L51.3 13l1.6 1.2-6.6 13.2-2.7-4.5c-.3-.5-.9-.8-1.4-.8H25.9c-.5 0-1 .3-1.4.7-.3.4-.4 1-.2 1.5L28 35.4c.2.7.9 1.1 1.6 1.1h8.9l2.6 7.8H28.2l-2.9-4.9c-.3-.5-.9-.8-1.4-.8H0V38.9l.1.7v.1l.4 2.2a34.9 34.9 0 0068.3.1l-11.1.7-11.9 10z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                </span>\n                <div className =\"flex-initial p-1 mt-4\">\n                    <span className=\"\" ><i>RAIL</i></span>\n                    <h2 className=\"text-4xl text-left font-normal -mt-4\">РУЗХИММАШ</h2>\n                </div>\n            </header>\n        </div>\n      );**/\n      return (\n        <div className = \"pl-6 h-30 py-6 max-w-xl\">\n            <header className = \"flex justify-center items-center\">\n                <div className=''>\n                <img src={logo} alt='логотип'/>\n                </div>\n            </header>\n        </div>\n      )\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../../Buttons/MainButton';\n\n\nexport default class AskLoginForm extends React.Component {\n\n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        let redirectTo = this.props.location.search\n        .substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n\n        return (            \n            <div className=\"mx-auto absolute min-w-full bg-gray-200 rounded-xl shadow-xl py-10 top-10\">\n                <div class=\"\">\n                <div className=\"m-5 w-56 h-56 mx-auto text-gray-500\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-person-bounding-box\" viewBox=\"0 0 16 16\">\n                    <path d=\"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z\"/>\n                    <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/>\n                    </svg>\n                </div>\n\n                <h1 className=\"text-5xl pt-12 mx-auto text-gray-500 font-black\">\n                    Для получения всего перечня доступных услуг необходимо\n                    <br/>\n                    <span className=\"text-red\"> авторизоваться в системе</span>\n                </h1>\n                </div>\n            </div>\n        );\n    }\n}","function format(value, pattern) {\n    var i = 0,\n        v = value.toString();\n    return pattern.replace(/#/g, _ => v[i++]);\n}\n\nexport default format;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst renderPinButton = (text, onClick) => {\n    return (\n        <button class=\"w-auto h-auto\" onClick={onClick}>\n            <div class=\"flex-1\" >\n            <div class=\"flex items-center justify-center flex-1 h-20 w-20 bg-blue-lighter rounded-lg\">\n                <div class=\"relative text-3xl font-black text-white\">\n                    {text}\n                </div>\n            </div>\n            </div>\n        </button>\n    )\n}\n\nexport default class ModalBackground extends React.Component {\n    static propTypes = {\n        /**\n         *  ref для инпута\n         *  @default (x) => {console.log(x)}\n         */\n        for: PropTypes.any,\n    }\n\n    static defaultProps = {\n        onInput: (x) => {console.log(x)},\n    }\n    \n\n    constructor(props) {\n        super(props);\n\n        this.pins = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"]\n    }\n\n    onPinClick(e) {\n\n    }\n\n    onBackscapeClick(e) {\n        \n    }\n\n    render() {\n        return (\n            <div className='grid grid-cols-3 grid-rows-3 grid-flow-row-dense gap-5\n            \n            overflow-x-hidden;'\n            style={{width: 'fit-content', 'block-size': 'fit-content'}}\n            >\n                {\n                this.pins.map(char => {\n                    return (\n                        <div>\n                            {\n                                renderPinButton(char, this.onInput)\n                            }\n                        </div>\n                    )})\n                }\n            <div className=\"col-span-2\">\n                <button class=\"w-full h-auto\">\n                <div class=\"flex-1\" >\n                    <div class=\"flex items-center justify-center flex-1 h-20 bg-blue-lighter rounded-lg\">\n                        <div class=\"relative font-black text-white px-5\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-10 h-10\" viewBox=\"0 0 24 24\" fill=\"currentcolor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z\"/></svg>\n                        </div>\n                    </div>\n                    </div>\n                </button>\n            </div>\n            </div>\n        )\n\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport '../../../assets/css/postcard.css'\nimport InputMask from 'react-input-mask';\nimport format from '../../../scripts/helperFunctions/format';\nimport VirtualPinpad from '../../VirtualPinpad'\n\nexport default class InputPhoneForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при отправки формы\n         *  @default (e) => {e.preventDefault()}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Действие при изменении значения поля\n         *  @default (value, mask) => console.log(value)\n         */\n         onChange: PropTypes.func,\n        \n        /**\n         *  Значение формы\n         */\n         phoneNumber: PropTypes.oneOfType(PropTypes.string, PropTypes.number)\n    }\n\n    static defaultProps = {\n        onSubmit: (data) => {},\n        onChange: (value, mask) => console.log(value),\n    }\n\n    constructor(props) {\n        super(props);\n        console.log(props.phoneNumber)\n        this.state = {phoneNumber: props.phoneNumber}\n    }\n\n    onPhoneChange = (event) => {\n        let number = event.target.value.replace(/[ _()-]/g, '');\n        console.log(number)\n        this.setState({\n            phoneNumber: number\n        });\n    }\n\n    componentDidMount() {\n        this.searchInput.focus();\n    }\n    \n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        //let redirectTo = this.props.location.search\n        //.substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n        return (\n            <>\n            <div className=\"mx-auto text-center relative max-w-5xl\">\n            <div class=\"w-full\">\n            \n            <form className=\"bg-white mt-10 shadow-md rounded px-8 mb-4\">\n                <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                <h1 className=\"text-5xl pt-12 mx-auto text-blue-darker font-black\">\n                        Войти как сотрудник\n                </h1>\n                <p className=\"text-2xl py-2 mx-auto text-gray-500\">\n                    Введите ваш номер телефона в поле ниже и нажмите на кнопку \"Продолжить\". <br/>\n                    Мы вышлем код подтверждения на указанный номер\n                </p>\n                <div className=\"my-8\">\n                <div className=\"grid h-24 grid-cols-2 grid-rows-1 gap-4 my-2\">\n                    <div><InputMask \n                    inputRef={inputEl => (this.searchInput = inputEl)}\n                    mask=\"+7 (999) 999-99-99\"\n                    maskChar={'_'}\n                    value={this.props.phoneNumber}\n                    onChange={this.onPhoneChange} \n                    //beforeMaskedValueChange={this.beforeMaskedValueChange}\n\n                    className=\"shadow appearance-none border rounded w-full h-full py-2 px-3\n                        text-gray-500 text-4xl font-black leading-tight tracking-widest focus:outline-none focus:shadow-outline\"\n                    id=\"username\" type=\"tel\"\n                    /></div>\n\n                    <MainButton\n                    className=\"bg-red hover:bg-blue-lighter\" size=\"lg\" direction=\"right\"\n                    onClick={(e) => {\n                        e.preventDefault();\n                        console.log(this.state.phoneNumber)\n                        this.props.onSubmit({phoneNumber: this.state.phoneNumber})\n                    }}\n                    >\n                        Продолжить\n                    </MainButton>\n                </div>\n                <p className=\"text-center mt-6 text-gray-500 text-lg\">\n                &copy; 2021 РМ Рейл <br/>\n                </p>\n                </div>\n            </form>\n            \n            </div>\n            </div>\n            <VirtualPinpad onInput={(e) => this.searchInput.value += e}/>\n            </>\n        );\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport InputMask from 'react-input-mask';\n\nimport format from '../../../scripts/helperFunctions/format';\nimport '../../../assets/css/input-number-fix.css'\nimport '../../../assets/css/postcard.css'\nimport VirtualPinpad from '../../VirtualPinpad'\n\nexport default class ConfirmNumberForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при изменении значения поля\n         *  Предпологается, что код подтверждения отправляется, \\\n         *  только когда поле заполнено до конца. \\\n         *  См. использование в файле LoginForm.jsx\n         *  @default (value, mask) => console.log(value)\n         */\n         onChange: PropTypes.func,\n\n        /**\n         *  Действие при отправки формы\n         *  Тут нигде не используется\n         *  @default (data) => {}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Номер телефона, который будет отображаться на форме\n         *  (Без +7 или 8)\n         *  @default '0000000000'\n         */\n        phoneNumber: PropTypes.oneOfType(PropTypes.number, PropTypes.string),\n\n        /**\n         *  Номер телефона, который будет отображаться на форме\n         *  (Без +7 или 8)\n         *  @default '00000'\n         */\n        numberMask: PropTypes.string\n    }\n\n    static defaultProps = {\n        onChange: (value, mask) => console.log(value),\n        phoneNumber: '+70000000000',\n        numberMask: '99999'\n    }\n\n    componentDidMount() {\n        this.searchInput.focus();\n    }\n\n\n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        //let redirectTo = this.props.location.search\n        //.substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n\n        return (\n            <div className=\"container mx-auto text-center relative max-w-5xl\">\n            <div class=\"mx-auto\">\n            \n            <form className=\"bg-white mt-10 left-0 right-0 shadow-md rounded px-8 mb-4\">\n                <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                <h1 className=\"text-5xl pt-12 mx-auto text-blue-darker font-black\">\n                    Введите код подтверждения\n                </h1>\n                <p className=\"text-2xl pt-2 max-w-4xl mx-auto text-gray-500\">\n                    Мы уже выслали на номер {format(this.props.phoneNumber, '## (###) ### ##-## ')} код подтверждения\n                    <br/>\n                    Введите его в поле ниже, чтобы войти\n                </p>\n                <div className=\"mb-8 mt-2\">\n\n                <InputMask\n                inputRef={inputEl => (this.searchInput = inputEl)}\n                mask={this.props.numberMask}\n                maskChar={'_'}\n                onChange={(e) => this.props.onChange(e)}\n                className=\"shadow appearance-none rounded w-72 py-2 px-3\n                text-gray-500 text-center text-4xl font-black leading-tight tracking-widest focus:outline-none focus:shadow-outline\"\n                id=\"username\" type=\"text\" \n                //beforeMaskedValueChange={this.beforeMaskedValueChange}\n                />\n\n                <p className=\"text-center mt-6 text-gray-500 text-lg\">\n                &copy; 2021 РМ Рейл <br/>\n                </p>\n                </div>\n            </form>\n            \n            </div>\n\n            <VirtualPinpad onInput={(e) => this.searchInput.value += e}/>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class LoaderScreen extends React.Component {\n    render() {\n      return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 select-none\">\n            <div className=\"select-none bg-gray-100 bg-opacity-75 absolute top-0 left-0 right-0 bottom-0\"></div>\n\n            <div className =\"flex absolute top-0 left-0 right-0 bottom-0 justify-center items-center\">\n                <svg viewBox=\"0 0 69.4 69.8\" className = \"w-48 h-auto animate-spin\" xmlns=\"http://www.w3.org/2000/svg\" id=\"preloader-logo\">\n                    <path className=\"fill\" fill=\"#ed1849\" fill-rule=\"evenodd\" d=\"M45.8 52.7l-27.7 4.1-1.6-1.2 6.6-13.1 2.6 4.5c.3.5.9.8 1.4.8h16.2c.5 0 1-.3 1.4-.7.3-.4.4-1 .2-1.5l-3.8-11.1c-.2-.7-.9-1.1-1.6-1.1h-8.9L28 25.6h12.9l2.9 4.9c.3.5.9.8 1.4.8h23.9v-.2-.1l-.1-.7v-.1l-.4-2.3C65.6 11.9 51.5 0 34.7 0A35 35 0 00.5 27.7l11.1-.7 12-9.9L51.3 13l1.6 1.2-6.6 13.2-2.7-4.5c-.3-.5-.9-.8-1.4-.8H25.9c-.5 0-1 .3-1.4.7-.3.4-.4 1-.2 1.5L28 35.4c.2.7.9 1.1 1.6 1.1h8.9l2.6 7.8H28.2l-2.9-4.9c-.3-.5-.9-.8-1.4-.8H0V38.9l.1.7v.1l.4 2.2a34.9 34.9 0 0068.3.1l-11.1.7-11.9 10z\" clip-rule=\"evenodd\"></path>\n                </svg>\n            </div>\n        </div>\n      );\n    }\n}\n","export const userRoles = {\n    GUEST: 'GUEST',\n    NO_PHONE: 'NO_PHONE',\n    INPUT_PHONE: 'INPUT_PHONE',\n    UNCONFIRMED: 'UNCONFIRMED',\n    EMPLOYEE: 'EMPLOYEE'\n}\n\n// Нельзя использовать set, потому что он не переносит JSON.Stringify\nexport const defaultUser = {\n    name: 'Гость',\n    phoneNumber: '+70000000000',\n    roles: new Set([userRoles.GUEST]),\n}\n\nexport class User {\n    /**\n     * Посмотрите на структуру объекта пользователя \\\n     * Время жизни сессии (expires) пишется в секундах \\\n     * Подразумевается, что данные будут храниться на стороне клиента, \\\n     * чтобы не делать слишком много запросов к апи \\\n     * Но апи должен хранить копию этих данных, чтобы проверять их целостность по токену \\\n     * как минмум при отправке формы \\\n     * Потому что иначе любой с шаловливыми ручками может залезть в дебаггер или куки \\\n     * И поменять там значения, на какие ему нужно\n     */\n\n    constructor(overrides = {}) {\n        Object.assign(this, defaultUser);\n        Object.assign(this, overrides);\n        \n        if (!(typeof this.roles === 'object' && this.roles instanceof Set)) {\n            this.roles = new Set(this.roles);\n        }\n        return this;\n    }\n\n\n    getFullName() {\n        const result = {\n            lastName: '',\n            firstName: '',\n            middleName: '',\n        }\n\n        let array = this.name.split(' ');\n\n        let i = 0;\n        Object.keys(result).forEach(key => {\n            if (i < array.length)\n            result[key] = array[i];\n            ++i;\n        });\n\n        return result;\n    }\n\n    // Кастомное поведение при JSON.stringify\n    // Нужно для преобразования сета в массив, иначе оно записывается как {}\n    toJSON() {\n        return JSON.stringify ({\n            name: this.name,\n            phoneNumber: this.phoneNumber,\n            roles: [...this.roles],\n        })\n    }\n\n    clone(overrides = {}) {\n        return new User(Object.assign(this.getInfo(), overrides));\n    }\n}","import {User, userRoles} from './User'\nimport Cookies from 'js-cookie';\n\nlet current = {};\n\n// Пока не нужно\nlet countdown = 0.0;\n\nexport const defaultSession = {\n    user: new User(),\n    validThrough: new Date(\"Jan 1, 2077 00:00:00\"),\n    authToken: '',\n\n    // Это тоже пока не используем\n    refreshToken: '',\n}\n\nexport class Session {\n    static startNew(overrides = {}) {\n        current = {};\n\n        current = Object.assign(current, defaultSession);\n        current = Object.assign(current, overrides);\n    }\n\n    // Пока что не пользуемся куками\n    static start() {\n        \n    }\n\n    static edit(changes = {}) {\n        Object.assign(current, changes);\n    }\n\n    static getCurrent() {\n        // Выдаём копию, чтобы ненароком ничего не менять в самой сессии\n        return Session.import(Session.export());\n    }\n\n    static export() {\n        return JSON.stringify(current);\n    }\n\n    static import(JSONstring) {\n        return JSON.parse(JSONstring, function(key, value) {\n            if (key == 'user') {\n                return new User(JSON.parse(value));\n             }\n            \n            if (key == 'validThrough') return new Date(value);\n            return value;\n        });\n    }\n\n    // Пока что не нужно\n    static writeCookie() {\n        Cookies.set('session', JSON.stringify(current), { expires: 1, secure: true })\n    }\n\n    // И это тоже\n    static readCookie() {\n        return JSON.parse((Cookies.get('session')));\n    }\n}\n\n// export const startNewSession = (sessionObj = {}) => {\n//     const result = {...defaultSession};\n//     Object.keys(sessionObj).forEach(key => {\n//         result[key] = sessionObj[key];\n//     });\n//     writeUserSession(result);\n// }\n\n// export const editSession = (edited = {}) => {\n//     const current = readUserSession();\n//     Object.keys(edited).forEach(key => {\n//         current[key] = edited[key];\n//     });\n//     writeUserSession(current);\n// }\n\n// export const writeUserSession = (session) => {\n//     Cookies.set('session', JSON.stringify(session), { expires: 1, secure: true })\n// }\n\n// export const refreshSession = (session) => {\n\n// }\n\n// export const readUserSession = () => {\n//     return JSON.parse((Cookies.get('session')));\n// }\n\n// const sessionCache = () => {\n\n// }","export const DUMMY_PHONE = '5555555555';\nexport const DUMMY_CONFIRM_NUMBER = '55555';\nexport const DUMMY_TOKEN = 'ffff0000';\nexport const UNCONFIRMED_TOKEN = 'UNCONFIRMED_USER';\n\n/**\n * Несколько самопальным ENUM реализованных в виде объектов-констант,\n * чтобы не работать с неизвестными строками\n */\n\nexport const status = {\n    SUCCESS: 'SUCCESS',\n    FAIL: 'FAIL',\n    NOT_FOUND: 'NOT FOUND'\n}\n\nexport const ACTION = {\n    READ_CARD: 'READ_CARD',\n    LOGIN: 'LOGIN',\n    LOGOUT: 'LOGOUT',\n    CONFIRM: 'CONFIRM',\n    REQSERVICE: 'REQUEST SERVICE',\n}","import {User, userRoles, defaultUser} from '../user/User'\nimport { Session } from '../user/Session';\nimport { status } from '../constants/dummyConstants';\n\nconst DUMMY_PHONE = '+75555555555';\nconst DUMMY_CONFIRM_NUMBER = '55555';\nconst DUMMY_USER_NAME = 'Иванов Иван Иванович'\nconst DUMMY_TOKEN = 'ffff0000';\nconst DUMMY_REFRESH_TOKEN = '0000ffff'\nconst DUMMY_CARD_NUMBER = '1362859'\n\n//TODO: дописать FAKEAPI, подключить reducer к нему\n//Будем считать, что сделано\n\nexport const refreshSession = (session) => {\n    return new Promise(function(resolve, reject) {\n        \n    });\n}\n\nexport const inputCard = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.card === DUMMY_CARD_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.EMPLOYEE),\n                        //roles: session.user.roles.add(userRoles.INPUT_PHONE),\n                    }),\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const inputNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.UNCONFIRMED)}),\n                    // expires: 600,\n                    authToken: DUMMY_TOKEN,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const confirmNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE\n            && data.confirmNumber === DUMMY_CONFIRM_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME,\n                    roles: new Set([userRoles.GUEST, userRoles.EMPLOYEE])}),\n\n                    authToken: DUMMY_TOKEN,\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const logout = (session, data = {}) => {\n    return new Promise(function(resolve, reject) {\n        setTimeout(() => {\n            Session.startNew();\n            resolve(status.SUCCESS)\n        }, Math.random() * 1000 + 250)\n    });\n}\n\nexport const requestService = (session, data = {}) => {\n    // data.serviceId - id запрашиваемой услуги\n    return new Promise(function(resolve, reject) {\n        if (session.authToken === DUMMY_TOKEN) {\n            setTimeout(() => {\n                resolve(status.SUCCESS)\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL)\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}","import {User, userRoles, defaultUser} from '../user/User'\nimport { Session } from '../user/Session';\nimport { status } from '../constants/dummyConstants';\n\nconst DUMMY_PHONE = '+75555555555';\nconst DUMMY_CONFIRM_NUMBER = '55555';\nconst DUMMY_USER_NAME = 'Иванов Иван Иванович'\nconst DUMMY_TOKEN = 'ffff0000';\nconst DUMMY_REFRESH_TOKEN = '0000ffff'\nconst DUMMY_CARD_NUMBER = '1362859'\n\n//TODO: дописать FAKEAPI, подключить reducer к нему\n//Будем считать, что сделано\n\nexport const refreshSession = (session) => {\n    return new Promise(function(resolve, reject) {\n        \n    });\n}\n\nexport const inputCard = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        fetch(\"/api/session\", {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ssid: data.card})\n          })\n        .then((response) => {\n            if (response.ok) {\n                response.json()\n                .then((result) => {\n                    Session.startNew({\n                        user: new User({...session.user, name: result.userName, //phoneNumber: DUMMY_PHONE,\n                            roles: session.user.roles.add(userRoles.EMPLOYEE),\n                            //roles: session.user.roles.add(userRoles.INPUT_PHONE),\n                        }),\n                        authToken: result.authToken,\n                    });\n                    resolve(status.SUCCESS)\n                })\n            }\n            else {\n                reject(status.FAIL);\n            }\n        })\n    });\n}\n\nexport const inputNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.UNCONFIRMED)}),\n                    // expires: 600,\n                    authToken: DUMMY_TOKEN,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const confirmNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE\n            && data.confirmNumber === DUMMY_CONFIRM_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME,\n                    roles: new Set([userRoles.GUEST, userRoles.EMPLOYEE])}),\n\n                    authToken: DUMMY_TOKEN,\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const logout = (session, data = {}) => {\n    return new Promise(function(resolve, reject) {\n        setTimeout(() => {\n            Session.startNew();\n            resolve(status.SUCCESS)\n        }, Math.random() * 1000 + 250)\n    });\n}\n\nexport const requestService = (session, uuid, data = {}) => {\n    // uuid - id запрашиваемой услуги\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/forms/send/${uuid}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({authToken: session.authToken, ...data})\n          })\n        .then((response) => {\n            if (response.ok) {\n                resolve(status.SUCCESS)\n            }\n            else {\n                reject(status.FAIL)\n            }\n        })\n    });\n}","//import login from \"./actions/login\";\n//import confirm from \"./actions/confirm\";\n//import logout from \"./actions/logout\"\n\nimport {inputNumber, confirmNumber} from \"./api/fakeApi\"\nimport {inputCard, logout, requestService} from \"./api/realApi\"\nimport { Session } from \"./user/Session\"\n\nimport {ACTION, status} from './constants/dummyConstants'\n/**\n * REDUCE ОБРАБАТЫВАЕТ ВСЕ ВХОДЯЩИЕ ЗАПРОСЫ С ФОРМ \\\n * ПРИНИМАЕТ ЗАПРОС, ИСПОЛЬЗУЕТ СООТВЕТСТВУЮЩЕЕ ДЕЙСТВИЕ \\\n * \n * @param {*} action действие, которое мы хотим обработать\n * @returns ответ в виде строки-константы STATUS (см. dummyConstants), например 'SUCCESS' или 'FAIL'\n */\nasync function reduce(action) {\n    switch (action.type) {\n        case ACTION.READ_CARD:\n            return inputCard(Session.getCurrent(), action.data)\n        case ACTION.LOGIN:\n            return inputNumber(Session.getCurrent(), action.data)\n        case ACTION.CONFIRM:\n            return confirmNumber(Session.getCurrent(), action.data)\n        case ACTION.LOGOUT:\n            return logout(Session.getCurrent(), action.data)\n        case ACTION.REQSERVICE:\n            return requestService(Session.getCurrent(), action.data)\n        default:\n            return Promise.reject(status.NOT_FOUND);\n        }\n}\n\nexport default reduce;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst sizes = {\n    'sm': {\n        height: \"h-12\",\n        width: \"w-12\",\n        border: \"border-2\",\n        padding: \"px-8\",\n        text: 'text-md',\n    },\n    'lg': {\n        height: \"h-16\",\n        width: \"w-16\",\n        border: \"border-2\",\n        padding: \"px-12\",\n        text: 'text-xl',\n    }\n}\n\n\nexport default class TimeoutButtonOutline extends React.Component {\n    \n    static propTypes = {\n        /**\n         *  Действие при нажатии кнопки либо по истечении времени\n         *  @default () => {}\n         */\n        onClick: PropTypes.func,\n\n        /**\n         *  Время в секундах до осуществления действия\n         *  @default undefined\n         */\n        timeout: PropTypes.number,\n\n        /**\n         * Размер кнопки. Один из ['sm', 'lg']\n         * @default 'sm'\n         */\n        size: PropTypes.string,\n\n        /**\n         * Цвет кнопки. СТРОКА. См. цветообразование в tailwind css \\\n         * Также в проект зашиты другие цвета в tailwind.config.js\n         * \n         * @default 'red'\n         */\n        color: PropTypes.string,\n\n        /**\n         * Контрастный цвет к заданному (color) СТРОКА. См. цветообразование в tailwind css \\\n         * Также в проект зашиты другие цвета в tailwind.config.js \\\n         * \n         * @default 'white'\n         */\n        contrastColor: PropTypes.string,\n    }\n\n    static defaultProps = {\n        onClick: () => {},\n        timeout: undefined,\n        size: 'sm',\n        color: 'red',\n        contrastColor: 'white'\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {timer: props.timeout}\n    }\n\n    componentDidMount() {\n        if (this.state.timer)\n            this.onTimerTick.call(this);\n    }\n\n    onTimerTick() {\n        if (this.state.timer <= 0) {\n            this.props.onClick({preventDefault: () => {}});\n        }\n        else {\n            setTimeout(() => {\n                this.setState({timer: this.state.timer - 1},\n                    this.onTimerTick.call(this));\n            }, 1000)\n        }\n    }\n\n    render() {\n        const size = sizes[this.props.size] || sizes['sm'];\n        const color = {\n            text: `text-${this.props.color}`,\n            border: `border-${this.props.color}`,\n            hoverText: `hover:text-${this.props.contrastColor}`,\n            hoverBg: `hover:bg-${this.props.color}`,\n        }\n\n        /*         \n            h-12\n            flex items-center\n            text-red\n            justify-center uppercase\n            font-semibold\n            border-red\n            undefined\n            border-red hover:bg-red\n            hover:text-white\n            transition duration-500\n            ease-in-out \n            text-md\"\n         */\n\n        return (\n        <button class=\"inline-flex\" onClick={this.props.onClick}>\n            <span class={`\n            ${size.height}\n            flex items-center\n            ${color.text}\n            justify-center uppercase\n            font-semibold\n            ${color.border}\n            ${size.padding}\n            ${size.border}\n            ${color.border}\n            ${color.hoverBg}\n            ${color.hoverText}\n            transition duration-500\n            ease-in-out \n            ${size.text}`}>\n                {this.props.children}\n            </span>\n            {(() => {\n                if (typeof this.props.timeout !== 'undefined') {\n                    return <span class={`\n                    ${size.height}\n                    ${size.width} \n                    flex-shrink-0\n                    flex ${color.text}\n                    items-center justify-center \n                    ${size.border}\n                    border-l-0 font-black\n                    ${color.border} ${color.hoverBg}\n                    ${color.hoverText}\n                    transition duration-500\n                    ease-in-out\n                    ${size.text}\n                    `}>\n                            {this.state.timer}\n                        </span>\n                }\n            })()}\n        </button>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport AskLoginForm from './Login/AskLoginForm';\nimport InputPhoneForm from './Login/InputPhoneForm';\nimport ConfirmForm from './Login/ConfirmNumberForm';\nimport LoaderScreen from '../LoaderScreen'\n\nimport reducer from '../../scripts/reducer'\n\nimport { userRoles } from '../../scripts/user/User';\nimport {Session} from '../../scripts/user/Session'\nimport { ACTION } from '../../scripts/constants/dummyConstants';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\n// Время в секундах\nconst LOGOUT_T = 30;\n\nexport default class UserInfo extends React.Component {\n\n    // Дописать действия при отправке формы (props.onSubmit)\n\n    // TODO: сделать переходы в зависимости от success и fail\n    constructor(props) {\n        super(props);\n        this.state = {loading: true, timer: LOGOUT_T}\n    }\n\n    componentDidMount() {\n        this.setState({session: Session.getCurrent(), loading: false})\n        //console.log(success)\n        //console.log(fail)\n    }\n\n    componentWillMount() {\n        \n    }\n\n    setLoading(value) {\n        this.setState({loading: value})\n    }\n\n    updateSession(callback = () => {}) {\n        this.setState({session: Session.getCurrent()}, callback)\n    }\n\n\n    onLogout(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGOUT, data: data}).then((result) => {\n                updateSession(setLoading(false));\n                // ...\n            },\n            )\n            .catch(result => {\n                updateSession(setLoading(false));\n                // ...\n            })\n        })\n    }\n\n    render() {\n        if (this.state.loading)\n            return <LoaderScreen/>\n        else {\n            const user = this.state.session.user;\n            //console.log(this.state.session);\n            //console.log(Session.getCurrent());\n\n            if (user.roles.has(userRoles.EMPLOYEE))\n                return (\n                    <div class=\"max-w-lg flex flex-col space-y-4 justify-center items-center\">\n                    <div class=\"bg-transparent w-auto flex items-center p-2\">\n                    <div class=\"flex items-center space-x-4 text-red\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                        </svg>\n                    </div>\n                    <div class=\"flex-grow p-3\">\n                    <div class=\"font-semibold text-2xl text-blue-darker\">\n                        {user.getFullName().lastName + \" \" + user.getFullName().firstName}\n                    </div>\n                    {/* <div class=\"text-sm text-gray-500\">\n                        {(() => {\n                            if (user.roles.has(userRoles.EMPLOYEE))\n                                return \"Сотрудник\"\n                            else\n                                return \"Вход в систему не выполнен\"\n                        })()}\n                    </div> */}\n                    </div>\n                    <TimeoutButtonOutline timeout={60} onClick={(e) => {this.onLogout.call(this)}}>\n                        выход\n                    </TimeoutButtonOutline>\n                    </div>\n                    </div>\n                )\n            else return \"\";\n        }\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\n/**\n * Кнопка на главной странице\n */\nexport default class SecondaryButton extends React.Component {\n    static propTypes = {\n        /** \n         * \"Направление\" кнопки. Влияет на границу\n         * Может быть left, top, right или bottom\n         * @default \"left\"\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Иконка кнопки, url\n         */\n        icon: PropTypes.string,\n\n        /** \n         * Ссылка, по которой ведёт кнопка \\\n         * Если задана, кнопка оборачивается в ссылку и функция OnClick не срабатывает \\\n         */\n        link: PropTypes.string,\n\n        /** \n         * Дополнительный текст к кнопке\n         */\n        description: PropTypes.string,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         */\n        className: PropTypes.string,\n\n        /** \n         * Функция, которая выполняется по нажатию на кнопку\n         * @default () => {}\n         */\n        onClick: PropTypes.func,\n\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        direction: 'left',\n        onClick: (e) => {},\n    }\n    \n    #arrowRotation = {\n        left:  'left-0 rotate-0',\n        right:  'right-0 rotate-180',\n    }\n\n    render() {\n      const ParentTagName = this.props.link ? Link : 'button'\n      return (\n        <ParentTagName className={\n            `${this.props.direction === 'left' ? 'bg-gradient-to-r' : 'bg-gradient-to-l'}\n        from-blue-lighter to-red p-1 ` + this.props.className}\n        onClick={this.props.onClick}\n        to={this.props.link}\n        >\n\n        <div className=\"container \n        bg-white flex items-center content-center justify-between text-center relative h-40\">\n            <div className= {`\n            ${this.props.direction === 'left' ? 'pl-16' : 'pl-6'}\n            pt-7 pb-4 text-left`}>\n            <h3 className={\n                `text-4xl font-black\n                ${this.props.direction === 'left' ? 'text-blue-darker' : 'text-red'}`}>\n                {this.props.children}\n            </h3>\n            <p class=\"text-gray-500 mt-2\">\n                {this.props.description}\n            </p>\n            </div>\n            <div className=\"p-4\">\n            <div className={\n                `w-24 mx-auto\n                ${this.props.direction === 'left' ? 'text-red' : 'text-blue-darker mr-7'}`}\n                \n            >\n                { this.props.icon ? <img className='min-w-full' src={this.props.icon} alt=\"icon\"/> : null}\n            </div>\n            </div>\n            <div className={\n                `w-12 h-12\n                absolute\n                text-blue-darker\n                transform\n                ${this.#arrowRotation[this.props.direction]}\n                `}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n            </div>\n        </div>\n        </ParentTagName>\n      );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ContentButton extends React.Component {\n    static propTypes = {\n\n        /** \n         * \"Направление\" кнопки. Пока что влияет только на стрелочку \\\n         * Может быть left, right или никаким\n         * @default \"left\"\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки\n         */\n        onClick: PropTypes.func,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         * @example className = \"bg-blue-lighter hover:bg-red\"\n         * сделает кнопку синей, а при наведении на неё мышкой - красной \n         */\n        className: PropTypes.string,\n\n        /**\n         * Выключена ли кнопка\n         */\n        disabled: PropTypes.any,\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        size: 'md',\n        direction: 'left',\n        children: 'Кнопка',\n        disabled: false,\n    }\n\n    render() {\n        switch (this.props.direction) {\n            case 'left':\n                return (\n                <button type=\"button\"\n                onClick={this.props.onClick}\n                disabled={this.props.disabled}\n                class={`bg-gray-800 text-white rounded-l-md\n                py-3 hover:bg-red\n                transition duration-150 ease-out\n                hover:text-white px-5 ${this.props.className}`}>\n                <div class=\"flex flex-row align-middle items-center\">\n                    <svg class=\"w-8 mr-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" d=\"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                    <p class=\"ml-4 text-xl uppercase font-black\">{this.props.children}</p>\n                </div>\n                </button>\n            )\n\n            case 'right':\n                return (\n                <button type=\"button\"\n                onClick={this.props.onClick}\n                disabled={this.props.disabled}\n                class={`bg-gray-800 text-white rounded-r-md\n                transition duration-150 ease-out\n                py-3 hover:bg-red\n                hover:text-white px-5 ${this.props.className}`}>\n                    <div class=\"flex flex-row align-middle items-center\">\n                    <p class=\"mr-4 text-xl uppercase font-black\">{this.props.children}</p>\n                    <svg class=\"w-8 mr-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path fill-rule=\"evenodd\" d=\"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                    </div>\n                </button>\n                )\n            \n            default:\n                return (\n                    <button type=\"button\"\n                    onClick={this.props.onClick}\n                    disabled={this.props.disabled}\n                    class={`bg-gray-800 text-white rounded-md\n                    py-3 hover:bg-red\n                    transition duration-150 ease-out\n                    hover:text-white px-5 ${this.props.className}`}>\n                        <div class=\"flex flex-row align-middle items-center\">\n                        <p class=\"mx-2 text-xl uppercase font-black\">{this.props.children}</p>\n                        </div>\n                    </button>\n                )\n        }\n\n    }\n}","export const getNewsList = () => {\n    return new Promise(function(resolve, reject) {\n        fetch('/api/news')\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json['newsList'])\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\nexport const getMaps = (category) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/maps/${category}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json['imageList'])\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getMenu = (menu) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/menus${menu}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json)\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getFormInfo = (uuid) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/forms/${uuid}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json)\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getMenuTest = (menu) => {\n    return new Promise(function(resolve, reject) {\n        resolve({\n            \"buttons\": [\n              {\n                \"detail\": \"Справка 2-НДФЛ, Справка 182Н, Справка о заработной плате,\\n                Справка в УФССП, Справка в центр занятости\",\n                \"icon\": \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\">\\n                <path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\\\" />\\n                </svg>\",\n                \"link\": \"/services/finance\",\n                \"onClick\": null,\n                \"text\": \"Доходы\"\n              },\n              {\n                \"detail\": \"Справка о выплате единовременного пособия, \\n                Справка о получении/неполучении пособия по уходу за ребенком, \\n                Справка о выплате материальной помощи при рождении ребенка\",\n                \"icon\": \"<svg fill=\\\"none\\\" stroke=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                <path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\\\"></path>\\n                </svg>\",\n                \"link\": \"/forms/service/1\",\n                \"onClick\": null,\n                \"text\": \"Выплаты\"\n              }\n            ],\n            \"goBack\": true,\n            \"goBackText\": \"Назад\",\n            \"type\": \"TWO_SIDES\"\n          })\n    });\n}","import React from 'react';\n\nexport default class FailReport extends React.Component {\n    render() {\n        return (\n            <div class=\"flex items-center gap-4 bg-red p-4 rounded-md max-w-5xl mx-auto\">\n            <div class=\"w-max\">\n                <div class=\"h-24 w-28 flex text-white border-r-4 border-white\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                </div>\n            </div>\n            <div class=\"space-y-1 pl-2 text-3xl text-left\">\n                <h6 class=\"font-black text-white\">{this.props.children}</h6>\n                <p class=\"font-black text-2xl text-gray-100\">{this.props.detail}</p>\n                <p class=\"font-black text-white\">Техподдержка: +7 (555) 555 55-55</p>\n            </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../Buttons/MainButton';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\nconst directions = [\"left\", \"bottom\", \"top\", \"right\"];\n\nexport default class ToolbarSecondary extends React.Component {\n\n    static propTypes = {\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * @default []\n         * @example\n         *      [{text: \"На главную\",\n         *      onClick: (e) => {\n         *      e.preventDefault();\n         *      this.props.history.push(\"/\")\n         *      }}]\n         */\n        buttons: PropTypes.array,\n\n        /**\n         * Размер. Один из ['sm', 'lg']\n         * @default 'sm'\n         */\n        size: PropTypes.string,\n        }\n\n    static defaultProps = {\n        buttons: [],\n        size: 'sm',\n    }\n\n    render() {\n        let n = this.props.buttons.length;\n        let buttons = this.props.buttons;\n\n        return (\n            <div className={`flex justify-start items-center flex-wrap -ml-5`}>\n            {\n                buttons.map((button,index) => {\n                    return (\n                    <div className=\"ml-5\">\n                        <TimeoutButtonOutline\n                        size={this.props.size}\n                        timeout={button.timeout}\n                        onClick={button.onClick}\n                        color={button.color}>\n                            {button.text}\n                        </TimeoutButtonOutline>\n                    </div>\n                    )\n                })\n            }\n            </div>\n        );\n    }\n}","import ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport React from 'react';\n\nconst getGoBackPath = (component) => {\n    let currentPath = component.props.location.pathname;\n\n    if (currentPath.lastIndexOf(\"/\") === currentPath.length - 1)\n        currentPath = currentPath.substr(0, currentPath.length - 1)\n\n    return currentPath.substr(0, currentPath.lastIndexOf(\"/\") + 1)\n}\n\nexport class ServicesGoBack extends React.Component {\n    render() {\n        return (\n        <div class=\"container fixed bottom-10 mx-auto\">\n            <ToolbarSecondary size=\"lg\" buttons={[\n                {\n                    text: \"Назад\",\n                    onClick: ((e) => {\n                        e.preventDefault();\n                        this.props.history?.push(getGoBackPath(this))\n                    }).bind(this),\n                    //timeout: 100,\n                },\n            ]}\n            />\n        </div>\n    )\n    }\n}","import React from 'react';\nimport MainButton from '../Buttons/MainButton'\nimport SecondaryButton from '../Buttons/SecondaryButton'\nimport ContentButton from '../Buttons/ContentButton'\nimport { func } from 'prop-types';\nimport { getMenu } from '../../scripts/api/contentApi';\nimport FailReport from '../FailReport';\nimport { ServicesGoBack } from './GoBackComponents';\n\nconst switches = {\n    'MAIN': {\n        Component: MainButton,\n        className: () => \"col-span-1\",\n        GoBackComponent: undefined\n    },\n    'TWO_SIDES': {\n        Component: SecondaryButton,\n        className: () => \"col-span-1\",\n        direction: (index) => (index % 2 == 0) ? 'left' : 'right',\n        GoBackComponent: ServicesGoBack\n    }\n}\n\nexport default class AutoMenu extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.url != this.props.url) {\n            this.componentDidMount();\n        }\n    }\n\n    componentDidMount() {\n        getMenu(this.props.url).then((result => {\n            console.log(result)\n            this.setState(({loading: false, ...result}))\n        }).bind(this))\n        .catch((error => {\n            this.setState({loading: false, error: true})\n        }).bind(this))\n    }\n\n    render() {\n        const e = switches[this.state.type]\n\n        return (\n            this.state.loading ?\n            \"Идёт загрузка меню...\"\n            : this.state.error ?\n            <FailReport>\n                Произошла ошибка при загрузке меню!\n            </FailReport>\n            : <>\n            {\n            this.state.buttons.map((button, index) => \n                <e.Component\n                className={e.className?.(index)}\n                size={e.size?.(index)}\n                direction={e.direction?.(index)}\n                description={button.detail}\n                icon={button.icon}\n                link={button.link}\n                onClick={button.link? undefined : button.onClick}\n                >\n                    {button.text}\n                </e.Component>\n            )\n            }\n            {\n                this.state.goBack && e.GoBackComponent ?\n                    <e.GoBackComponent {...this.props}/>\n                : null\n            }\n            </>\n        )\n    }\n}","import logo from '../assets/images/logo-lg.png'\nimport UserInfo from './Forms/UserInfo'\n\nexport const Header = (props) => {\n    return (\n    <header className='mt-6 container mx-auto flex justify-between'>\n    {/* Логотип RMRail инфокиоск */}\n    <div className = \"pl-6 h-30 py-6 max-w-xl\">\n        <div className = \"flex justify-center items-center\">\n            <div className=''>\n            <img src={logo} alt='логотип'/>\n            </div>\n        </div>\n    </div>\n    {/* Давайте хотя бы на главной странице выводить информацию о пользователе */}\n    <UserInfo/>\n    </header>\n    )\n}","import React from 'react';\nimport backgroundImage from '../../assets/images/background.jpg';\nimport Background from './Background';\nimport ButtonContainer from './ButtonContainer';\nimport Logo from './Logo';\nimport MainButton from '../Buttons/MainButton';\nimport UserInfo from '../Forms/UserInfo'\nimport AutoMenu from '../Menus/AutoMenu';\nimport { Header } from '../Header';\n\nexport default class MainPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n      return (\n      <div>\n\n        {/* Задний фон */}\n        <Background url={backgroundImage}/>\n        <Header/>\n        {/* Контейнер с кнопками */}\n        <ButtonContainer>\n            <AutoMenu url=\"\"/>\n        </ButtonContainer>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport SecondaryButton from '../Buttons/SecondaryButton';\nimport PropTypes from 'prop-types'\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\n\nexport default class ServicesMenu extends React.Component {\n    static propTypes = {\n        /**\n         *  Нужно ли выводить кнопку \"назад\"\n         *  @default true\n         */\n        goBack: PropTypes.bool,\n\n        /** \n         * Текст кнопки \"назад\"\n         * Не выводится, если goBack = false\n         * @default \"Назад\"\n         */\n        goBackText: PropTypes.string,\n\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * *Внимательно посмотрите на пример в коде компонента*\n         * @default []\n         * @example []\n         */\n        buttons: PropTypes.array,\n    }\n\n    static defaultProps = {\n        goBack: true,\n        goBackText: 'Назад',\n        buttons: [],\n    }\n\n    getGoBackPath() {\n        let currentPath = this.props.location.pathname;\n\n        if (currentPath.lastIndexOf(\"/\") === currentPath.length - 1)\n            currentPath = currentPath.substr(0, currentPath.length - 1)\n\n        return currentPath.substr(0, currentPath.lastIndexOf(\"/\") + 1)\n    }\n\n    render() {\n        let buttons = [...this.props.buttons]\n\n        /*\n        Кнопку \"назад\" решили поцепить другим способом\n        if (this.props.goBack) {\n            buttons.unshift (\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    </svg>`,\n                    link: this.getGoBackPath(),\n                    onClick: () => {},\n                    description: '',\n                    text: this.props.goBackText,\n                }\n            )\n        }\n        */\n\n      return (\n      <div>\n        <div className=\"container mx-auto text-center\">\n\n            {/* Контейнер с кнопками */}\n            <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                {\n                    buttons.map((button,index)=> {\n                        return (\n                            <SecondaryButton className=\"col-span-1\" direction={index % 2 === 0 ? 'left' : 'right'}\n                            icon={button.icon}\n                            link={button.link}\n                            description={button.description}\n                            >\n                                {button.text}\n                            </SecondaryButton>\n                        )\n                    })\n                }\n            </div>\n            {(() => {\n                if (this.props.goBack)\n                    return (\n                        <div class=\"mx-4\">\n                            <ToolbarSecondary size=\"lg\" buttons={[\n                                {\n                                    text: \"Назад\",\n                                    onClick: ((e) => {\n                                        e.preventDefault();\n                                        this.props.history.push(this.getGoBackPath())\n                                    }).bind(this),\n                                    //timeout: 100,\n                                },\n                            ]}\n                            />\n                        </div>\n                    );\n            })()}\n        </div>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport ServicesMenu from './ServicesMenu';\nimport ServicesRoutes from './Services';\n\n\nimport { BrowserRouter as Router, Switch, \n    Route, Redirect,} from \"react-router-dom\";\n\n\n\nexport default class Finance extends React.Component {\n    render() {\n        return (\n            <Switch>\n            {/*<Route path=\"/services\" component={Services}/>*/}\n            <Route path='/services/finance/:form' render={(props) => \n                {\n                    return <Redirect to={`/services/form?serviceId=${props.match.params.form}`} />\n                }\n            }/>\n\n            <Route exact path=\"/services/finance\" render={(props) => <ServicesMenu {...props}\n            buttons={[\n                {\n                    icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>`,\n                    link: '/forms/service/150',\n                    description: '',\n                    text: 'Справка 2-НДФЛ',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path></svg>`,\n                    link: '/forms/service/151',\n                    description: ``,\n                    text: 'Справка 182Н',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\">\n                    </path></svg>`,\n                    link: '/forms/service/155',\n                    description: ``,\n                    text: 'Справка о заработной плате',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\">\n                    </path></svg>`,\n                    link: '/forms/service/157',\n                    description: '',\n                    text: 'Справка в УФССП',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\">\n                    </path></svg>`,\n                    link: '/forms/service/158',\n                    description: '',\n                    text: 'Справка в центр занятости',\n                },\n            ]}\n            />} />\n\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport MainButton from '../Buttons/MainButton';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\nimport format from '../../scripts/helperFunctions/format';\n\n\nexport default class BaseForm extends React.Component {\n    static propTypes = {\n        title: PropTypes.string(),\n        fields: PropTypes.array(),\n\n        /** \n         * Действие при нажатии кнопки \"подтвердить\"\n         */\n        onSubmit: PropTypes.func,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    static defaultProps = {\n        // Все свойства указывать обязательно!\n        // стандартными не заменяем\n    }\n\n    render() {\n        return (\n            <div class=\"w-full max-w-3xl mx-auto\">\n            <form class=\"bg-white shadow-md relative rounded px-8 pt-6 pb-8 mb-4 mt-16\">\n            <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                \n                <div class=\"mb-8\">\n                <h4 class=\"block text-blue-darker font-black text-5xl mb-2 text-center\" for=\"service\">\n                    {this.props.title}\n                </h4>\n                </div>\n                {\n                    this.props.fields.map(field => (\n                        <div class=\"mb-8\">\n                            <label class=\"block text-blue-darker text-3xl font-black mb-2\" for={field.id}>\n                                {field.label}\n                            </label>\n                            <input\n                            class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                            text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                            id={field.id} name={field.name} type={field.type} value={field.value}\n                            onChange={(e) => {\n                                let d = {}\n                                d[field.name] = e.target.value\n                                this.setState(d)\n                            }}/>\n                        </div>\n                        )\n                    )\n                }\n\n                <div class=\"grid h-28 grid-cols-1 grid-rows-1\">\n                <MainButton className=\"hover:bg-blue-lighter\" direction=\"right\" size=\"lg\" onClick={(e) => {\n                    e.preventDefault()\n                    this.props.onSubmit({...this.state})\n                    }}>\n                    Заказать\n                </MainButton>\n                {/*\n                <a class=\"inline-block align-baseline font-bold text-2xl text-blue-lighter\n                hover:text-blue-darker\" href=\"#\">\n                    Ошибка в данных?\n                </a>\n                */}\n                </div>\n            </form>\n            <p class=\"text-center text-gray-500 text-lg mt-8\">\n                &copy; 2021 РМ Рейл\n            </p>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport ServicesMenu from './ServicesMenu';\nimport { Session } from '../../scripts/user/Session';\nimport { userRoles } from '../../scripts/user/User';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport Finance from './Finance';\nimport BaseForm from '../Forms/BaseForm'\nimport AutoMenu from '../Menus/AutoMenu';\n\nexport default class ServicesRoutes extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true, url: props.location.pathname}\n    }\n\n    componentDidMount() {\n        const search = this.props.location.search;\n        this.allowGuest = ((new URLSearchParams(search).get(\"guest\")) === 'true') || false;\n\n        this.setState({session: Session.getCurrent(), loading: false}, () => {\n            if (!this.state.session.user.roles.has(userRoles.EMPLOYEE) && !this.allowGuest) {\n                this.props.history.push('/forms/ask-login?success=/services&fail=/services?guest=true');\n            }\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.pathname != prevProps.location.pathname) {\n            this.setState({url: this.props.location.pathname})\n        }\n    }\n\n    render() {\n        \n        return (\n            <Switch>\n            {/*<Route path=\"/services\" component={Services}/>*/}\n            \n            <Route path='/services' render={(props) =>\n                <>\n                <div className=\"container mx-auto text-center\">\n        \n                    {/* Контейнер с кнопками */}\n                    {console.log(this.state.url)}\n                    <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                    <AutoMenu url={this.state.url} {...props}/>\n                    </div>\n                </div>\n                </>\n            }/>\n\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ModalBackground extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при закрытии окна\n         *  @default (e) => {e.preventDefault()}\n         */\n        onClose: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onClose: (e) => {e.preventDefault()},\n    }\n\n    constructor(props) {\n        super(props);\n        this.background = React.createRef();\n    }\n\n    render() {\n        return (\n            <div ref={this.background}\n            class=\"fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 flex items-center justify-center\"\n            onClick={(e) => {\n                if (e.target == this.background.current)\n                    this.props.onClose(e)\n            }}>\n            {this.props.children}\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ModalClose extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при закрытии окна\n         *  @default (e) => {e.preventDefault()}\n         */\n        onClose: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onClose: (e) => {e.preventDefault()},\n    }\n\n    render() {\n        return (\n            <button type=\"button\" class=\"absolute right-2 top-2 p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500\"\n            onClick={(e) => this.props.onClose(e)}>\n            <span class=\"sr-only\">Close menu</span>\n            <svg class=\"h-12 w-12\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n            </button>\n        );\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport '../../../assets/css/postcard.css'\nimport InputMask from 'react-input-mask';\nimport format from '../../../scripts/helperFunctions/format';\nimport \"../../../assets/css/animate-ellipsis.css\"\nimport ModalBackground from \"../../Modals/ModalBackground\"\nimport ModalClose from '../../Modals/ModalClose';\n\n\nexport default class ReadCardForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при прочтении карты\n         *  @default (e) => {e.preventDefault()}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Действие при отмене ввода\n         *  @default (e) => {e.preventDefault()}\n         */\n        onCancel: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onSubmit: (data) => {},\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {card: '', loading: false}\n        this.background = React.createRef();\n    }\n\n    onInput = (event) => {\n        //event.preventDefault();\n        let number = event.target.value;\n\n        if (this.countdown)\n            clearTimeout(this.countdown)\n        this.countdown = setTimeout((e) => {this.props.onSubmit({card: number})}, 1500);\n        \n        if (!this.state.loading)\n        {\n            this.setState({loading: true})\n        }\n    }\n\n    componentDidMount() {\n    }\n    \n    render() {\n        return (\n            <ModalBackground onClose={(e) => this.props.onCancel(e)}>\n            <form class=\"max-w-lg pt-4 pb-8 px-8 bg-gray-800 shadow-xl rounded-lg text-center relative\">\n                <div class=\"mt-4 w-20 h-20 mx-auto relative items-center justify-center flex\">\n                {\n                    this.state.loading\n                    ?\n                    <svg class=\"animate-spin h-14 w-14 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                        <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    :\n                    <>\n                    <span class=\"absolute left-4 top-4 flex h-12 w-12\">\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75\"></span>\n                    </span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 20 20\" viewBox=\"0 0 20 20\" fill=\"#FFFFFF\"><rect fill=\"none\" height=\"20\" width=\"20\"/><path d=\"M5.41,14.59l-1.06,1.06C2.9,14.21,2,12.21,2,10c0-2.21,0.9-4.21,2.34-5.66l1.06,1.06C4.23,6.58,3.5,8.21,3.5,10 S4.23,13.42,5.41,14.59z M16.5,10c0,1.79-0.73,3.42-1.91,4.59l1.06,1.06C17.1,14.21,18,12.21,18,10c0-2.21-0.9-4.21-2.34-5.66 l-1.06,1.06C15.77,6.58,16.5,8.21,16.5,10z M13.5,10c0,0.96-0.39,1.84-1.03,2.47l1.06,1.06C14.44,12.63,15,11.38,15,10 c0-1.38-0.56-2.63-1.46-3.54l-1.06,1.06C13.11,8.16,13.5,9.04,13.5,10z M6.5,10c0-0.96,0.39-1.84,1.03-2.47L6.46,6.46 C5.56,7.37,5,8.62,5,10c0,1.38,0.56,2.63,1.46,3.54l1.06-1.06C6.89,11.84,6.5,10.96,6.5,10z M10,8.25c-0.97,0-1.75,0.78-1.75,1.75 s0.78,1.75,1.75,1.75s1.75-0.78,1.75-1.75S10.97,8.25,10,8.25z\"/></svg>\n                    </>\n                }\n                </div>    \n\n                <div>\n                    <h2 class=\"text-white text-4xl font-semibold\">\n                        Приложите карту сотрудника\n                    </h2>\n                </div>\n                \n                <input \n                class=\"absolute opacity-0 top-0 left-0 block w-screen h-full max-w-lg\"\n                name=\"card\"\n                onChange={this.onInput}\n                autoFocus>\n                </input>\n\n                <ModalClose onClose={(e) => this.props.onCancel(e)}></ModalClose>\n            </form>\n            </ModalBackground>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../Buttons/MainButton';\n\nconst directions = [\"left\", \"bottom\", \"top\", \"right\"];\n\nexport default class ToolbarMain extends React.Component {\n\n    static propTypes = {\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * @default []\n         * @example\n         *      [{text: \"На главную\",\n         *      onClick: (e) => {\n         *      e.preventDefault();\n         *      this.props.history.push(\"/\")\n         *      }}]\n         */\n        buttons: PropTypes.array,\n    }\n\n    static defaultProps = {\n        buttons: [],\n    }\n\n    render() {\n        let n = this.props.buttons.length;\n        let buttons = this.props.buttons;\n\n        return (\n            <div className={`grid h-56 grid-cols-${n > 1 ? n : 2} grid-rows-1 gap-4 py-10 absolute bottom-0 left-0 right-0`}>\n            {\n                buttons.map((button,index) => {\n                    return <MainButton className=\"col-span-1 row-span-1 bg-blue-lighter hover:bg-red\"\n                    size=\"lg\"\n                    direction={n === 1\n                        ? directions[0]\n                        : index === n - 1\n                            ? directions[directions.length - 1]\n                            : directions[index % directions.length]}\n                    onClick={button.onClick}>\n                        {button.text}\n                    </MainButton> \n                })\n            }\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class FailReport extends React.Component {\n    render() {\n        return (\n            <div class=\"flex items-center gap-4 bg-green-500 p-4 rounded-md max-w-5xl mx-auto\">\n            <div class=\"w-max\">\n                <div class=\"h-24 w-28 flex text-white border-r-4 border-white\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n                    <path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n                    </svg>\n                </div>\n            </div>\n            <div class=\"space-y-1 pl-2 text-3xl text-left\">\n                <h6 class=\"font-black text-white\">{this.props.children}</h6>\n                <p class=\"font-black text-2xl text-gray-100\">{this.props.detail}</p>\n            </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport SuccessReport from '../../SuccessReport'\nimport format from '../../../scripts/helperFunctions/format';\nimport ToolbarSecondary from '../../Toolbars/ToolbarSecondary';\n\nexport default class ServiceAfterSuccess extends React.Component {\n\n    // TODO: подключить эту штуку в forms\n    // TODO: сделать похожие формы при ошибке, а также после входа в систему\n\n    static propTypes = {\n        /**\n         *  Объект \"класса\" user\n         */\n        user: PropTypes.object,\n\n        /**\n         * Название услуги, которую мы только что отправили\n         */\n        serviceText: PropTypes.string,\n\n        /** \n         * Действие при продолжении сессии (нажали на кнопку \"Продолжить как ...\")\n         */\n        onContinue: PropTypes.func,\n\n        /** \n         * Действие при выходе (нажали на кнопку \"Завершить сеанс\")\n         */\n        onExit: PropTypes.func,\n    }\n\n    /** \n     * ОБЯЗАТЕЛЬНО ЗАПОЛНИТЕ ВСЕ ПРОПЫ!!!\n     */\n    static defaultProps = {\n\n    }\n\n    render() {\n        return (\n            <div class=\"container mt-32 mx-auto\">\n                <SuccessReport detail=\n                {`Уведомление о готовности и способе выдачи прийдет на ваш номер телефона\n                ${format(this.props.user.phoneNumber, ' ## (###) ### ##-##')}`}>\n                    Вы успешно отправили заявку <br/>\n                    \"{this.props.serviceText}\" <br/>\n                    на имя {\" \" + this.props.user.getFullName().firstName}\n                    {\" \" + this.props.user.getFullName().lastName}\n                </SuccessReport>\n                <div class=\"max-w-5xl mx-auto mt-8\">\n                    <ToolbarSecondary buttons={[\n                        {\n                            text: \"Продолжить как \" + this.props.user.getFullName().firstName,\n                            onClick: (e) => this.props.onContinue(),\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"Завершить сеанс\",\n                            onClick: (e) => this.props.onExit(),\n                            timeout: 20,\n                            //color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport FailReport from '../../FailReport'\nimport format from '../../../scripts/helperFunctions/format';\nimport ToolbarSecondary from '../../Toolbars/ToolbarSecondary';\n\nexport default class ServiceAfterFail extends React.Component {\n\n    // TODO: подключить эту штуку в forms\n    // TODO: сделать похожие формы при ошибке, а также после входа в систему\n\n    static propTypes = {\n        /**\n         *  Объект \"класса\" user\n         */\n        user: PropTypes.object,\n\n        /**\n         * Название услуги, которую мы только что отправили\n         */\n        serviceText: PropTypes.string,\n\n        /** \n         * Действие при продолжении сессии (нажали на кнопку \"Попробовать ещё раз\")\n         */\n        onContinue: PropTypes.func,\n\n        /** \n         * Действие при выходе (нажали на кнопку \"Завершить сеанс\")\n         */\n        onExit: PropTypes.func,\n    }\n\n    /** \n     * ОБЯЗАТЕЛЬНО ЗАПОЛНИТЕ ВСЕ ПРОПЫ!!!\n     */\n    static defaultProps = {\n\n    }\n\n    render() {\n        return (\n            <div class=\"container mt-32 mx-auto\">\n                <FailReport>\n                    Мы не смогли отправить заявку <br/>\n                    \"{this.props.serviceText}\" <br/>\n                    на имя {\" \" + this.props.user.getFullName().firstName}\n                    {\" \" + this.props.user.getFullName().lastName}\n                </FailReport>\n                <div class=\"max-w-5xl mx-auto mt-8\">\n                    <ToolbarSecondary buttons={[\n                        {\n                            text: \"Попробовать ещё раз\",\n                            onClick: (e) => this.props.onContinue(),\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"На главный экран\",\n                            onClick: (e) => this.props.onExit(),\n                            timeout: 60,\n                            //color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport {getFormInfo} from \"../../scripts/api/contentApi\"\nimport { requestService } from '../../scripts/api/realApi';\nimport {Session} from '../../scripts/user/Session'\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport BaseForm from './BaseForm';\nimport LoaderScreen from '../LoaderScreen';\n\nexport default class FormTask extends React.Component {\n    static propTypes = {\n        /** \n         * uuid формы\n         */\n        uuid: PropTypes.number,\n\n        /** \n         * действие при ошибке\n         */\n        onFail: PropTypes.func,\n\n        /** \n         * Действие при успешной отправке формы\n         */\n        onSuccess: PropTypes.func,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    onFormSubmit(data) {\n        this.setState({loading: true})\n        requestService(this.state.session, this.props.uuid, data)\n        .then((result) => {this.setState({loading: false}); this.props.onSuccess(result)})\n        .catch((error) => {this.setState({loading: false}); this.props.onFail(error)})\n    }\n\n    componentDidMount() {\n        getFormInfo(this.props.uuid).then(result => {\n            this.setState({form: result, session: Session.getCurrent(), loading: false})\n        })\n        .catch(error => {\n            this.props.onFail(error)\n        })\n    }\n\n    render() {\n        if (this.state.loading) {\n            return <LoaderScreen/>\n        }\n\n        return (\n        <div class=\"max-w-3xl mx-auto\">\n        <BaseForm\n        title={this.state.form.title}\n        fields={this.state.form.fields}\n        onSubmit={this.onFormSubmit.bind(this)}/>\n        \n        <div class=\"-mx-5 my-8\">\n        <ToolbarSecondary size=\"lg\" buttons={[\n            {\n                text: \"Отмена\",\n                onClick: (e) => {\n                    e.preventDefault();\n                    this.props.onFail.call(this);\n                },\n                //timeout: 60,\n            },\n            /**\n            {\n                text: \"Другой пользователь\",\n                onClick: (e) => {\n                    e.preventDefault();\n                    this.onLogout.call(this)\n                    .then((() => this.props.history.push(\n                        `/forms/login?success=/forms/service/${serviceId}&fail=/forms/service/${serviceId}`\n                    )).call(this))\n                },\n                color: 'blue-darker'\n            },\n             */\n        ]}/>\n        </div>\n        </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport {\n    // BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport AskLoginForm from './Login/AskLoginForm';\nimport InputPhoneForm from './Login/InputPhoneForm';\nimport ConfirmForm from './Login/ConfirmNumberForm';\nimport LoaderScreen from '../LoaderScreen'\nimport ReadCardForm from './Login/ReadCardForm';\n\nimport reducer from '../../scripts/reducer'\n\nimport { userRoles } from '../../scripts/user/User';\nimport {Session} from '../../scripts/user/Session'\nimport { ACTION } from '../../scripts/constants/dummyConstants';\n\nimport ToolbarMain from '../Toolbars/ToolbarMain';\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport FailReport from '../FailReport';\nimport BaseForm from './BaseForm';\n\nimport ServiceAfterSuccess from './info/ServiceAfterSuccess';\nimport ServiceAfterFail from './info/ServiceAfterFail';\nimport getFormInfo from \"../../scripts/api/contentApi\"\nimport FormTask from './FormTask';\n\n// на экране \"подтвердите номер\", маска номера подтверждения\n// изменить только в случае смены длины номера, это важно\nconst confirmNumberMask = '99999';\nexport default class Forms extends React.Component {\n\n    // Дописать действия при отправке формы (props.onSubmit)\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    componentDidMount() {\n        this.setState({session: Session.getCurrent(), loading: false})\n\n        const search = this.props.location.search;\n        const success = new URLSearchParams(search).get(\"success\") || '/';\n        const fail = new URLSearchParams(search).get(\"fail\") || '/';\n\n        this.onSuccess = (callback) => {\n            this.props.history.push(success)\n            callback?.();\n        }\n\n        this.onFail = (callback) => {\n            this.props.history.push(fail)\n        }\n\n        //console.log(success)\n        //console.log(fail)\n        \n    }\n\n    onSuccess = (callback) => {\n        this.props.history.push('/')\n    }\n\n    onFail = (callback) => {\n        this.props.history.push('/')\n    }\n\n    componentWillMount() {\n        \n    }\n\n    setLoading(value, callback) {\n        this.setState({loading: value}, callback?.())\n    }\n\n    updateSession(result, callback = () => {}) {\n        this.setState({session: Session.getCurrent(), result: result}, callback)\n    }\n\n    onCardSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n        let onSuccess = this.onSuccess.bind(this);\n        let onFail = this.onFail.bind(this)\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.READ_CARD, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // WARNING\n                onSuccess()\n                resolve(result)\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                    Неверный номер карты\n                </FailReport>, setLoading(false, reject(result)));\n                reject(result)\n            })\n        })\n    }\n\n    onPhoneSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGIN, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // ...\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                    Неверный номер телефона\n                </FailReport>, setLoading(false, reject(result)));\n                // ...\n                reject(result)\n            })\n        })\n    }\n\n    \n    // TODO: выставить confirmNumberChange наружу\n    onConfirmNumberChange = (event) => {\n        let confirmNumber = event.target.value.replace(/[ _()-]/g, '');\n\n        this.setState({\n            confirmNumber: confirmNumber,\n        });\n\n        console.log(confirmNumber);\n\n        if (confirmNumber.length === confirmNumberMask.length) {\n            this.onConfirmNumberSubmit({phoneNumber: this.state.session.user.phoneNumber, confirmNumber: confirmNumber})\n        }\n    }\n\n    onConfirmNumberSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        let onSuccess = this.onSuccess.bind(this);\n        let onFail = this.onFail.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.CONFIRM, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // ...\n                onSuccess();\n                resolve(result)\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                        Введён неверный номер подтверждения\n                    </FailReport>, setLoading(false, reject(result)));\n                // ...\n                reject(result)\n            })\n        })\n    }\n\n    onLogout(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGOUT, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>Произошла ошибка</FailReport>,\n                     setLoading(false, reject(result)));\n            })\n        })\n    }\n\n    onServiceSubmit(data) {\n        const setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        const onSuccess = this.onSuccess.bind(this),\n        onFail = this.onFail.bind(this),\n        onLogout = this.onLogout.bind(this);\n\n\n        const lifeReport = <ServiceAfterSuccess\n            user={this.state.session.user}\n            serviceText={data.serviceId}\n            onContinue = {(e) => {onSuccess()}}\n            onExit = {() => {\n                let logout = onLogout();\n                logout.then(setTimeout(this.props.history.push('/'), 1000))\n                //.then(result => onSuccess())\n                //.catch(result => onSuccess())\n            }}\n            />\n\n        const deathReport = <ServiceAfterFail\n            user={this.state.session.user}\n            serviceText={data.serviceId}\n            onContinue = {(e) => {updateSession(undefined, setLoading(false))}}\n            onExit = {(e) => {\n                onFail()\n            }}\n            />\n\n        // Запускаем загрузку\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.REQSERVICE, data: data}).then((result) => {\n                updateSession(lifeReport, setLoading(false));\n                // ...\n            },\n            )\n            .catch(error => {\n                updateSession(deathReport, setLoading(false));\n                // ...\n            })\n        }) \n    }\n    \n\n    render() {\n        \n\n        if (this.state.loading)\n            return <LoaderScreen/>\n        else {\n            const user = this.state.session.user;\n            console.log(this.state.session);\n            //console.log(Session.getCurrent());\n        return (\n            <Switch>\n            <Route path='/forms/ask-login' \n            render={(props) => (\n            <div className=\"container mx-auto text-center relative h-screen\">\n            <AskLoginForm {...props}/>\n            <ToolbarMain buttons={[\n                {\n                    text: \"Продолжить как гость\",\n                    onClick: (e) => {\n                        e.preventDefault();\n                        this.onFail.call(this)\n                    }\n                },\n                {\n                    text: \"Войти в систему\",\n                    onClick: (e) => {\n                        e.preventDefault();\n                        (() => this.props.history.push('/forms/login')).call(this);\n                    }\n                },\n            ]}\n            />\n            </div>\n            ) }\n            />\n            <Route path='/forms/login' render={(props) => (\n                user.roles.has(userRoles.UNCONFIRMED)\n                ?\n                <div className=\"container mx-auto text-center relative max-w-5xl\"> \n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"mt-5 text-3xl text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                \n                    <ConfirmForm phoneNumber={user.phoneNumber}\n                    onChange={this.onConfirmNumberChange.bind(this)}\n                    numberMask = {confirmNumberMask}\n                    {...props}/>\n                    <div className=\"mt-16 -mx-5\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            timeout: 60,\n                        },\n                        {\n                            text: \"Отправить номер повторно\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onPhoneSubmit.call(this, {phoneNumber: user.phoneNumber})\n                            },\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"Ввести другой номер\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onLogout.call(this)\n                            },\n                            color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                    </div>\n                </div>\n                : user.roles.has(userRoles.INPUT_PHONE)\n\n                    ? <>\n                    <div className=\"container mx-auto text-center relative max-w-5xl\">\n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"text-3xl mt-5 text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                    <InputPhoneForm\n                    onSubmit = {this.onPhoneSubmit.bind(this)}\n                    phoneNumber = {user?.phoneNumber}\n                    {...props}/>\n                    <div className=\"mt-16 -mx-5\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            timeout: undefined,\n                        },\n                    ]}/>\n                    </div>\n                    </div>\n                    </>\n\n                    : <>\n                    <div className=\"container mx-auto text-center relative max-w-5xl\">\n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"text-3xl mt-5 text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                    </div>\n\n                    <ReadCardForm onSubmit={this.onCardSubmit.bind(this)}\n                    onCancel={this.onFail.bind(this)}\n                    />\n                    </>\n                )} />\n\n            {\n                /**\n                 * Логика работы формы с отправкой услуги\n                 * this.state.result содержит в себе компонент\n                 */\n            }\n            <Route path='/forms/send/:id' render={(props) => {\n                const serviceId = props.match.params.id;\n                return <FormTask session={this.state.session} uuid={serviceId} onSuccess={this.onSuccess} onFail={this.onFail}/>\n            }}/>\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n        }\n    }\n}","import React from 'react';\nimport Lightbox from \"react-awesome-lightbox\";\nimport LoaderScreen from \"../LoaderScreen\"\nimport { getMaps } from '../../scripts/api/contentApi';\n// You need to import the CSS only once\nimport \"react-awesome-lightbox/build/style.css\";\nimport \"../../assets/css/lightbox-custom.css\"\n\nexport default class MapDetail extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {imageList: [], loading: true}\n    }\n\n    async componentDidMount() {\n        /*\n        * Тут в будущем можно будет написать запрос к апи\n        * или ещё к чему\n        */\n        \n\n        // Это для симуляции загрузки\n        const response = await getMaps(this.props.category)\n\n        this.setState({ imageList: response, loading: false });\n    }\n\n    render() {\n        console.log(this.state.imageList);\n        if (this.state.loading) {\n            return (\n                <LoaderScreen/>\n            );\n        }\n        else {\n            return (\n                <Lightbox images={this.state.imageList} allowRotate={false} doubleClickZoom={2}\n                onClose={() => {this.props.history.push('/maps')}}/>\n            );\n        }\n    }\n}\n","import React from 'react';\nimport ServicesMenu from '../Services/ServicesMenu';\nimport MapDetail from './MapDetail';\nimport AutoMenu from '../Menus/AutoMenu';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nexport default class Maps extends React.Component {\n\n    render() {\n        return (\n            <Switch>\n            <Route path='/maps/:category' render={(props) => \n                {\n                    return <MapDetail category={props.match.params.category} {...props}/>\n                }\n            }/>\n\n            <Route exact path=\"/maps\" render={(props) => \n                <>\n                <div className=\"container mx-auto text-center\">\n        \n                    {/* Контейнер с кнопками */}\n                    {console.log(this.props.location.pathname)}\n                    <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                    <AutoMenu url={this.props.location.pathname} {...props}/>\n                    </div>\n                </div>\n                </>} />\n\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\n\nimport ContentButton from '../Buttons/ContentButton';\n\nimport LoaderScreen from '../LoaderScreen'\nimport { getNewsList } from '../../scripts/api/contentApi';\n//import '../../assets/css/scrollbar.css'\n\nconst gutter = 48;\nexport default class News extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {numPages: 1, pageNumber: 1, \n        window: {width: window.innerWidth, height: window.innerHeight},\n        loading: true}\n    }\n\n    componentDidMount() {\n        getNewsList().then(result => {\n            this.setState({list: result, current: 0, loading: false})\n        })\n        .catch(error => {\n            this.setState({loading: false})\n        })\n    }\n\n    previousEnty() {\n        this.changeEntry.call(this, 1);\n    }\n\n    nextEntry() {\n        this.changeEntry.call(this, -1);\n    }\n\n    changeEntry(offset) {\n        this.setState({pageNumber: 1, current: this.state.current + offset})\n    }\n\n\n    onDocumentLoadSuccess({ numPages }) {\n        this.setState({numPages: numPages, pageNumber: 1});\n    }\n\n    changePage(offset) {\n        this.setState({pageNumber: this.state.pageNumber + offset})\n    }\n\n    previousPage() {\n        this.changePage.call(this, -1);\n    }\n\n    nextPage() {\n        this.changePage.call(this, 1);\n    }\n\n    render() {\n\n        if (this.state.loading) {\n            return <LoaderScreen/>\n        }\n\n        else\n        return (\n        <div class=\"bg-gray-900 pb-24 pt-24 relative\">\n            <Document\n                file={this.state.list[this.state.current].url}\n                renderMode={'svg'}\n                onLoadSuccess={this.onDocumentLoadSuccess.bind(this)}\n            >\n                <Page \n                width={this.state.window.width - gutter*2}\n                className={'flex justify-center select-none'}\n                pageNumber={this.state.pageNumber} />\n            </Document>\n            <div class=\"fixed top-0 left-0 right-0 flex items-center h-24 bg-gray-900\">\n                <div class=\"text-white px-8 gap-8 flex justify-center items-center w-full relative\">\n                    <div class={`justify-start items-center absolute left-10`}>\n                        <ContentButton\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.props.history.push(\"/\")\n                            }}\n                            direction=\"none\"\n                            className=\"justify-start bg-red hover:bg-blue-lighter\"\n                        >\n                            Выход\n                        </ContentButton>\n                    </div>\n                    \n                    <ContentButton\n                        disabled={this.state.current === this.state.list.length - 1}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.previousEnty.call(this)\n                        }}\n                        direction=\"left\"\n                    >\n                    Предыдущий выпуск\n                    </ContentButton>\n\n                    <p class=\"text-3xl font-black\">\n                        {this.state.list[this.state.current].title}\n                    </p>\n\n                    <ContentButton\n                        disabled={this.state.current === 0}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.nextEntry.call(this)\n                        }}\n                        direction=\"right\"\n                    >\n                    Следующий выпуск\n                    </ContentButton>\n\n                </div>\n            </div>\n\n            <div class=\"fixed bottom-0 left-0 right-0 flex items-center h-24 bg-gray-900\">\n                <div class=\"text-white px-8 gap-8 w-full flex justify-center items-center\">\n\n                    <ContentButton\n                        disabled={this.state.pageNumber <= 1}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.previousPage.call(this)\n                        }}\n                        direction=\"left\"\n                    >\n                        Назад\n                    </ContentButton>\n\n                    <p class=\"text-3xl\">\n                    Страница {this.state.pageNumber || (this.state.numPages ? 1 : '--')} из {this.state.numPages || '--'}\n                    </p>\n\n                    <ContentButton\n                        disabled={this.state.pageNumber >= this.state.numPages}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.nextPage.call(this)\n                        }}\n                        direction=\"right\"\n                    >\n                    Вперёд\n                    </ContentButton>\n                </div>\n            </div>\n        </div>\n        )\n    }\n}","import logo from './logo.svg';\nimport MainPage from './components/MainPage/MainPage';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport ServicesRoutes from './components/Services/Services';\nimport Forms from './components/Forms/UserForms';\nimport Maps from './components/Maps/Maps';\nimport News from './components/News/News';\nimport { Session } from './scripts/user/Session';\n\nfunction App() {\n  // Входим в систему как гость, если не находим сессии\n    if (typeof Session.getCurrent() === 'undefined' || Object.keys(Session.getCurrent()).length === 0) {\n        Session.startNew()\n    }\n\n    //console.log(Session.getCurrent())\n  \n    return (\n        <Router>\n        <Switch>\n        {/*<Route path=\"/services\" component={Services}/>*/}\n        <Route path=\"/forms\" render={(props) => <Forms {...props}/> } />\n        <Route path=\"/services\" render={(props) => <ServicesRoutes {...props}/> } />\n        <Route path=\"/maps\" render={(props) => <Maps {...props}/> } />\n        <Route path=\"/news\" render={(props) => <News {...props}/> } />\n        <Route path=\"/\" render={(props) => <MainPage {...props}/> } />    \n        <Redirect to=\"/\" />\n        </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nimport './index.css';\nimport './assets/css/fonts.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n        <App />\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}