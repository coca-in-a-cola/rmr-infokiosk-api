{"version":3,"sources":["logo.svg","assets/images/background-0.png","components/MainPage/Background.jsx","components/MainPage/ButtonContainer.jsx","components/MainPage/Logo.jsx","components/Buttons/MainButton.jsx","components/Forms/Login/AskLoginForm.jsx","scripts/helperFunctions/format.js","components/VirtualPinpad.jsx","components/Forms/Login/InputPhoneForm.jsx","components/Forms/Login/ConfirmNumberForm.jsx","components/LoaderScreen.jsx","scripts/user/User.js","scripts/user/Session.js","scripts/constants/dummyConstants.js","scripts/api/fakeApi.js","scripts/reducer.js","components/Buttons/TimeoutButtonOutline.jsx","components/Forms/UserInfo.jsx","components/Buttons/SecondaryButton.jsx","components/Buttons/ContentButton.jsx","scripts/api/contentApi.js","components/FailReport.jsx","components/Toolbars/ToolbarSecondary.jsx","components/Menus/GoBackComponents.jsx","components/Menus/AutoMenu.jsx","components/MainPage/MainPage.jsx","components/Services/ServicesMenu.jsx","components/Services/Finance.jsx","components/Forms/BaseForm.jsx","components/Services/Services.jsx","components/Modals/ModalBackground.jsx","components/Modals/ModalClose.jsx","components/Forms/Login/ReadCardForm.jsx","components/Toolbars/ToolbarMain.jsx","components/SuccessReport.jsx","components/Forms/info/ServiceAfterSuccess.jsx","components/Forms/info/ServiceAfterFail.jsx","components/Forms/UserForms.jsx","components/Maps/MapDetail.jsx","components/Maps/Maps.jsx","components/News/News.jsx","App.js","reportWebVitals.js","index.js"],"names":["Background","className","src","this","props","url","alt","React","Component","ButtonContainer","children","Logo","viewBox","xmlns","id","fill","fill-rule","d","clip-rule","MainButton","text","icon","arrow","left","top","right","bottom","size","ParentTagName","link","Link","to","undefined","onClick","dangerouslySetInnerHTML","__html","direction","stroke","stroke-linecap","stroke-linejoin","stroke-width","defaultProps","AskLoginForm","location","search","substr","indexOf","length","class","format","value","pattern","i","v","toString","replace","_","ModalBackground","pins","e","style","width","map","char","onInput","x","console","log","InputPhoneForm","onPhoneChange","event","number","target","setState","phoneNumber","state","searchInput","focus","inputRef","inputEl","mask","maskChar","onChange","type","preventDefault","onSubmit","data","ConfirmNumberForm","numberMask","userRoles","defaultUser","name","roles","Set","User","overrides","Object","assign","result","lastName","firstName","middleName","array","split","keys","forEach","key","JSON","stringify","getInfo","current","defaultSession","user","validThrough","Date","authToken","refreshToken","Session","changes","import","export","JSONstring","parse","Cookies","set","expires","secure","get","status","ACTION","DUMMY_PHONE","DUMMY_USER_NAME","DUMMY_TOKEN","inputCard","session","Promise","resolve","reject","card","setTimeout","startNew","add","Math","random","inputNumber","confirmNumber","logout","requestService","action","a","getCurrent","reduce","sizes","height","border","padding","TimeoutButtonOutline","timer","timeout","onTimerTick","call","color","hoverText","contrastColor","hoverBg","Forms","loading","callback","setLoading","bind","updateSession","reducer","then","catch","has","getFullName","onLogout","SecondaryButton","description","ContentButton","disabled","getMaps","category","fetch","response","ok","json","error","FailReport","detail","ToolbarSecondary","buttons","button","index","ServicesGoBack","history","push","component","currentPath","pathname","lastIndexOf","getGoBackPath","switches","y","span","GoBackComponent","AutoMenu","prevProps","componentDidMount","menu","goBack","MainPage","backgroundImage","ServicesMenu","goBackText","BaseForm","for","serviceText","phone","ServicesRoutes","allowGuest","URLSearchParams","path","render","background","createRef","ref","onClose","ModalClose","aria-hidden","ReadCardForm","countdown","clearTimeout","onCancel","cx","cy","r","enable-background","autoFocus","directions","ToolbarMain","n","ServiceAfterSuccess","onContinue","onExit","ServiceAfterFail","confirmNumberMask","onSuccess","onFail","onConfirmNumberChange","onConfirmNumberSubmit","success","fail","lifeReport","serviceId","deathReport","onPhoneSubmit","onCardSubmit","match","params","onServiceSubmit","MapDetail","imageList","images","allowRotate","doubleClickZoom","Maps","exact","News","numPages","pageNumber","window","innerWidth","innerHeight","list","changeEntry","offset","changePage","file","renderMode","onLoadSuccess","onDocumentLoadSuccess","gutter","previousEnty","title","nextEntry","previousPage","nextPage","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"sZAAe,I,2BCAA,MAA0B,yC,OCEpBA,E,4JACjB,WACE,OACE,sBAAKC,UAAU,wDAAf,UACI,qBAAKC,IAAKC,KAAKC,MAAMC,IAAKJ,UAAU,4DAA4DK,IAAI,gGACpG,qBAAKL,UAAU,8F,GALaM,IAAMC,WCAzBC,E,4JACjB,WACE,OACE,qBAAKR,UAAU,uBAAf,SACA,qBAAKA,UAAU,uEAAf,SACKE,KAAKC,MAAMM,iB,GALqBH,IAAMC,WCA9BG,E,4JACjB,WACE,OACE,qBAAKV,UAAY,sBAAjB,SACI,yBAAQA,UAAY,wEAApB,UACI,sBAAMA,UAAU,mBAAhB,gBACA,sBAAMA,UAAY,wBAAlB,SACA,qBAAKW,QAAQ,gBAAgBX,UAAY,cAAcY,MAAM,6BAA6BC,GAAG,iBAA7F,SACI,sBAAMb,UAAU,OAAOc,KAAK,UAAUC,YAAU,UAAUC,EAAE,ueAAueC,YAAU,gBAGjjB,sBAAKjB,UAAW,wBAAhB,UACI,sBAAMA,UAAU,GAAhB,SAAoB,uCACpB,oBAAIA,UAAU,qDAAd,gF,GAbcM,IAAMC,W,oFCKnBW,E,qQA2DF,CACX,GAAM,CACFC,KAAM,WACNC,KAAM,gBACNC,MAAO,aAEX,GAAM,CACFF,KAAM,WACNC,KAAM,gBACNC,MAAO,aAEX,GAAM,CACFF,KAAM,WACNC,KAAM,gBACNC,MAAO,gB,0DAIE,CACbC,KAAO,kBACPC,IAAM,kBACNC,MAAQ,qBACRC,OAAS,yB,6CAGb,WACI,MAAM,GAAN,OAAUvB,KAAKC,MAAMuB,Q,oBAGzB,WAAU,IAAD,OAECC,EAAgBzB,KAAKC,MAAMyB,KAAOC,IAAO,SACjD,OACE,eAACF,EAAD,CACA3B,UAAW,kIAEPE,KAAKC,MAAMH,UACf8B,GAAI5B,KAAKC,MAAMyB,KAAO1B,KAAKC,MAAMyB,UAAOG,EACxCC,QAAS9B,KAAKC,MAAMyB,UAAOG,EAAY7B,KAAKC,MAAM6B,QALlD,UAMI,sBAAKhC,UAAU,cAAf,UACM,WAAO,GAAI,EAAKG,MAAMiB,KACpB,OACA,qBAAKpB,UAAS,UACP,cAAI,GAAJ,GAAkB,EAAKG,MAAMuB,MAAMN,KAD5B,qCAGVa,wBAAyB,CAAEC,OAAQ,EAAK/B,MAAMiB,QALpD,GAUF,oBAAIpB,UAAS,UACN,YAAAE,KAAA,MAAkBA,KAAKC,MAAMuB,MAAMP,KAD7B,qCAAb,SAGKjB,KAAKC,MAAMM,cAIhBP,KAAKC,MAAMgC,UACf,qBAAKnC,UAAS,UACP,YAAAE,KAAA,MAAkBA,KAAKC,MAAMuB,MAAML,MAD5B,mFAIR,YAAAnB,KAAA,MAAoBA,KAAKC,MAAMgC,WAJvB,sBAAd,SAMI,qBAAKvB,MAAM,6BAA6BE,KAAK,OAAOH,QAAQ,YAAYyB,OAAO,eAA/E,SACI,sBAAMC,iBAAe,QAAQC,kBAAgB,QAAQC,eAAa,IAAIvB,EAAE,6BAG9Ee,S,GA/H0BzB,IAAMC,WAAzBW,EAmDVsB,aAAe,CAClBd,KAAM,KACNS,eAAWJ,EACXX,UAAMW,EACNtB,SAAU,wC,ICzDGgC,E,4JAEjB,WAIqBvC,KAAKC,MAAMuC,SAASC,OACpCC,OAAO1C,KAAKC,MAAMuC,SAASC,OAAOE,QAAQ,eAAiB,cAAcC,QAE1E,OACI,qBAAK9C,UAAU,4EAAf,SACI,sBAAK+C,MAAM,GAAX,UACA,qBAAK/C,UAAU,sCAAf,SACI,sBAAKY,MAAM,6BAA6BE,KAAK,eAAeiC,MAAM,4BAA4BpC,QAAQ,YAAtG,UACA,sBAAMK,EAAE,6YACR,sBAAMA,EAAE,oFAIZ,qBAAIhB,UAAU,kDAAd,mTAEI,uBACA,sBAAMA,UAAU,WAAhB,iK,GAtBsBM,IAAMC,W,yBCCjCyC,MANf,SAAgBC,EAAOC,GACnB,IAAIC,EAAI,EACJC,EAAIH,EAAMI,WACd,OAAOH,EAAQI,QAAQ,MAAM,SAAAC,GAAC,OAAIH,EAAED,SCcnBK,E,kDAcjB,WAAYrD,GAAQ,IAAD,8BACf,cAAMA,IAEDsD,KAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAH3C,E,8CAMnB,SAAWC,M,8BAIX,SAAiBA,M,oBAIjB,WAAU,IAAD,OACL,OACI,sBAAK1D,UAAU,4EAGf2D,MAAO,CAACC,MAAO,cAAe,aAAc,eAH5C,UAMI1D,KAAKuD,KAAKI,KAAI,SAAAC,GACV,OACI,+BApDC3C,EAsDuB2C,EAtDjB9B,EAsDuB,EAAK+B,QApDnD,wBAAQhB,MAAM,gBAAgBf,QAASA,EAAvC,SACI,qBAAKe,MAAM,SAAX,SACA,qBAAKA,MAAM,+EAAX,SACI,qBAAKA,MAAM,0CAAX,SACK5B,aANG,IAACA,EAAMa,KA2DnB,qBAAKhC,UAAU,aAAf,SACI,wBAAQ+C,MAAM,gBAAd,SACA,qBAAKA,MAAM,SAAX,SACI,qBAAKA,MAAM,0EAAX,SACI,qBAAKA,MAAM,sCAAX,SACA,sBAAKnC,MAAM,6BAA6BmC,MAAM,YAAYpC,QAAQ,YAAYG,KAAK,eAAnF,UAAkG,sBAAME,EAAE,gBAAgBF,KAAK,SAAQ,sBAAME,EAAE,8O,GAlD1HV,IAAMC,WAA9BiD,EASVhB,aAAe,CAClBuB,QAAS,SAACC,GAAOC,QAAQC,IAAIF,K,ICnBhBG,E,kDAyBjB,WAAYhE,GAAQ,IAAD,8BACf,cAAMA,IAKViE,cAAgB,SAACC,GACb,IAAIC,EAASD,EAAME,OAAOtB,MAAMK,QAAQ,WAAY,IACpDW,QAAQC,IAAII,GACZ,EAAKE,SAAS,CACVC,YAAaH,KARjBL,QAAQC,IAAI/D,EAAMsE,aAClB,EAAKC,MAAQ,CAACD,YAAatE,EAAMsE,aAHlB,E,qDAcnB,WACIvE,KAAKyE,YAAYC,U,oBAGrB,WAAU,IAAD,OAML,OACI,qCACA,qBAAK5E,UAAU,yCAAf,SACA,qBAAK+C,MAAM,SAAX,SAEA,uBAAM/C,UAAU,6CAAhB,UACI,qBAAK+C,MAAM,mFACX,oBAAI/C,UAAU,qDAAd,sHAGA,oBAAGA,UAAU,sCAAb,wXAC6E,uBAD7E,4PAIA,sBAAKA,UAAU,OAAf,UACA,sBAAKA,UAAU,+CAAf,UACI,8BAAK,cAAC,IAAD,CACL6E,SAAU,SAAAC,GAAO,OAAK,EAAKH,YAAcG,GACzCC,KAAK,qBACLC,SAAU,IACV/B,MAAO/C,KAAKC,MAAMsE,YAClBQ,SAAU/E,KAAKkE,cAGfpE,UAAU,wKAEVa,GAAG,WAAWqE,KAAK,UAGnB,cAAC,EAAD,CACAlF,UAAU,+BAA+B0B,KAAK,KAAKS,UAAU,QAC7DH,QAAS,SAAC0B,GACNA,EAAEyB,iBACFlB,QAAQC,IAAI,EAAKQ,MAAMD,aACvB,EAAKtE,MAAMiF,SAAS,CAACX,YAAa,EAAKC,MAAMD,eALjD,6EAWJ,oBAAGzE,UAAU,yCAAb,6DACoB,oCAOxB,cAAC,EAAD,CAAe+D,QAAS,SAACL,GAAD,OAAO,EAAKiB,YAAY1B,OAASS,Y,GAjGzBpD,IAAMC,WAA7B4D,EAoBV3B,aAAe,CAClB4C,SAAU,SAACC,KACXJ,SAAU,SAAChC,EAAO8B,GAAR,OAAiBd,QAAQC,IAAIjB,K,UCpB1BqC,E,uKAuCjB,WACIpF,KAAKyE,YAAYC,U,oBAIrB,WAAU,IAAD,OAOL,OACI,sBAAK5E,UAAU,mDAAf,UACA,qBAAK+C,MAAM,UAAX,SAEA,uBAAM/C,UAAU,4DAAhB,UACI,qBAAK+C,MAAM,mFACX,oBAAI/C,UAAU,qDAAd,0JAGA,oBAAGA,UAAU,gDAAb,oIAC6BgD,EAAO9C,KAAKC,MAAMsE,YAAa,uBAD5D,qGAEI,uBAFJ,2LAKA,sBAAKzE,UAAU,YAAf,UAEA,cAAC,IAAD,CACA6E,SAAU,SAAAC,GAAO,OAAK,EAAKH,YAAcG,GACzCC,KAAM7E,KAAKC,MAAMoF,WACjBP,SAAU,IACVC,SAAU,SAACvB,GAAD,OAAO,EAAKvD,MAAM8E,SAASvB,IACrC1D,UAAU,oKAEVa,GAAG,WAAWqE,KAAK,SAInB,oBAAGlF,UAAU,yCAAb,6DACoB,kCAOxB,cAAC,EAAD,CAAe+D,QAAS,SAACL,GAAD,OAAO,EAAKiB,YAAY1B,OAASS,Y,GAtFtBpD,IAAMC,WAAhC+E,EAiCV9C,aAAe,CAClByC,SAAU,SAAChC,EAAO8B,GAAR,OAAiBd,QAAQC,IAAIjB,IACvCwB,YAAa,eACbc,WAAY,S,IC5CC7E,E,4JACjB,WACE,OACE,sBAAKV,UAAU,kDAAf,UACI,qBAAKA,UAAU,iFAEf,qBAAKA,UAAW,0EAAhB,SACI,qBAAKW,QAAQ,gBAAgBX,UAAY,2BAA2BY,MAAM,6BAA6BC,GAAG,iBAA1G,SACI,sBAAMb,UAAU,OAAOc,KAAK,UAAUC,YAAU,UAAUC,EAAE,ueAAueC,YAAU,uB,GAR/hBX,IAAMC,W,iCCF3BiF,EACF,QADEA,EAGI,cAHJA,EAII,cAJJA,EAKC,WAIDC,EAAc,CACvBC,KAAM,iCACNjB,YAAa,eACbkB,MAAO,IAAIC,IAAI,CAACJ,KAGPK,EAAb,WAYI,aAA6B,IAAjBC,EAAgB,uDAAJ,GAOpB,OAPwB,oBACxBC,OAAOC,OAAO9F,KAAMuF,GACpBM,OAAOC,OAAO9F,KAAM4F,GAEQ,kBAAf5F,KAAKyF,OAAsBzF,KAAKyF,iBAAiBC,MAC1D1F,KAAKyF,MAAQ,IAAIC,IAAI1F,KAAKyF,QAEvBzF,KAnBf,+CAuBI,WACI,IAAM+F,EAAS,CACXC,SAAU,GACVC,UAAW,GACXC,WAAY,IAGZC,EAAQnG,KAAKwF,KAAKY,MAAM,KAExBnD,EAAI,EAOR,OANA4C,OAAOQ,KAAKN,GAAQO,SAAQ,SAAAC,GACpBtD,EAAIkD,EAAMvD,SACdmD,EAAOQ,GAAOJ,EAAMlD,MAClBA,KAGC8C,IAvCf,oBA4CI,WACI,OAAOS,KAAKC,UAAW,CACnBjB,KAAMxF,KAAKwF,KACXjB,YAAavE,KAAKuE,YAClBkB,MAAM,YAAKzF,KAAKyF,WAhD5B,mBAoDI,WAAuB,IAAjBG,EAAgB,uDAAJ,GACd,OAAO,IAAID,EAAKE,OAAOC,OAAO9F,KAAK0G,UAAWd,QArDtD,K,iBCZIe,EAAU,GAKDC,EAAiB,CAC1BC,KAAM,IAAIlB,EACVmB,aAAc,IAAIC,KAAK,wBACvBC,UAAW,GAGXC,aAAc,IAGLC,EAAb,6FACI,WAAiC,IAAjBtB,EAAgB,uDAAJ,GACxBe,EAAU,GAEVA,EAAUd,OAAOC,OAAOa,EAASC,GACjCD,EAAUd,OAAOC,OAAOa,EAASf,KALzC,mBASI,cATJ,kBAaI,WAA2B,IAAfuB,EAAc,uDAAJ,GAClBtB,OAAOC,OAAOa,EAASQ,KAd/B,wBAiBI,WAEI,OAAOD,EAAQE,OAAOF,EAAQG,YAnBtC,oBAsBI,WACI,OAAOb,KAAKC,UAAUE,KAvB9B,oBA0BI,SAAcW,GACV,OAAOd,KAAKe,MAAMD,GAAY,SAASf,EAAKxD,GACxC,MAAW,QAAPwD,EACO,IAAIZ,EAAKa,KAAKe,MAAMxE,IAGpB,gBAAPwD,EAA8B,IAAIQ,KAAKhE,GACpCA,OAjCnB,yBAsCI,WACIyE,IAAQC,IAAI,UAAWjB,KAAKC,UAAUE,GAAU,CAAEe,QAAS,EAAGC,QAAQ,MAvC9E,wBA2CI,WACI,OAAOnB,KAAKe,MAAOC,IAAQI,IAAI,gBA5CvC,KCPaC,EACA,UADAA,EAEH,OAFGA,EAGE,YAGFC,EACE,YADFA,EAEF,QAFEA,EAGD,SAHCA,EAIA,UAJAA,GAKG,kBCjBVC,GAAc,eAEdC,GAAkB,iHAClBC,GAAc,WAaPC,GAAY,SAACC,EAAShD,GAC/B,OAAO,IAAIiD,SAAQ,SAASC,EAASC,GAZf,YAcdnD,EAAKoD,KAELC,YAAW,WACPtB,EAAQuB,SAAS,CACb5B,KAAM,IAAIlB,EAAJ,2BAAawC,EAAQtB,MAArB,IAA2BrB,KAAMwC,GAAiBzD,YAAawD,GACjEtC,MAAO0C,EAAQtB,KAAKpB,MAAMiD,IAAIpD,QAKtC+C,EAAQR,KACO,IAAhBc,KAAKC,SAAkB,KAG1BJ,YAAW,WACPF,EAAOT,KACQ,IAAhBc,KAAKC,SAAkB,SAKzBC,GAAc,SAACV,EAAShD,GACjC,OAAO,IAAIiD,SAAQ,SAASC,EAASC,GAE7BnD,EAAKZ,cAAgBwD,GAErBS,YAAW,WACPtB,EAAQuB,SAAS,CACb5B,KAAM,IAAIlB,EAAJ,2BAAawC,EAAQtB,MAArB,IAA2BtC,YAAawD,GAC1CtC,MAAO0C,EAAQtB,KAAKpB,MAAMiD,IAAIpD,MAElC0B,UAAWiB,KAEfI,EAAQR,KACO,IAAhBc,KAAKC,SAAkB,KAG1BJ,YAAW,WACPF,EAAOT,KACQ,IAAhBc,KAAKC,SAAkB,SAKzBE,GAAgB,SAACX,EAAShD,GACnC,OAAO,IAAIiD,SAAQ,SAASC,EAASC,GAE7BnD,EAAKZ,cAAgBwD,IAjEJ,UAkEd5C,EAAK2D,cAERN,YAAW,WACPtB,EAAQuB,SAAS,CACb5B,KAAM,IAAIlB,EAAJ,2BAAawC,EAAQtB,MAArB,IAA2BrB,KAAMwC,GACvCvC,MAAO,IAAIC,IAAI,CAACJ,EAAiBA,OAEjC0B,UAAWiB,KAGfI,EAAQR,KACO,IAAhBc,KAAKC,SAAkB,KAG1BJ,YAAW,WACPF,EAAOT,KACQ,IAAhBc,KAAKC,SAAkB,SAKzBG,GAAS,SAACZ,GACnB,OAAO,IAAIC,SAAQ,SAASC,EAASC,GACjCE,YAAW,WACPtB,EAAQuB,WACRJ,EAAQR,KACO,IAAhBc,KAAKC,SAAkB,SAIrBI,GAAiB,SAACb,GAE3B,OAAO,IAAIC,SAAQ,SAASC,EAASC,GAC7BH,EAAQnB,YAAciB,GACtBO,YAAW,WACPH,EAAQR,KACO,IAAhBc,KAAKC,SAAkB,KAG1BJ,YAAW,WACPF,EAAOT,KACQ,IAAhBc,KAAKC,SAAkB,S,8CCjGtC,WAAsBK,GAAtB,SAAAC,EAAA,2DACYD,EAAOjE,KADnB,cAEa8C,EAFb,SAIaA,EAJb,SAMaA,EANb,SAQaA,EARb,SAUaA,GAVb,0CAGmBI,GAAUhB,EAAQiC,aAAcF,EAAO9D,OAH1D,gCAKmB0D,GAAY3B,EAAQiC,aAAcF,EAAO9D,OAL5D,gCAOmB2D,GAAc5B,EAAQiC,aAAcF,EAAO9D,OAP9D,gCASmB4D,GAAO7B,EAAQiC,aAAcF,EAAO9D,OATvD,gCAWmB6D,GAAe9B,EAAQiC,aAAcF,EAAO9D,OAX/D,gCAamBiD,QAAQE,OAAOT,IAblC,4C,sBAiBeuB,O,6CC7BTC,GAAQ,CACV,GAAM,CACFC,OAAQ,OACR5F,MAAO,OACP6F,OAAQ,WACRC,QAAS,OACTvI,KAAM,WAEV,GAAM,CACFqI,OAAQ,OACR5F,MAAO,OACP6F,OAAQ,WACRC,QAAS,QACTvI,KAAM,YAKOwI,G,kDA8CjB,WAAYxJ,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,CAACkF,MAAOzJ,EAAM0J,SAFZ,E,qDAKnB,WACQ3J,KAAKwE,MAAMkF,OACX1J,KAAK4J,YAAYC,KAAK7J,Q,yBAG9B,WAAe,IAAD,OACNA,KAAKwE,MAAMkF,OAAS,EACpB1J,KAAKC,MAAM6B,QAAQ,CAACmD,eAAgB,eAGpCuD,YAAW,WACP,EAAKlE,SAAS,CAACoF,MAAO,EAAKlF,MAAMkF,MAAQ,GACrC,EAAKE,YAAYC,KAAK,MAC3B,O,oBAIX,WAAU,IAAD,OACCrI,EAAO6H,GAAMrJ,KAAKC,MAAMuB,OAAS6H,GAAK,GACtCS,EAAQ,CACV7I,KAAK,QAAD,OAAUjB,KAAKC,MAAM6J,OACzBP,OAAO,UAAD,OAAYvJ,KAAKC,MAAM6J,OAC7BC,UAAU,cAAD,OAAgB/J,KAAKC,MAAM+J,eACpCC,QAAQ,YAAD,OAAcjK,KAAKC,MAAM6J,QAkBpC,OACA,yBAAQjH,MAAM,cAAcf,QAAS9B,KAAKC,MAAM6B,QAAhD,UACI,sBAAMe,MAAK,wBACTrB,EAAK8H,OADI,wDAGTQ,EAAM7I,KAHG,0FAMT6I,EAAMP,OANG,yBAOT/H,EAAKgI,QAPI,yBAQThI,EAAK+H,OARI,yBASTO,EAAMP,OATG,yBAUTO,EAAMG,QAVG,yBAWTH,EAAMC,UAXG,wFAcTvI,EAAKP,MAdP,SAeKjB,KAAKC,MAAMM,WAEd,WACE,GAAkC,qBAAvB,EAAKN,MAAM0J,QAClB,OAAO,sBAAM9G,MAAK,gCAChBrB,EAAK8H,OADW,iCAEhB9H,EAAKkC,MAFW,0EAIXoG,EAAM7I,KAJK,mFAMhBO,EAAK+H,OANW,4EAQhBO,EAAMP,OARU,YAQAO,EAAMG,QARN,iCAShBH,EAAMC,UATU,+GAYhBvI,EAAKP,KAZW,0BAAX,SAcE,EAAKuD,MAAMkF,QAhB1B,U,GA/GoCtJ,IAAMC,WAAnCoJ,GAsCVnH,aAAe,CAClBR,QAAS,aACT6H,aAAS9H,EACTL,KAAM,KACNsI,MAAO,MACPE,cAAe,SCxCvB,IAEqBE,G,kDAKjB,WAAYjK,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,CAAC2F,SAAS,EAAMT,MATpB,IAOM,E,qDAKnB,WACI1J,KAAKsE,SAAS,CAAC6D,QAASjB,EAAQiC,aAAcgB,SAAS,M,gCAK3D,c,wBAIA,SAAWpH,GACP/C,KAAKsE,SAAS,CAAC6F,QAASpH,M,2BAG5B,WAAoC,IAAtBqH,EAAqB,uDAAV,aACrBpK,KAAKsE,SAAS,CAAC6D,QAASjB,EAAQiC,cAAeiB,K,sBAInD,SAASjF,GACL,IAAIkF,EAAarK,KAAKqK,WAAWC,KAAKtK,MACtCuK,EAAgBvK,KAAKuK,cAAcD,KAAKtK,MAIxC,OAFAqK,GAAW,GAEJ,IAAIjC,SAAQ,SAASC,EAASC,GACjCkC,GAAQ,CAACxF,KAAM8C,EAAe3C,KAAMA,IAAOsF,MAAK,SAAC1E,GAC7CwE,EAAcF,GAAW,OAI5BK,OAAM,SAAA3E,GACHwE,EAAcF,GAAW,Y,oBAMrC,WAAU,IAAD,OACL,GAAIrK,KAAKwE,MAAM2F,QACX,OAAO,cAAC,EAAD,IAEP,IAAMtD,EAAO7G,KAAKwE,MAAM2D,QAAQtB,KAIhC,OAAIA,EAAKpB,MAAMkF,IAAIrF,GAEX,qBAAKzC,MAAM,qFAAX,SACA,sBAAKA,MAAM,8CAAX,UACA,qBAAKA,MAAM,uCAAX,SACI,qBAAKnC,MAAM,6BAA6BmC,MAAM,YAAYjC,KAAK,OAAOH,QAAQ,YAAYyB,OAAO,eAAjG,SACI,sBAAMC,iBAAe,QAAQC,kBAAgB,QAAQC,eAAa,IAAIvB,EAAE,4EAGhF,qBAAK+B,MAAM,gBAAX,SACA,qBAAKA,MAAM,yCAAX,SACKgE,EAAK+D,cAAc5E,SAAW,IAAMa,EAAK+D,cAAc3E,cAW5D,cAAC,GAAD,CAAsB0D,QAAS,GAAI7H,QAAS,SAAC0B,GAAO,EAAKqH,SAAShB,KAAK,IAAvE,iDAMI,O,GApFWzJ,IAAMC,W,gCCnBpByK,G,sQAoDA,CACb1J,KAAO,kBACPE,MAAQ,wB,4CAGZ,WACE,IAAMG,EAAgBzB,KAAKC,MAAMyB,KAAOC,IAAO,SAC/C,OACE,cAACF,EAAD,CAAe3B,UACX,UAA4B,SAAzBE,KAAKC,MAAMgC,UAAuB,mBAAqB,mBAA1D,2CAC6BjC,KAAKC,MAAMH,UAC5CgC,QAAS9B,KAAKC,MAAM6B,QACpBF,GAAI5B,KAAKC,MAAMyB,KAJf,SAOA,sBAAK5B,UAAU,iGAAf,UAEI,sBAAKA,UAAS,wBACa,SAAzBE,KAAKC,MAAMgC,UAAuB,QAAU,OADhC,qCAAd,UAGA,oBAAInC,UAAS,+CAEkB,SAAzBE,KAAKC,MAAMgC,UAAuB,mBAAqB,YAF7D,SAGKjC,KAAKC,MAAMM,WAEhB,mBAAGsC,MAAM,qBAAT,SACK7C,KAAKC,MAAM8K,iBAGhB,qBAAKjL,UAAU,MAAf,SACA,qBAAKA,UAAS,wCAEiB,SAAzBE,KAAKC,MAAMgC,UAAuB,WAAa,yBACjDF,wBAAyB,CAAEC,OAAQhC,KAAKC,MAAMiB,UAIlD,qBAAKpB,UAAS,4HAKR,YAAAE,KAAA,QAAoBA,KAAKC,MAAMgC,WALvB,sBAAd,SAOI,qBAAKvB,MAAM,6BAA6BE,KAAK,OAAOH,QAAQ,YAAYyB,OAAO,eAA/E,SACI,sBAAMC,iBAAe,QAAQC,kBAAgB,QAAQC,eAAa,IAAIvB,EAAE,iC,GAjG/CV,IAAMC,WAA9ByK,GA+CVxI,aAAe,CAClBL,UAAW,OACXH,QAAS,SAAC0B,M,ICrDGwH,G,4JA2CjB,WACI,OAAQhL,KAAKC,MAAMgC,WACf,IAAK,OACD,OACA,wBAAQ+C,KAAK,SACblD,QAAS9B,KAAKC,MAAM6B,QACpBmJ,SAAUjL,KAAKC,MAAMgL,SACrBpI,MAAK,0KAGmB7C,KAAKC,MAAMH,WANnC,SAOA,sBAAK+C,MAAM,0CAAX,UACI,qBAAKA,MAAM,WAAWjC,KAAK,eAAeH,QAAQ,YAAYC,MAAM,6BAApE,SACA,sBAAMG,YAAU,UAAUC,EAAE,wIAAwIC,YAAU,cAE9K,mBAAG8B,MAAM,oCAAT,SAA8C7C,KAAKC,MAAMM,gBAKjE,IAAK,QACD,OACA,wBAAQyE,KAAK,SACblD,QAAS9B,KAAKC,MAAM6B,QACpBmJ,SAAUjL,KAAKC,MAAMgL,SACrBpI,MAAK,0KAGmB7C,KAAKC,MAAMH,WANnC,SAOI,sBAAK+C,MAAM,0CAAX,UACA,mBAAGA,MAAM,oCAAT,SAA8C7C,KAAKC,MAAMM,WACzD,qBAAKsC,MAAM,WAAWjC,KAAK,eAAeH,QAAQ,YAAYC,MAAM,6BAApE,SACI,sBAAMG,YAAU,UAAUC,EAAE,2IAA2IC,YAAU,mBAM7L,QACI,OACI,wBAAQiE,KAAK,SACblD,QAAS9B,KAAKC,MAAM6B,QACpBmJ,SAAUjL,KAAKC,MAAMgL,SACrBpI,MAAK,oLAGmB7C,KAAKC,MAAMH,WANnC,SAOI,qBAAK+C,MAAM,0CAAX,SACA,mBAAGA,MAAM,oCAAT,SAA8C7C,KAAKC,MAAMM,oB,GA3FtCH,IAAMC,WAA5B2K,GAoCV1I,aAAe,CAClBd,KAAM,KACNS,UAAW,OACX1B,SAAU,uCACV0K,UAAU,GC3CX,IAuBMC,GAAU,SAACC,GACpB,OAAO,IAAI/C,SAAQ,SAASC,EAASC,GACjC8C,MAAM,aAAD,OAAcD,IAClBV,MAAK,SAACY,GACCA,EAASC,GAGbD,EAASE,OACJd,MAAK,SAAAc,GACFlD,EAAQkD,EAAI,cAKhBjD,EAAO,eAAiB+C,EAASxD,WAGxC6C,OAAM,SAACc,GACJlD,EAAO,gCCvCEmD,G,4JACjB,WACI,OACI,sBAAK5I,MAAM,kEAAX,UACA,qBAAKA,MAAM,QAAX,SACI,qBAAKA,MAAM,oDAAX,SACI,qBAAKnC,MAAM,6BAA6BE,KAAK,OAAOH,QAAQ,YAAYyB,OAAO,eAA/E,SACA,sBAAMC,iBAAe,QAAQC,kBAAgB,QAAQC,eAAa,IAAIvB,EAAE,4DAIhF,sBAAK+B,MAAM,oCAAX,UACI,oBAAIA,MAAM,wBAAV,SAAmC7C,KAAKC,MAAMM,WAC9C,mBAAGsC,MAAM,oCAAT,SAA8C7C,KAAKC,MAAMyL,SACzD,mBAAG7I,MAAM,wBAAT,oH,GAdwBzC,IAAMC,WCKzBsL,G,4JA2BjB,WAAU,IAAD,OAEDC,GADI5L,KAAKC,MAAM2L,QAAQhJ,OACb5C,KAAKC,MAAM2L,SAEzB,OACI,qBAAK9L,UAAS,kDAAd,SAEI8L,EAAQjI,KAAI,SAACkI,EAAOC,GAChB,OACA,qBAAKhM,UAAU,OAAf,SACI,cAAC,GAAD,CACA0B,KAAM,EAAKvB,MAAMuB,KACjBmI,QAASkC,EAAOlC,QAChB7H,QAAS+J,EAAO/J,QAChBgI,MAAO+B,EAAO/B,MAJd,SAKK+B,EAAO5K,kB,GA1CUb,IAAMC,WAA/BsL,GAsBVrJ,aAAe,CAClBsJ,QAAS,GACTpK,KAAM,MC5Bd,IASauK,GAAb,4JACI,WAAU,IAAD,OACL,OACA,qBAAKlJ,MAAM,WAAX,SACI,cAAC,GAAD,CAAkBrB,KAAK,KAAKoK,QAAS,CACjC,CACI3K,KAAM,iCACNa,QAAU,SAAC0B,GAAO,IAAD,EACbA,EAAEyB,iBACF,YAAKhF,MAAM+L,eAAX,SAAoBC,KAlBtB,SAACC,GACnB,IAAIC,EAAcD,EAAUjM,MAAMuC,SAAS4J,SAK3C,OAHID,EAAYE,YAAY,OAASF,EAAYvJ,OAAS,IACtDuJ,EAAcA,EAAYzJ,OAAO,EAAGyJ,EAAYvJ,OAAS,IAEtDuJ,EAAYzJ,OAAO,EAAGyJ,EAAYE,YAAY,KAAO,GAYfC,CAAc,KACxChC,KAAKtK,gBAV5B,GAAoCI,IAAMC,WCHpCkM,GAAW,CACb,KAAQ,CACJlM,UAAWW,EACXlB,UAAW,SAACgM,GACR,IAAMzC,EAAQ,CAAC,CAACvF,EAAG,EAAG0I,EAAG,GAAI,CAAC1I,EAAG,EAAG0I,EAAG,GAAI,CAAC1I,EAAG,EAAG0I,EAAG,IAC/CC,EAAOpD,EAAMyC,EAAQzC,EAAMzG,QAOjC,MAAO,2DACO6J,EAAK3I,EADZ,qBAC0B2I,EAAKD,IAE1CvK,UAAW,SAAC6J,KACZtK,KAAM,SAACsK,GACH,IAAMhL,EAAI,CAAC,KAAM,KAAM,MACvB,OAAOA,EAAEgL,EAAQhL,EAAE8B,SAEvB8J,qBAAiB7K,GAErB,UAAa,CACTxB,UAAWyK,GACXhL,UAAW,iBAAM,cACjBmC,UAAW,SAAC6J,GAAD,OAAYA,EAAQ,GAAK,EAAK,OAAS,SAClDY,gBAAiBX,KAIJY,G,kDAEjB,WAAY1M,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,CAAC2F,SAAS,GAFR,E,sDAKnB,SAAmByC,GACXA,EAAU1M,KAAOF,KAAKC,MAAMC,KAC5BF,KAAK6M,sB,+BAIb,WAAqB,IJLDC,EIKA,QJLAA,EIMR9M,KAAKC,MAAMC,IJLhB,IAAIkI,SAAQ,SAASC,EAASC,GACjC8C,MAAM,aAAD,OAAc0B,IAClBrC,MAAK,SAACY,GACCA,EAASC,GAGbD,EAASE,OACJd,MAAK,SAAAc,GACFlD,EAAQkD,MAKZjD,EAAO,eAAiB+C,EAASxD,WAGxC6C,OAAM,SAACc,GACJlD,EAAO,gCIZamC,KAAM,SAAA1E,GAC1BhC,QAAQC,IAAI+B,GACZ,EAAKzB,SAAL,aAAgB6F,SAAS,GAAUpE,KACpCuE,KAAKtK,OACP0K,MAAO,SAAAc,GACJ,EAAKlH,SAAS,CAAC6F,SAAS,EAAOqB,OAAO,KACvClB,KAAKtK,S,oBAGZ,WACI,IAAMwD,EAAI+I,GAASvM,KAAKwE,MAAMQ,MAE9B,OACIhF,KAAKwE,MAAM2F,QACX,wGACEnK,KAAKwE,MAAMgH,MACb,cAAC,GAAD,wMAGE,qCAEFxL,KAAKwE,MAAMoH,QAAQjI,KAAI,SAACkI,EAAQC,GAAT,iBACnB,cAACtI,EAAEnD,UAAH,CACAP,UAAS,UAAE0D,EAAE1D,iBAAJ,aAAE,OAAA0D,EAAcsI,GACzBtK,KAAI,UAAEgC,EAAEhC,YAAJ,aAAE,OAAAgC,EAASsI,GACf7J,UAAS,UAAEuB,EAAEvB,iBAAJ,aAAE,OAAAuB,EAAcsI,GACzBJ,OAAQG,EAAOH,OACfxK,KAAM2K,EAAO3K,KACbQ,KAAMmK,EAAOnK,KACbI,QAAS+J,EAAOnK,UAAMG,EAAYgK,EAAO/J,QAPzC,SASK+J,EAAO5K,UAKZjB,KAAKwE,MAAMuI,QAAUvJ,EAAEkJ,gBACnB,cAAClJ,EAAEkJ,gBAAH,eAAuB1M,KAAKC,QAC9B,Y,GApDoBG,IAAMC,WC9BvB2M,G,kDACjB,WAAY/M,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,GAFE,E,0CAKnB,WACE,OACA,gCAGE,cAAC,EAAD,CAAYtE,IAAK+M,IAEjB,sBAAKnN,UAAU,yCAAf,UAEI,cAAC,EAAD,IAGA,cAAC,GAAD,IAGA,cAAC,EAAD,UACI,cAAC,GAAD,CAAUI,IAAI,iB,GAtBQE,IAAMC,W,QCJvB6M,G,mKA8BjB,WACI,IAAIf,EAAcnM,KAAKC,MAAMuC,SAAS4J,SAKtC,OAHID,EAAYE,YAAY,OAASF,EAAYvJ,OAAS,IACtDuJ,EAAcA,EAAYzJ,OAAO,EAAGyJ,EAAYvJ,OAAS,IAEtDuJ,EAAYzJ,OAAO,EAAGyJ,EAAYE,YAAY,KAAO,K,oBAGhE,WAAU,IAAD,OACDT,EAAO,YAAO5L,KAAKC,MAAM2L,SAmB/B,OACA,8BACE,sBAAK9L,UAAU,gCAAf,UAGI,qBAAKA,UAAU,oCAAf,SAEQ8L,EAAQjI,KAAI,SAACkI,EAAOC,GAChB,OACI,cAAC,GAAD,CAAiBhM,UAAU,aAAamC,UAAW6J,EAAQ,IAAM,EAAI,OAAS,QAC9E5K,KAAM2K,EAAO3K,KACbQ,KAAMmK,EAAOnK,KACbqJ,YAAac,EAAOd,YAHpB,SAKKc,EAAO5K,YAM1B,WACE,GAAI,EAAKhB,MAAM8M,OACX,OACI,qBAAKlK,MAAM,OAAX,SACI,cAAC,GAAD,CAAkBrB,KAAK,KAAKoK,QAAS,CACjC,CACI3K,KAAM,iCACNa,QAAU,SAAC0B,GACPA,EAAEyB,iBACF,EAAKhF,MAAM+L,QAAQC,KAAK,EAAKK,kBAC9BhC,KAAK,SAV9B,Y,GA/E4BlK,IAAMC,WAA3B6M,GAwBV5K,aAAe,CAClByK,QAAQ,EACRI,WAAY,iCACZvB,QAAS,ICtBoBxL,IAAMC,U,ICGtB+M,G,4JA6BjB,WACI,OACI,sBAAKvK,MAAM,2BAAX,UACA,uBAAMA,MAAM,gEAAZ,UACA,qBAAKA,MAAM,mFAEP,sBAAKA,MAAM,OAAX,UACA,uBAAOA,MAAM,kDAAkDwK,IAAI,UAAnE,kDAGA,uBACApC,UAAQ,EACRpI,MAAM,kJAENlC,GAAG,UAAUqE,KAAK,OAAOjC,MAAO/C,KAAKC,MAAMqN,iBAG3C,sBAAKzK,MAAM,OAAX,UACA,uBAAOA,MAAM,kDAAkDwK,IAAI,OAAnE,gCAGA,uBACApC,UAAQ,EACRpI,MAAM,kJAENlC,GAAG,OAAOqE,KAAK,OAAOjC,MAAO/C,KAAKC,MAAMuF,UAGxC,sBAAK3C,MAAM,OAAX,UACA,uBAAOA,MAAM,kDAAkDwK,IAAI,QAAnE,yGAGA,uBACApC,UAAQ,EACRpI,MAAM,kJAENlC,GAAG,QAAQqE,KAAK,OAAOjC,MAAOD,EAAO9C,KAAKC,MAAMsN,MAAO,2BAIvD,qBAAK1K,MAAM,oCAAX,SACA,cAAC,EAAD,CAAY/C,UAAU,wBAAwBmC,UAAU,QAAQT,KAAK,KAAKM,QAAS9B,KAAKC,MAAMiF,SAA9F,qFAWJ,mBAAGrC,MAAM,yCAAT,oE,GAjF0BzC,IAAMC,WAAvB+M,GAwBV9K,aAAe,G,ICpBLkL,G,kDAEjB,WAAYvN,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,CAAC2F,SAAS,EAAMjK,IAAKD,EAAMuC,SAAS4J,UAFlC,E,qDAKnB,WAAqB,IAAD,OACV3J,EAASzC,KAAKC,MAAMuC,SAASC,OACnCzC,KAAKyN,WAA6D,SAA9C,IAAIC,gBAAgBjL,GAAQmF,IAAI,WAAyB,EAE7E5H,KAAKsE,SAAS,CAAC6D,QAASjB,EAAQiC,aAAcgB,SAAS,IAAQ,WACtD,EAAK3F,MAAM2D,QAAQtB,KAAKpB,MAAMkF,IAAIrF,IAAwB,EAAKmI,YAChE,EAAKxN,MAAM+L,QAAQC,KAAK,qE,gCAKpC,SAAmBW,GACX5M,KAAKC,MAAMuC,SAAS4J,UAAYQ,EAAUpK,SAAS4J,UACnDpM,KAAKsE,SAAS,CAACpE,IAAKF,KAAKC,MAAMuC,SAAS4J,a,oBAIhD,WAAU,IAAD,OAEL,OACI,eAAC,KAAD,WAGA,cAAC,KAAD,CAAOuB,KAAK,YAAYC,OAAQ,SAAC3N,GAAD,OAC5B,mCACA,sBAAKH,UAAU,gCAAf,UAGKiE,QAAQC,IAAI,EAAKQ,MAAMtE,KACxB,qBAAKJ,UAAU,oCAAf,SACA,cAAC,GAAD,aAAUI,IAAK,EAAKsE,MAAMtE,KAASD,cAM3C,cAAC,KAAD,CAAU2B,GAAG,a,GA3CmBxB,IAAMC,WCd7BiD,I,wDAajB,WAAYrD,GAAQ,IAAD,8BACf,cAAMA,IACD4N,WAAazN,IAAM0N,YAFT,E,0CAKnB,WAAU,IAAD,OACL,OACI,qBAAKC,IAAK/N,KAAK6N,WACfhL,MAAM,8FACNf,QAAS,SAAC0B,GACFA,EAAEa,QAAU,EAAKwJ,WAAWlH,SAC5B,EAAK1G,MAAM+N,QAAQxK,IAJ3B,SAMCxD,KAAKC,MAAMM,e,GA1BqBH,IAAMC,YAA9BiD,GASVhB,aAAe,CAClB0L,QAAS,SAACxK,GAAOA,EAAEyB,mB,ICVNgJ,G,4JAajB,WAAU,IAAD,OACL,OACI,yBAAQjJ,KAAK,SAASnC,MAAM,uGAC5Bf,QAAS,SAAC0B,GAAD,OAAO,EAAKvD,MAAM+N,QAAQxK,IADnC,UAEA,sBAAMX,MAAM,UAAZ,wBACA,qBAAKA,MAAM,YAAYnC,MAAM,6BAA6BE,KAAK,OAAOH,QAAQ,YAAYyB,OAAO,eAAegM,cAAY,OAA5H,SACI,sBAAM/L,iBAAe,QAAQC,kBAAgB,QAAQC,eAAa,IAAIvB,EAAE,kC,GAnBhDV,IAAMC,WAAzB4N,GASV3L,aAAe,CAClB0L,QAAS,SAACxK,GAAOA,EAAEyB,mB,ICFNkJ,G,kDAmBjB,WAAYlO,GAAQ,IAAD,8BACf,cAAMA,IAKV4D,QAAU,SAACM,GAEP,IAAIC,EAASD,EAAME,OAAOtB,MAEtB,EAAKqL,WACLC,aAAa,EAAKD,WACtB,EAAKA,UAAY5F,YAAW,SAAChF,GAAO,EAAKvD,MAAMiF,SAAS,CAACqD,KAAMnE,MAAW,MAErE,EAAKI,MAAM2F,SAEZ,EAAK7F,SAAS,CAAC6F,SAAS,KAd5B,EAAK3F,MAAQ,CAAC+D,KAAM,GAAI4B,SAAS,GACjC,EAAK0D,WAAazN,IAAM0N,YAHT,E,qDAoBnB,c,oBAGA,WAAU,IAAD,OACL,OACI,cAAC,GAAD,CAAiBE,QAAS,SAACxK,GAAD,OAAO,EAAKvD,MAAMqO,SAAS9K,IAArD,SACA,uBAAMX,MAAM,gFAAZ,UACI,qBAAKA,MAAM,mEAAX,SAEI7C,KAAKwE,MAAM2F,QAEX,sBAAKtH,MAAM,oCAAoCnC,MAAM,6BAA6BE,KAAK,OAAOH,QAAQ,YAAtG,UACI,wBAAQoC,MAAM,aAAa0L,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKvM,OAAO,eAAeG,eAAa,MACrF,sBAAMQ,MAAM,aAAajC,KAAK,eAAeE,EAAE,uHAGnD,qCACA,sBAAM+B,MAAM,uCAAZ,SACI,sBAAMA,MAAM,uFAEhB,sBAAKnC,MAAM,6BAA6BgO,oBAAkB,gBAAgBjO,QAAQ,YAAYG,KAAK,UAAnG,UAA6G,sBAAMA,KAAK,OAAO0I,OAAO,KAAK5F,MAAM,OAAM,sBAAM5C,EAAE,kpBAKnK,8BACI,oBAAI+B,MAAM,oCAAV,kKAKJ,uBACAA,MAAM,iEACN2C,KAAK,OACLT,SAAU/E,KAAK6D,QACf8K,WAAS,IAGT,cAAC,GAAD,CAAYX,QAAS,SAACxK,GAAD,OAAO,EAAKvD,MAAMqO,SAAS9K,e,GA7EtBpD,IAAMC,WAA3B8N,GAeV7L,aAAe,CAClB4C,SAAU,SAACC,MCvBnB,IAAMyJ,GAAa,CAAC,OAAQ,SAAU,MAAO,SAExBC,G,4JAoBjB,WACI,IAAIC,EAAI9O,KAAKC,MAAM2L,QAAQhJ,OACvBgJ,EAAU5L,KAAKC,MAAM2L,QAEzB,OACI,qBAAK9L,UAAS,8BAAyBgP,EAAI,EAAIA,EAAI,EAArC,6DAAd,SAEIlD,EAAQjI,KAAI,SAACkI,EAAOC,GAChB,OAAO,cAAC,EAAD,CAAYhM,UAAU,qDAC7B0B,KAAK,KACLS,UAAiB,IAAN6M,EACLF,GAAW,GACX9C,IAAUgD,EAAI,EACVF,GAAWA,GAAWhM,OAAS,GAC/BgM,GAAW9C,EAAQ8C,GAAWhM,QACxCd,QAAS+J,EAAO/J,QAPT,SAQF+J,EAAO5K,gB,GApCSb,IAAMC,WAA1BwO,GAgBVvM,aAAe,CAClBsJ,QAAS,I,ICrBIH,G,4JACjB,WACI,OACI,sBAAK5I,MAAM,wEAAX,UACA,qBAAKA,MAAM,QAAX,SACI,qBAAKA,MAAM,oDAAX,SACI,sBAAKnC,MAAM,6BAA6BD,QAAQ,YAAYG,KAAK,UAAjE,UACA,sBAAME,EAAE,gBAAgBF,KAAK,SAC7B,sBAAME,EAAE,8DAIhB,sBAAK+B,MAAM,oCAAX,UACI,oBAAIA,MAAM,wBAAV,SAAmC7C,KAAKC,MAAMM,WAC9C,mBAAGsC,MAAM,oCAAT,SAA8C7C,KAAKC,MAAMyL,mB,GAdjCtL,IAAMC,WCKzB0O,G,4JAkCjB,WAAU,IAAD,OACL,OACI,sBAAKlM,MAAM,0BAAX,UACI,eAAC,GAAD,CAAe6I,OAAM,oZAEnB5I,EAAO9C,KAAKC,MAAM4G,KAAKtC,YAAa,wBAFtC,iKAGgC,uBAHhC,IAIMvE,KAAKC,MAAMqN,YAJjB,KAI+B,uBAJ/B,mCAKY,IAAMtN,KAAKC,MAAM4G,KAAK+D,cAAc3E,UAC3C,IAAMjG,KAAKC,MAAM4G,KAAK+D,cAAc5E,YAEzC,qBAAKnD,MAAM,yBAAX,SACI,cAAC,GAAD,CAAkB+I,QAAS,CACvB,CACI3K,KAAM,mFAAoBjB,KAAKC,MAAM4G,KAAK+D,cAAc3E,UACxDnE,QAAS,SAAC0B,GAAD,OAAO,EAAKvD,MAAM+O,cAC3BlF,MAAO,eAEX,CACI7I,KAAM,wFACNa,QAAS,SAAC0B,GAAD,OAAO,EAAKvD,MAAMgP,UAC3BtF,QAAS,gB,GAvDYvJ,IAAMC,WAAlC0O,GA8BVzM,aAAe,G,IC9BL4M,G,4JAkCjB,WAAU,IAAD,OACL,OACI,sBAAKrM,MAAM,0BAAX,UACI,eAAC,GAAD,yKACkC,uBADlC,IAEM7C,KAAKC,MAAMqN,YAFjB,KAE+B,uBAF/B,mCAGY,IAAMtN,KAAKC,MAAM4G,KAAK+D,cAAc3E,UAC3C,IAAMjG,KAAKC,MAAM4G,KAAK+D,cAAc5E,YAEzC,qBAAKnD,MAAM,yBAAX,SACI,cAAC,GAAD,CAAkB+I,QAAS,CACvB,CACI3K,KAAM,2GACNa,QAAS,SAAC0B,GAAD,OAAO,EAAKvD,MAAM+O,cAC3BlF,MAAO,eAEX,CACI7I,KAAM,yFACNa,QAAS,SAAC0B,GAAD,OAAO,EAAKvD,MAAMgP,UAC3BtF,QAAS,gB,GArDSvJ,IAAMC,WAA/B6O,GA8BV5M,aAAe,GCJ1B,IAAM6M,GAAoB,QACLjF,G,kDAIjB,WAAYjK,GAAQ,IAAD,8BACf,cAAMA,IA0BVmP,UAAY,SAAChF,GACT,EAAKnK,MAAM+L,QAAQC,KAAK,MA5BT,EA+BnBoD,OAAS,SAACjF,GACN,EAAKnK,MAAM+L,QAAQC,KAAK,MAhCT,EA+FnBqD,sBAAwB,SAACnL,GACrB,IAAI2E,EAAgB3E,EAAME,OAAOtB,MAAMK,QAAQ,WAAY,IAE3D,EAAKkB,SAAS,CACVwE,cAAeA,IAGnB/E,QAAQC,IAAI8E,GAERA,EAAclG,SAAWuM,GAAkBvM,QAC3C,EAAK2M,sBAAsB,CAAChL,YAAa,EAAKC,MAAM2D,QAAQtB,KAAKtC,YAAauE,cAAeA,KAvGjG,EAAKtE,MAAQ,CAAC2F,SAAS,GAFR,E,qDAKnB,WAAqB,IAAD,OAChBnK,KAAKsE,SAAS,CAAC6D,QAASjB,EAAQiC,aAAcgB,SAAS,IAEvD,IAAM1H,EAASzC,KAAKC,MAAMuC,SAASC,OAC7B+M,EAAU,IAAI9B,gBAAgBjL,GAAQmF,IAAI,YAAc,IACxD6H,EAAO,IAAI/B,gBAAgBjL,GAAQmF,IAAI,SAAW,IAExD5H,KAAKoP,UAAY,SAAChF,GACd,EAAKnK,MAAM+L,QAAQC,KAAKuD,GAChB,OAARpF,QAAQ,IAARA,QAGJpK,KAAKqP,OAAS,SAACjF,GACX,EAAKnK,MAAM+L,QAAQC,KAAKwD,GAChB,OAARrF,QAAQ,IAARA,U,gCAgBR,c,wBAIA,SAAWrH,EAAOqH,GACdpK,KAAKsE,SAAS,CAAC6F,QAASpH,GAAxB,OAAgCqH,QAAhC,IAAgCA,OAAhC,EAAgCA,O,2BAGpC,SAAcrE,GAA8B,IAAtBqE,EAAqB,uDAAV,aAC7BpK,KAAKsE,SAAS,CAAC6D,QAASjB,EAAQiC,aAAcpD,OAAQA,GAASqE,K,0BAGnE,SAAajF,GACT,IAAIkF,EAAarK,KAAKqK,WAAWC,KAAKtK,MACtCuK,EAAgBvK,KAAKuK,cAAcD,KAAKtK,MACpCoP,EAAYpP,KAAKoP,UAAU9E,KAAKtK,MACvBA,KAAKqP,OAAO/E,KAAKtK,MAG9B,OAFAqK,GAAW,GAEJ,IAAIjC,SAAQ,SAASC,EAASC,GACjCkC,GAAQ,CAACxF,KAAM8C,EAAkB3C,KAAMA,IAAOsF,MAAK,SAAC1E,GAChDwE,OAAc1I,EAAWwI,GAAW,EAAOhC,EAAQtC,KAEnDqJ,IACA/G,EAAQtC,MAGX2E,OAAM,SAAA3E,GACHwE,EAAc,cAAC,GAAD,6HAECF,GAAW,EAAO/B,EAAOvC,KACxCuC,EAAOvC,W,2BAKnB,SAAcZ,GACV,IAAIkF,EAAarK,KAAKqK,WAAWC,KAAKtK,MACtCuK,EAAgBvK,KAAKuK,cAAcD,KAAKtK,MAIxC,OAFAqK,GAAW,GAEJ,IAAIjC,SAAQ,SAASC,EAASC,GACjCkC,GAAQ,CAACxF,KAAM8C,EAAc3C,KAAMA,IAAOsF,MAAK,SAAC1E,GAC5CwE,OAAc1I,EAAWwI,GAAW,EAAOhC,EAAQtC,QAItD2E,OAAM,SAAA3E,GACHwE,EAAc,cAAC,GAAD,+IAECF,GAAW,EAAO/B,EAAOvC,KAExCuC,EAAOvC,W,mCAqBnB,SAAsBZ,GAClB,IAAIkF,EAAarK,KAAKqK,WAAWC,KAAKtK,MACtCuK,EAAgBvK,KAAKuK,cAAcD,KAAKtK,MAEpCoP,EAAYpP,KAAKoP,UAAU9E,KAAKtK,MACvBA,KAAKqP,OAAO/E,KAAKtK,MAI9B,OAFAqK,GAAW,GAEJ,IAAIjC,SAAQ,SAASC,EAASC,GACjCkC,GAAQ,CAACxF,KAAM8C,EAAgB3C,KAAMA,IAAOsF,MAAK,SAAC1E,GAC9CwE,OAAc1I,EAAWwI,GAAW,EAAOhC,EAAQtC,KAEnDqJ,IACA/G,EAAQtC,MAGX2E,OAAM,SAAA3E,GACHwE,EAAc,cAAC,GAAD,kNAEKF,GAAW,EAAO/B,EAAOvC,KAE5CuC,EAAOvC,W,sBAKnB,SAASZ,GACL,IAAIkF,EAAarK,KAAKqK,WAAWC,KAAKtK,MACtCuK,EAAgBvK,KAAKuK,cAAcD,KAAKtK,MAIxC,OAFAqK,GAAW,GAEJ,IAAIjC,SAAQ,SAASC,EAASC,GACjCkC,GAAQ,CAACxF,KAAM8C,EAAe3C,KAAMA,IAAOsF,MAAK,SAAC1E,GAC7CwE,OAAc1I,EAAWwI,GAAW,EAAOhC,EAAQtC,QAGtD2E,OAAM,SAAA3E,GACHwE,EAAc,cAAC,GAAD,0GACTF,GAAW,EAAO/B,EAAOvC,a,6BAK1C,SAAgBZ,GAAO,IAAD,OACZkF,EAAarK,KAAKqK,WAAWC,KAAKtK,MACxCuK,EAAgBvK,KAAKuK,cAAcD,KAAKtK,MAElCoP,EAAYpP,KAAKoP,UAAU9E,KAAKtK,MACtCqP,EAASrP,KAAKqP,OAAO/E,KAAKtK,MAC1B6K,EAAW7K,KAAK6K,SAASP,KAAKtK,MAGxB0P,EAAa,cAAC,GAAD,CACf7I,KAAM7G,KAAKwE,MAAM2D,QAAQtB,KACzByG,YAAanI,EAAKwK,UAClBX,WAAc,SAACxL,GAAO4L,KACtBH,OAAU,WACOpE,IACNJ,KAAKjC,WAAW,EAAKvI,MAAM+L,QAAQC,KAAK,KAAM,SAMvD2D,EAAc,cAAC,GAAD,CAChB/I,KAAM7G,KAAKwE,MAAM2D,QAAQtB,KACzByG,YAAanI,EAAKwK,UAClBX,WAAc,SAACxL,GAAO+G,OAAc1I,EAAWwI,GAAW,KAC1D4E,OAAU,SAACzL,GACP6L,OAOR,OAFAhF,GAAW,GAEJ,IAAIjC,SAAQ,SAASC,EAASC,GACjCkC,GAAQ,CAACxF,KAAM8C,GAAmB3C,KAAMA,IAAOsF,MAAK,SAAC1E,GACjDwE,EAAcmF,EAAYrF,GAAW,OAIxCK,OAAM,SAAAc,GACHjB,EAAcqF,EAAavF,GAAW,Y,oBAOlD,WAAU,IAAD,OAGL,GAAIrK,KAAKwE,MAAM2F,QACX,OAAO,cAAC,EAAD,IAEP,IAAMtD,EAAO7G,KAAKwE,MAAM2D,QAAQtB,KAGpC,OAFI9C,QAAQC,IAAIhE,KAAKwE,MAAM2D,SAGvB,eAAC,KAAD,WACA,cAAC,KAAD,CAAOwF,KAAK,mBACZC,OAAQ,SAAC3N,GAAD,OACR,sBAAKH,UAAU,kDAAf,UACA,cAAC,EAAD,eAAkBG,IAClB,cAAC,GAAD,CAAa2L,QAAS,CAClB,CACI3K,KAAM,iHACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKoK,OAAOxF,KAAK,KAGzB,CACI5I,KAAM,mFACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,WAAC,OAAM,EAAKhF,MAAM+L,QAAQC,KAAK,iBAAiBpC,KAAK,cAQjE,cAAC,KAAD,CAAO8D,KAAK,eAAeC,OAAQ,SAAC3N,GAAD,OAC/B4G,EAAKpB,MAAMkF,IAAIrF,GAEf,sBAAKxF,UAAU,mDAAf,UACM,WACE,GAAI,EAAK0E,MAAMuB,OACX,OAAO,oBAAIjG,UAAU,yBAAd,SAAwC,EAAK0E,MAAMuB,SAFhE,GAMF,cAAC,EAAD,aAAaxB,YAAasC,EAAKtC,YAC/BQ,SAAU,EAAKuK,sBAAsBhF,KAAK,GAC1CjF,WAAc8J,IACVlP,IACJ,qBAAKH,UAAU,cAAf,SACA,cAAC,GAAD,CAAkB0B,KAAK,KAAKoK,QAAS,CACjC,CACI3K,KAAM,uCACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKoK,OAAOxF,KAAK,IAErBF,QAAS,IAEb,CACI1I,KAAM,yIACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAK4K,cAAchG,KAAK,EAAM,CAACtF,YAAasC,EAAKtC,eAErDuF,MAAO,eAEX,CACI7I,KAAM,2GACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAK4F,SAAShB,KAAK,IAEvBC,MAAO,uBAMjBjD,EAAKpB,MAAMkF,IAAIrF,GAEX,mCACF,sBAAKxF,UAAU,mDAAf,UACE,WACE,GAAI,EAAK0E,MAAMuB,OACX,OAAO,oBAAIjG,UAAU,yBAAd,SAAwC,EAAK0E,MAAMuB,SAFhE,GAKF,cAAC,EAAD,aACAb,SAAY,EAAK2K,cAAcvF,KAAK,GACpC/F,YAAW,OAAIsC,QAAJ,IAAIA,OAAJ,EAAIA,EAAMtC,aACjBtE,IACJ,qBAAKH,UAAU,cAAf,SACA,cAAC,GAAD,CAAkB0B,KAAK,KAAKoK,QAAS,CACjC,CACI3K,KAAM,uCACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKoK,OAAOxF,KAAK,IAErBF,aAAS9H,aAOf,qCACF,qBAAK/B,UAAU,mDAAf,SACE,WACE,GAAI,EAAK0E,MAAMuB,OACX,OAAO,oBAAIjG,UAAU,yBAAd,SAAwC,EAAK0E,MAAMuB,SAFhE,KAOF,cAAC,GAAD,CAAcb,SAAU,EAAK4K,aAAaxF,KAAK,GAC/CgE,SAAU,EAAKe,OAAO/E,KAAK,WAWnC,cAAC,KAAD,CAAOqD,KAAK,qBAAqBC,OAAQ,SAAC3N,GACtC,IAAM0P,EAAY1P,EAAM8P,MAAMC,OAAOrP,GAErC,OAAI,EAAK6D,MAAMuB,QACXhC,QAAQC,IAAI,EAAKQ,MAAMuB,QAChB,EAAKvB,MAAMuB,QAKlB,sBAAKlD,MAAM,oBAAX,UACA,cAAC,GAAD,aACAyK,YAAaqC,EACbnK,KAAMqB,EAAKrB,KACX+H,MAAO1G,EAAKtC,YACZW,SAAW,SAAC1B,GACRA,EAAEyB,iBACF,EAAKgL,gBAAgBpG,KAAK,EAAM,CAAC8F,eAClCrF,KAAK,IACJrK,IAEJ,qBAAK4C,MAAM,aAAX,SACA,cAAC,GAAD,CAAkBrB,KAAK,KAAKoK,QAAS,CACjC,CACI3K,KAAM,uCACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKoK,OAAOxF,KAAK,KAIzB,CACI5I,KAAM,gHACNa,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAK4F,SAAShB,KAAK,GAClBY,KAAM,kBAAM,EAAKxK,MAAM+L,QAAQC,KAAnB,8CAC8B0D,EAD9B,gCAC+DA,KACzE9F,KAAK,KAEZC,MAAO,0BAQvB,cAAC,KAAD,CAAUlI,GAAG,a,GA7XUxB,IAAMC,W,oBC1BpB6P,I,8DACjB,WAAYjQ,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,CAAC2L,UAAW,GAAIhG,SAAS,GAFvB,E,4FAKnB,4BAAAjB,EAAA,sEAQ2BgC,GAAQlL,KAAKC,MAAMkL,UAR9C,OAQUE,EARV,OAUIrL,KAAKsE,SAAS,CAAE6L,UAAW9E,EAAUlB,SAAS,IAVlD,gD,0EAaA,WAAU,IAAD,OAEL,OADApG,QAAQC,IAAIhE,KAAKwE,MAAM2L,WACnBnQ,KAAKwE,MAAM2F,QAEP,cAAC,EAAD,IAKA,cAAC,KAAD,CAAUiG,OAAQpQ,KAAKwE,MAAM2L,UAAWE,aAAa,EAAOC,gBAAiB,EAC7EtC,QAAS,WAAO,EAAK/N,MAAM+L,QAAQC,KAAK,gB,GA7BjB7L,IAAMC,YCKxBkQ,G,4JAEjB,WAAU,IAAD,OACL,OACI,eAAC,KAAD,WACA,cAAC,KAAD,CAAO5C,KAAK,kBAAkBC,OAAQ,SAAC3N,GAE/B,OAAO,cAAC,GAAD,aAAWkL,SAAUlL,EAAM8P,MAAMC,OAAO7E,UAAclL,OAIrE,cAAC,KAAD,CAAOuQ,OAAK,EAAC7C,KAAK,QAAQC,OAAQ,SAAC3N,GAAD,OAC9B,mCACA,sBAAKH,UAAU,gCAAf,UAGKiE,QAAQC,IAAI,EAAK/D,MAAMuC,SAAS4J,UACjC,qBAAKtM,UAAU,oCAAf,SACA,cAAC,GAAD,aAAUI,IAAK,EAAKD,MAAMuC,SAAS4J,UAAcnM,cAKzD,cAAC,KAAD,CAAU2B,GAAG,a,GAvBSxB,IAAMC,W,SCHnBoQ,G,kDAEjB,WAAYxQ,GAAQ,IAAD,8BACf,cAAMA,IACDuE,MAAQ,CAACkM,SAAU,EAAGC,WAAY,EACvCC,OAAQ,CAAClN,MAAOkN,OAAOC,WAAYvH,OAAQsH,OAAOE,aAClD3G,SAAS,GAJM,E,qDAOnB,WAAqB,IAAD,OpBlBb,IAAI/B,SAAQ,SAASC,EAASC,GACjC8C,MAAM,aACLX,MAAK,SAACY,GACCA,EAASC,GAGbD,EAASE,OACJd,MAAK,SAAAc,GACFlD,EAAQkD,EAAI,aAKhBjD,EAAO,eAAiB+C,EAASxD,WAGxC6C,OAAM,SAACc,GACJlD,EAAO,+BoBEGmC,MAAK,SAAA1E,GACf,EAAKzB,SAAS,CAACyM,KAAMhL,EAAQY,QAAS,EAAGwD,SAAS,OAErDO,OAAM,SAAAc,GACH,EAAKlH,SAAS,CAAC6F,SAAS,S,0BAIhC,WACInK,KAAKgR,YAAYnH,KAAK7J,KAAM,K,uBAGhC,WACIA,KAAKgR,YAAYnH,KAAK7J,MAAO,K,yBAGjC,SAAYiR,GACRjR,KAAKsE,SAAS,CAACqM,WAAY,EAAGhK,QAAS3G,KAAKwE,MAAMmC,QAAUsK,M,mCAIhE,YAAqC,IAAbP,EAAY,EAAZA,SACpB1Q,KAAKsE,SAAS,CAACoM,SAAUA,EAAUC,WAAY,M,wBAGnD,SAAWM,GACPjR,KAAKsE,SAAS,CAACqM,WAAY3Q,KAAKwE,MAAMmM,WAAaM,M,0BAGvD,WACIjR,KAAKkR,WAAWrH,KAAK7J,MAAO,K,sBAGhC,WACIA,KAAKkR,WAAWrH,KAAK7J,KAAM,K,oBAG/B,WAAU,IAAD,OAEL,OAAIA,KAAKwE,MAAM2F,QACJ,cAAC,EAAD,IAKX,sBAAKtH,MAAM,mCAAX,UACI,cAAC,KAAD,CACIsO,KAAMnR,KAAKwE,MAAMuM,KAAK/Q,KAAKwE,MAAMmC,SAASzG,IAC1CkR,WAAY,MACZC,cAAerR,KAAKsR,sBAAsBhH,KAAKtK,MAHnD,SAKI,cAAC,KAAD,CACA0D,MAAO1D,KAAKwE,MAAMoM,OAAOlN,MAAQ6N,GACjCzR,UAAW,kCACX6Q,WAAY3Q,KAAKwE,MAAMmM,eAE3B,qBAAK9N,MAAM,gEAAX,SACI,sBAAKA,MAAM,yEAAX,UACI,qBAAKA,MAAK,8CAAV,SACI,cAAC,GAAD,CACIf,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKhF,MAAM+L,QAAQC,KAAK,MAE5BhK,UAAU,OACVnC,UAAU,6CANd,8CAYJ,cAAC,GAAD,CACImL,SAAUjL,KAAKwE,MAAMmC,UAAY3G,KAAKwE,MAAMuM,KAAKnO,OAAS,EAC1Dd,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKuM,aAAa3H,KAAK,IAE3B5H,UAAU,OANd,+GAWA,mBAAGY,MAAM,sBAAT,SACK7C,KAAKwE,MAAMuM,KAAK/Q,KAAKwE,MAAMmC,SAAS8K,QAGzC,cAAC,GAAD,CACIxG,SAAiC,IAAvBjL,KAAKwE,MAAMmC,QACrB7E,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAKyM,UAAU7H,KAAK,IAExB5H,UAAU,QANd,8GAcR,qBAAKY,MAAM,mEAAX,SACI,sBAAKA,MAAM,gEAAX,UAEI,cAAC,GAAD,CACIoI,SAAUjL,KAAKwE,MAAMmM,YAAc,EACnC7O,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAK0M,aAAa9H,KAAK,IAE3B5H,UAAU,OANd,4CAWA,oBAAGY,MAAM,WAAT,8DACU7C,KAAKwE,MAAMmM,aAAe3Q,KAAKwE,MAAMkM,SAAW,EAAI,MAD9D,iBACyE1Q,KAAKwE,MAAMkM,UAAY,QAGhG,cAAC,GAAD,CACIzF,SAAUjL,KAAKwE,MAAMmM,YAAc3Q,KAAKwE,MAAMkM,SAC9C5O,QAAS,SAAC0B,GACNA,EAAEyB,iBACF,EAAK2M,SAAS/H,KAAK,IAEvB5H,UAAU,QANd,8D,GAhIc7B,IAAMC,WC4BzBwR,OAvBf,WAQI,MANoC,qBAAzB3K,EAAQiC,cAA6E,IAA7CtD,OAAOQ,KAAKa,EAAQiC,cAAcvG,QACjFsE,EAAQuB,WAMR,cAAC,IAAD,UACA,eAAC,KAAD,WAEA,cAAC,KAAD,CAAOkF,KAAK,SAASC,OAAQ,SAAC3N,GAAD,OAAW,cAAC,GAAD,eAAWA,OACnD,cAAC,KAAD,CAAO0N,KAAK,YAAYC,OAAQ,SAAC3N,GAAD,OAAW,cAAC,GAAD,eAAoBA,OAC/D,cAAC,KAAD,CAAO0N,KAAK,QAAQC,OAAQ,SAAC3N,GAAD,OAAW,cAAC,GAAD,eAAUA,OACjD,cAAC,KAAD,CAAO0N,KAAK,QAAQC,OAAQ,SAAC3N,GAAD,OAAW,cAAC,GAAD,eAAUA,OACjD,cAAC,KAAD,CAAO0N,KAAK,IAAIC,OAAQ,SAAC3N,GAAD,OAAW,cAAC,GAAD,eAAcA,OACjD,cAAC,KAAD,CAAU2B,GAAG,YCpBNkQ,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvH,MAAK,YAAkD,IAA/CwH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCEdO,IAAS1E,OACP,cAAC,IAAM2E,WAAP,UACI,cAAC,IAAD,UACE,cAAC,GAAD,QAGNC,SAASC,eAAe,SAM1BX,O","file":"static/js/main.7fcb7520.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/background-0.746cda54.png\";","import React from 'react';\n\nexport default class Background extends React.Component {\n    render() {\n      return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 select-none -z-10\">\n            <img src={this.props.url} className=\"select-none -z-10 absolute top-0 left-0 h-screen w-screen\" alt=\"Фоновая картинка\"/>\n            <div className=\"select-none bg-gray-100 bg-opacity-75 -z-10 absolute top-0 left-0 right-0 bottom-0\"></div>\n        </div>\n      );\n    }\n}\n","import React from 'react';\n\nexport default class ButtonContainer extends React.Component {\n    render() {\n      return (\n        <div className=\"relative h-2/3 mx-32\">\n        <div className=\"grid grid-cols-3 grid-rows-2 gap-4 absolute bottom-10 left-0 right-0\">\n            {this.props.children}\n        </div>\n        </div>\n      );\n    }\n} \n","import React from 'react';\n\nexport default class Logo extends React.Component {\n    render() {\n      return (\n        <div className = \"mx-auto h-1/3 py-10\">\n            <header className = \"text-9xl font-black text-blue-darker flex justify-center items-center\">\n                <span className=\"flex-initial p-1\" >RM</span>\n                <span className = \"flex-initial p-1 mb-8\">\n                <svg viewBox=\"0 0 69.4 69.8\" className = \"w-48 h-auto\" xmlns=\"http://www.w3.org/2000/svg\" id=\"preloader-logo\">\n                    <path className=\"fill\" fill=\"#ed1849\" fill-rule=\"evenodd\" d=\"M45.8 52.7l-27.7 4.1-1.6-1.2 6.6-13.1 2.6 4.5c.3.5.9.8 1.4.8h16.2c.5 0 1-.3 1.4-.7.3-.4.4-1 .2-1.5l-3.8-11.1c-.2-.7-.9-1.1-1.6-1.1h-8.9L28 25.6h12.9l2.9 4.9c.3.5.9.8 1.4.8h23.9v-.2-.1l-.1-.7v-.1l-.4-2.3C65.6 11.9 51.5 0 34.7 0A35 35 0 00.5 27.7l11.1-.7 12-9.9L51.3 13l1.6 1.2-6.6 13.2-2.7-4.5c-.3-.5-.9-.8-1.4-.8H25.9c-.5 0-1 .3-1.4.7-.3.4-.4 1-.2 1.5L28 35.4c.2.7.9 1.1 1.6 1.1h8.9l2.6 7.8H28.2l-2.9-4.9c-.3-.5-.9-.8-1.4-.8H0V38.9l.1.7v.1l.4 2.2a34.9 34.9 0 0068.3.1l-11.1.7-11.9 10z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                </span>\n                <div className =\"flex-initial p-1 mt-4\">\n                    <span className=\"\" ><i>RAIL</i></span>\n                    <h2 className=\"text-4xl text-left font-normal text-gray-500 -mt-4\">инфокиоск</h2>\n                </div>\n            </header>\n        </div>\n      );\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\n/**\n * Кнопка на главной странице\n */\nexport default class MainButton extends React.Component {\n    static propTypes = {\n\n        /**\n         * Размер кнопки \\\n         * Влияет на размер текста, иконки и стрелки \\\n         * Возможные варианты: md (средняя), lg (большая), xl (очень большая)\n         * @default \"md\"\n        */\n        size: PropTypes.string,\n\n        /** \n         * \"Направление\" кнопки. Пока что влияет только на стрелочку \\\n         * Может быть left, top, right или bottom\n         * @default undefined\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Иконка кнопки, html код (svg) \\\n         * Обычно пишется в виде <svg ...> </svg>\n         */\n        icon: PropTypes.string,\n\n        /** \n         * Ссылка, по которой ведёт кнопка \\\n         * Если задана, кнопка оборачивается в ссылку и функция OnClick не срабатывает \\\n         */\n        link: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки\n         */\n        onClick: PropTypes.func,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         * @example className = \"bg-blue-lighter hover:bg-red\"\n         * сделает кнопку синей, а при наведении на неё мышкой - красной \n         */\n        className: PropTypes.string,\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        size: 'md',\n        direction: undefined,\n        icon: undefined,\n        children: 'Кнопка',\n    }\n    \n\n    #sizeClasses = {\n        'xl': {\n            text: 'text-6xl',\n            icon: 'w-60 h-60 p-4',\n            arrow: 'w-12 h-12',\n        },\n        'lg': {\n            text: 'text-4xl',\n            icon: 'w-44 h-44 p-3',\n            arrow: 'w-12 h-12',\n        },\n        'md': {\n            text: 'text-3xl',\n            icon: 'w-28 h-28 p-1',\n            arrow: 'w-12 h-12',\n        },\n    };\n\n    #arrowRotation = {\n        left:  'left-0 rotate-0',\n        top:  'top-0 rotate-90',\n        right:  'right-0 rotate-180',\n        bottom:  'bottom-0 -rotate-90',\n    }\n\n    getSize() {\n        return `${this.props.size}`\n    }\n\n    render() {\n\n        const ParentTagName = this.props.link ? Link : 'button'\n      return (\n        <ParentTagName\n        className={`relative bg-red transition-colors duration-200 rounded flex\n        justify-center items-center text-white shadow-xl\n        ` + this.props.className}\n        to={this.props.link ? this.props.link : undefined}\n        onClick={this.props.link ? undefined : this.props.onClick}>\n            <div className=\"text-center\">\n                {(() => {if (this.props.icon) {\n                    return (\n                    <div className={\n                        `${this.#sizeClasses[this.props.size].icon}\n                        mx-auto`}\n                        dangerouslySetInnerHTML={{ __html: this.props.icon }}\n                        >\n                    </div>)\n                }})()}\n\n                <h3 className={\n                    `${this.#sizeClasses[this.props.size].text} \n                    font-black`}>\n                    {this.props.children}\n                </h3>\n            </div>\n            {\n                this.props.direction ?\n            <div className={\n                `${this.#sizeClasses[this.props.size].arrow}\n                absolute \n                transform\n                ${this.#arrowRotation[this.props.direction]}\n                `}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n            </div>\n            : undefined\n            }\n\n        </ParentTagName>\n      );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../../Buttons/MainButton';\n\n\nexport default class AskLoginForm extends React.Component {\n\n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        let redirectTo = this.props.location.search\n        .substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n\n        return (            \n            <div className=\"mx-auto absolute min-w-full bg-gray-200 rounded-xl shadow-xl py-10 top-10\">\n                <div class=\"\">\n                <div className=\"m-5 w-56 h-56 mx-auto text-gray-500\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-person-bounding-box\" viewBox=\"0 0 16 16\">\n                    <path d=\"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z\"/>\n                    <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/>\n                    </svg>\n                </div>\n\n                <h1 className=\"text-5xl pt-12 mx-auto text-gray-500 font-black\">\n                    Для получения всего перечня доступных услуг необходимо\n                    <br/>\n                    <span className=\"text-red\"> авторизоваться в системе</span>\n                </h1>\n                </div>\n            </div>\n        );\n    }\n}","function format(value, pattern) {\n    var i = 0,\n        v = value.toString();\n    return pattern.replace(/#/g, _ => v[i++]);\n}\n\nexport default format;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst renderPinButton = (text, onClick) => {\n    return (\n        <button class=\"w-auto h-auto\" onClick={onClick}>\n            <div class=\"flex-1\" >\n            <div class=\"flex items-center justify-center flex-1 h-20 w-20 bg-blue-lighter rounded-lg\">\n                <div class=\"relative text-3xl font-black text-white\">\n                    {text}\n                </div>\n            </div>\n            </div>\n        </button>\n    )\n}\n\nexport default class ModalBackground extends React.Component {\n    static propTypes = {\n        /**\n         *  ref для инпута\n         *  @default (x) => {console.log(x)}\n         */\n        for: PropTypes.any,\n    }\n\n    static defaultProps = {\n        onInput: (x) => {console.log(x)},\n    }\n    \n\n    constructor(props) {\n        super(props);\n\n        this.pins = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"]\n    }\n\n    onPinClick(e) {\n\n    }\n\n    onBackscapeClick(e) {\n        \n    }\n\n    render() {\n        return (\n            <div className='grid grid-cols-3 grid-rows-3 grid-flow-row-dense gap-5\n            \n            overflow-x-hidden;'\n            style={{width: 'fit-content', 'block-size': 'fit-content'}}\n            >\n                {\n                this.pins.map(char => {\n                    return (\n                        <div>\n                            {\n                                renderPinButton(char, this.onInput)\n                            }\n                        </div>\n                    )})\n                }\n            <div className=\"col-span-2\">\n                <button class=\"w-full h-auto\">\n                <div class=\"flex-1\" >\n                    <div class=\"flex items-center justify-center flex-1 h-20 bg-blue-lighter rounded-lg\">\n                        <div class=\"relative font-black text-white px-5\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-10 h-10\" viewBox=\"0 0 24 24\" fill=\"currentcolor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z\"/></svg>\n                        </div>\n                    </div>\n                    </div>\n                </button>\n            </div>\n            </div>\n        )\n\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport '../../../assets/css/postcard.css'\nimport InputMask from 'react-input-mask';\nimport format from '../../../scripts/helperFunctions/format';\nimport VirtualPinpad from '../../VirtualPinpad'\n\nexport default class InputPhoneForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при отправки формы\n         *  @default (e) => {e.preventDefault()}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Действие при изменении значения поля\n         *  @default (value, mask) => console.log(value)\n         */\n         onChange: PropTypes.func,\n        \n        /**\n         *  Значение формы\n         */\n         phoneNumber: PropTypes.oneOfType(PropTypes.string, PropTypes.number)\n    }\n\n    static defaultProps = {\n        onSubmit: (data) => {},\n        onChange: (value, mask) => console.log(value),\n    }\n\n    constructor(props) {\n        super(props);\n        console.log(props.phoneNumber)\n        this.state = {phoneNumber: props.phoneNumber}\n    }\n\n    onPhoneChange = (event) => {\n        let number = event.target.value.replace(/[ _()-]/g, '');\n        console.log(number)\n        this.setState({\n            phoneNumber: number\n        });\n    }\n\n    componentDidMount() {\n        this.searchInput.focus();\n    }\n    \n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        //let redirectTo = this.props.location.search\n        //.substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n        return (\n            <>\n            <div className=\"mx-auto text-center relative max-w-5xl\">\n            <div class=\"w-full\">\n            \n            <form className=\"bg-white mt-10 shadow-md rounded px-8 mb-4\">\n                <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                <h1 className=\"text-5xl pt-12 mx-auto text-blue-darker font-black\">\n                        Войти как сотрудник\n                </h1>\n                <p className=\"text-2xl py-2 mx-auto text-gray-500\">\n                    Введите ваш номер телефона в поле ниже и нажмите на кнопку \"Продолжить\". <br/>\n                    Мы вышлем код подтверждения на указанный номер\n                </p>\n                <div className=\"my-8\">\n                <div className=\"grid h-24 grid-cols-2 grid-rows-1 gap-4 my-2\">\n                    <div><InputMask \n                    inputRef={inputEl => (this.searchInput = inputEl)}\n                    mask=\"+7 (999) 999-99-99\"\n                    maskChar={'_'}\n                    value={this.props.phoneNumber}\n                    onChange={this.onPhoneChange} \n                    //beforeMaskedValueChange={this.beforeMaskedValueChange}\n\n                    className=\"shadow appearance-none border rounded w-full h-full py-2 px-3\n                        text-gray-500 text-4xl font-black leading-tight tracking-widest focus:outline-none focus:shadow-outline\"\n                    id=\"username\" type=\"tel\"\n                    /></div>\n\n                    <MainButton\n                    className=\"bg-red hover:bg-blue-lighter\" size=\"lg\" direction=\"right\"\n                    onClick={(e) => {\n                        e.preventDefault();\n                        console.log(this.state.phoneNumber)\n                        this.props.onSubmit({phoneNumber: this.state.phoneNumber})\n                    }}\n                    >\n                        Продолжить\n                    </MainButton>\n                </div>\n                <p className=\"text-center mt-6 text-gray-500 text-lg\">\n                &copy; 2021 РМ Рейл <br/>\n                </p>\n                </div>\n            </form>\n            \n            </div>\n            </div>\n            <VirtualPinpad onInput={(e) => this.searchInput.value += e}/>\n            </>\n        );\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport InputMask from 'react-input-mask';\n\nimport format from '../../../scripts/helperFunctions/format';\nimport '../../../assets/css/input-number-fix.css'\nimport '../../../assets/css/postcard.css'\nimport VirtualPinpad from '../../VirtualPinpad'\n\nexport default class ConfirmNumberForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при изменении значения поля\n         *  Предпологается, что код подтверждения отправляется, \\\n         *  только когда поле заполнено до конца. \\\n         *  См. использование в файле LoginForm.jsx\n         *  @default (value, mask) => console.log(value)\n         */\n         onChange: PropTypes.func,\n\n        /**\n         *  Действие при отправки формы\n         *  Тут нигде не используется\n         *  @default (data) => {}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Номер телефона, который будет отображаться на форме\n         *  (Без +7 или 8)\n         *  @default '0000000000'\n         */\n        phoneNumber: PropTypes.oneOfType(PropTypes.number, PropTypes.string),\n\n        /**\n         *  Номер телефона, который будет отображаться на форме\n         *  (Без +7 или 8)\n         *  @default '00000'\n         */\n        numberMask: PropTypes.string\n    }\n\n    static defaultProps = {\n        onChange: (value, mask) => console.log(value),\n        phoneNumber: '+70000000000',\n        numberMask: '99999'\n    }\n\n    componentDidMount() {\n        this.searchInput.focus();\n    }\n\n\n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        //let redirectTo = this.props.location.search\n        //.substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n\n        return (\n            <div className=\"container mx-auto text-center relative max-w-5xl\">\n            <div class=\"mx-auto\">\n            \n            <form className=\"bg-white mt-10 left-0 right-0 shadow-md rounded px-8 mb-4\">\n                <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                <h1 className=\"text-5xl pt-12 mx-auto text-blue-darker font-black\">\n                    Введите код подтверждения\n                </h1>\n                <p className=\"text-2xl pt-2 max-w-4xl mx-auto text-gray-500\">\n                    Мы уже выслали на номер {format(this.props.phoneNumber, '## (###) ### ##-## ')} код подтверждения\n                    <br/>\n                    Введите его в поле ниже, чтобы войти\n                </p>\n                <div className=\"mb-8 mt-2\">\n\n                <InputMask\n                inputRef={inputEl => (this.searchInput = inputEl)}\n                mask={this.props.numberMask}\n                maskChar={'_'}\n                onChange={(e) => this.props.onChange(e)}\n                className=\"shadow appearance-none rounded w-72 py-2 px-3\n                text-gray-500 text-center text-4xl font-black leading-tight tracking-widest focus:outline-none focus:shadow-outline\"\n                id=\"username\" type=\"text\" \n                //beforeMaskedValueChange={this.beforeMaskedValueChange}\n                />\n\n                <p className=\"text-center mt-6 text-gray-500 text-lg\">\n                &copy; 2021 РМ Рейл <br/>\n                </p>\n                </div>\n            </form>\n            \n            </div>\n\n            <VirtualPinpad onInput={(e) => this.searchInput.value += e}/>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class Logo extends React.Component {\n    render() {\n      return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 select-none\">\n            <div className=\"select-none bg-gray-100 bg-opacity-75 absolute top-0 left-0 right-0 bottom-0\"></div>\n\n            <div className =\"flex absolute top-0 left-0 right-0 bottom-0 justify-center items-center\">\n                <svg viewBox=\"0 0 69.4 69.8\" className = \"w-48 h-auto animate-spin\" xmlns=\"http://www.w3.org/2000/svg\" id=\"preloader-logo\">\n                    <path className=\"fill\" fill=\"#ed1849\" fill-rule=\"evenodd\" d=\"M45.8 52.7l-27.7 4.1-1.6-1.2 6.6-13.1 2.6 4.5c.3.5.9.8 1.4.8h16.2c.5 0 1-.3 1.4-.7.3-.4.4-1 .2-1.5l-3.8-11.1c-.2-.7-.9-1.1-1.6-1.1h-8.9L28 25.6h12.9l2.9 4.9c.3.5.9.8 1.4.8h23.9v-.2-.1l-.1-.7v-.1l-.4-2.3C65.6 11.9 51.5 0 34.7 0A35 35 0 00.5 27.7l11.1-.7 12-9.9L51.3 13l1.6 1.2-6.6 13.2-2.7-4.5c-.3-.5-.9-.8-1.4-.8H25.9c-.5 0-1 .3-1.4.7-.3.4-.4 1-.2 1.5L28 35.4c.2.7.9 1.1 1.6 1.1h8.9l2.6 7.8H28.2l-2.9-4.9c-.3-.5-.9-.8-1.4-.8H0V38.9l.1.7v.1l.4 2.2a34.9 34.9 0 0068.3.1l-11.1.7-11.9 10z\" clip-rule=\"evenodd\"></path>\n                </svg>\n            </div>\n        </div>\n      );\n    }\n}\n","export const userRoles = {\n    GUEST: 'GUEST',\n    NO_PHONE: 'NO_PHONE',\n    INPUT_PHONE: 'INPUT_PHONE',\n    UNCONFIRMED: 'UNCONFIRMED',\n    EMPLOYEE: 'EMPLOYEE'\n}\n\n// Нельзя использовать set, потому что он не переносит JSON.Stringify\nexport const defaultUser = {\n    name: 'Гость',\n    phoneNumber: '+70000000000',\n    roles: new Set([userRoles.GUEST]),\n}\n\nexport class User {\n    /**\n     * Посмотрите на структуру объекта пользователя \\\n     * Время жизни сессии (expires) пишется в секундах \\\n     * Подразумевается, что данные будут храниться на стороне клиента, \\\n     * чтобы не делать слишком много запросов к апи \\\n     * Но апи должен хранить копию этих данных, чтобы проверять их целостность по токену \\\n     * как минмум при отправке формы \\\n     * Потому что иначе любой с шаловливыми ручками может залезть в дебаггер или куки \\\n     * И поменять там значения, на какие ему нужно\n     */\n\n    constructor(overrides = {}) {\n        Object.assign(this, defaultUser);\n        Object.assign(this, overrides);\n        \n        if (!(typeof this.roles === 'object' && this.roles instanceof Set)) {\n            this.roles = new Set(this.roles);\n        }\n        return this;\n    }\n\n\n    getFullName() {\n        const result = {\n            lastName: '',\n            firstName: '',\n            middleName: '',\n        }\n\n        let array = this.name.split(' ');\n\n        let i = 0;\n        Object.keys(result).forEach(key => {\n            if (i < array.length)\n            result[key] = array[i];\n            ++i;\n        });\n\n        return result;\n    }\n\n    // Кастомное поведение при JSON.stringify\n    // Нужно для преобразования сета в массив, иначе оно записывается как {}\n    toJSON() {\n        return JSON.stringify ({\n            name: this.name,\n            phoneNumber: this.phoneNumber,\n            roles: [...this.roles],\n        })\n    }\n\n    clone(overrides = {}) {\n        return new User(Object.assign(this.getInfo(), overrides));\n    }\n}","import {User, userRoles} from './User'\nimport Cookies from 'js-cookie';\n\nlet current = {};\n\n// Пока не нужно\nlet countdown = 0.0;\n\nexport const defaultSession = {\n    user: new User(),\n    validThrough: new Date(\"Jan 1, 2077 00:00:00\"),\n    authToken: '',\n\n    // Это тоже пока не используем\n    refreshToken: '',\n}\n\nexport class Session {\n    static startNew(overrides = {}) {\n        current = {};\n\n        current = Object.assign(current, defaultSession);\n        current = Object.assign(current, overrides);\n    }\n\n    // Пока что не пользуемся куками\n    static start() {\n        \n    }\n\n    static edit(changes = {}) {\n        Object.assign(current, changes);\n    }\n\n    static getCurrent() {\n        // Выдаём копию, чтобы ненароком ничего не менять в самой сессии\n        return Session.import(Session.export());\n    }\n\n    static export() {\n        return JSON.stringify(current);\n    }\n\n    static import(JSONstring) {\n        return JSON.parse(JSONstring, function(key, value) {\n            if (key == 'user') {\n                return new User(JSON.parse(value));\n             }\n            \n            if (key == 'validThrough') return new Date(value);\n            return value;\n        });\n    }\n\n    // Пока что не нужно\n    static writeCookie() {\n        Cookies.set('session', JSON.stringify(current), { expires: 1, secure: true })\n    }\n\n    // И это тоже\n    static readCookie() {\n        return JSON.parse((Cookies.get('session')));\n    }\n}\n\n// export const startNewSession = (sessionObj = {}) => {\n//     const result = {...defaultSession};\n//     Object.keys(sessionObj).forEach(key => {\n//         result[key] = sessionObj[key];\n//     });\n//     writeUserSession(result);\n// }\n\n// export const editSession = (edited = {}) => {\n//     const current = readUserSession();\n//     Object.keys(edited).forEach(key => {\n//         current[key] = edited[key];\n//     });\n//     writeUserSession(current);\n// }\n\n// export const writeUserSession = (session) => {\n//     Cookies.set('session', JSON.stringify(session), { expires: 1, secure: true })\n// }\n\n// export const refreshSession = (session) => {\n\n// }\n\n// export const readUserSession = () => {\n//     return JSON.parse((Cookies.get('session')));\n// }\n\n// const sessionCache = () => {\n\n// }","export const DUMMY_PHONE = '5555555555';\nexport const DUMMY_CONFIRM_NUMBER = '55555';\nexport const DUMMY_TOKEN = 'ffff0000';\nexport const UNCONFIRMED_TOKEN = 'UNCONFIRMED_USER';\n\n/**\n * Несколько самопальным ENUM реализованных в виде объектов-констант,\n * чтобы не работать с неизвестными строками\n */\n\nexport const status = {\n    SUCCESS: 'SUCCESS',\n    FAIL: 'FAIL',\n    NOT_FOUND: 'NOT FOUND'\n}\n\nexport const ACTION = {\n    READ_CARD: 'READ_CARD',\n    LOGIN: 'LOGIN',\n    LOGOUT: 'LOGOUT',\n    CONFIRM: 'CONFIRM',\n    REQSERVICE: 'REQUEST SERVICE',\n}","import {User, userRoles, defaultUser} from '../user/User'\nimport { Session } from '../user/Session';\nimport { status } from '../constants/dummyConstants';\n\nconst DUMMY_PHONE = '+75555555555';\nconst DUMMY_CONFIRM_NUMBER = '55555';\nconst DUMMY_USER_NAME = 'Иванов Иван Иванович'\nconst DUMMY_TOKEN = 'ffff0000';\nconst DUMMY_REFRESH_TOKEN = '0000ffff'\nconst DUMMY_CARD_NUMBER = '1362859'\n\n//TODO: дописать FAKEAPI, подключить reducer к нему\n//Будем считать, что сделано\n\nexport const refreshSession = (session) => {\n    return new Promise(function(resolve, reject) {\n        \n    });\n}\n\nexport const inputCard = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.card === DUMMY_CARD_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.EMPLOYEE),\n                        //roles: session.user.roles.add(userRoles.INPUT_PHONE),\n                    }),\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const inputNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.UNCONFIRMED)}),\n                    // expires: 600,\n                    authToken: DUMMY_TOKEN,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const confirmNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE\n            && data.confirmNumber === DUMMY_CONFIRM_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME,\n                    roles: new Set([userRoles.GUEST, userRoles.EMPLOYEE])}),\n\n                    authToken: DUMMY_TOKEN,\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const logout = (session, data = {}) => {\n    return new Promise(function(resolve, reject) {\n        setTimeout(() => {\n            Session.startNew();\n            resolve(status.SUCCESS)\n        }, Math.random() * 1000 + 250)\n    });\n}\n\nexport const requestService = (session, data = {}) => {\n    // data.serviceId - id запрашиваемой услуги\n    return new Promise(function(resolve, reject) {\n        if (session.authToken === DUMMY_TOKEN) {\n            setTimeout(() => {\n                resolve(status.SUCCESS)\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL)\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}","//import login from \"./actions/login\";\n//import confirm from \"./actions/confirm\";\n//import logout from \"./actions/logout\"\n\nimport {inputCard, inputNumber, confirmNumber, logout, requestService} from \"./api/fakeApi\"\nimport { Session } from \"./user/Session\"\n\nimport {ACTION, status} from './constants/dummyConstants'\n/**\n * REDUCE ОБРАБАТЫВАЕТ ВСЕ ВХОДЯЩИЕ ЗАПРОСЫ С ФОРМ \\\n * ПРИНИМАЕТ ЗАПРОС, ИСПОЛЬЗУЕТ СООТВЕТСТВУЮЩЕЕ ДЕЙСТВИЕ \\\n * \n * @param {*} action действие, которое мы хотим обработать\n * @returns ответ в виде строки-константы STATUS (см. dummyConstants), например 'SUCCESS' или 'FAIL'\n */\nasync function reduce(action) {\n    switch (action.type) {\n        case ACTION.READ_CARD:\n            return inputCard(Session.getCurrent(), action.data)\n        case ACTION.LOGIN:\n            return inputNumber(Session.getCurrent(), action.data)\n        case ACTION.CONFIRM:\n            return confirmNumber(Session.getCurrent(), action.data)\n        case ACTION.LOGOUT:\n            return logout(Session.getCurrent(), action.data)\n        case ACTION.REQSERVICE:\n            return requestService(Session.getCurrent(), action.data)\n        default:\n            return Promise.reject(status.NOT_FOUND);\n        }\n}\n\nexport default reduce;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst sizes = {\n    'sm': {\n        height: \"h-12\",\n        width: \"w-12\",\n        border: \"border-2\",\n        padding: \"px-8\",\n        text: 'text-md',\n    },\n    'lg': {\n        height: \"h-16\",\n        width: \"w-16\",\n        border: \"border-2\",\n        padding: \"px-12\",\n        text: 'text-xl',\n    }\n}\n\n\nexport default class TimeoutButtonOutline extends React.Component {\n    \n    static propTypes = {\n        /**\n         *  Действие при нажатии кнопки либо по истечении времени\n         *  @default () => {}\n         */\n        onClick: PropTypes.func,\n\n        /**\n         *  Время в секундах до осуществления действия\n         *  @default undefined\n         */\n        timeout: PropTypes.number,\n\n        /**\n         * Размер кнопки. Один из ['sm', 'lg']\n         * @default 'sm'\n         */\n        size: PropTypes.string,\n\n        /**\n         * Цвет кнопки. СТРОКА. См. цветообразование в tailwind css \\\n         * Также в проект зашиты другие цвета в tailwind.config.js\n         * \n         * @default 'red'\n         */\n        color: PropTypes.string,\n\n        /**\n         * Контрастный цвет к заданному (color) СТРОКА. См. цветообразование в tailwind css \\\n         * Также в проект зашиты другие цвета в tailwind.config.js \\\n         * \n         * @default 'white'\n         */\n        contrastColor: PropTypes.string,\n    }\n\n    static defaultProps = {\n        onClick: () => {},\n        timeout: undefined,\n        size: 'sm',\n        color: 'red',\n        contrastColor: 'white'\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {timer: props.timeout}\n    }\n\n    componentDidMount() {\n        if (this.state.timer)\n            this.onTimerTick.call(this);\n    }\n\n    onTimerTick() {\n        if (this.state.timer <= 0) {\n            this.props.onClick({preventDefault: () => {}});\n        }\n        else {\n            setTimeout(() => {\n                this.setState({timer: this.state.timer - 1},\n                    this.onTimerTick.call(this));\n            }, 1000)\n        }\n    }\n\n    render() {\n        const size = sizes[this.props.size] || sizes['sm'];\n        const color = {\n            text: `text-${this.props.color}`,\n            border: `border-${this.props.color}`,\n            hoverText: `hover:text-${this.props.contrastColor}`,\n            hoverBg: `hover:bg-${this.props.color}`,\n        }\n\n        /*         \n            h-12\n            flex items-center\n            text-red\n            justify-center uppercase\n            font-semibold\n            border-red\n            undefined\n            border-red hover:bg-red\n            hover:text-white\n            transition duration-500\n            ease-in-out \n            text-md\"\n         */\n\n        return (\n        <button class=\"inline-flex\" onClick={this.props.onClick}>\n            <span class={`\n            ${size.height}\n            flex items-center\n            ${color.text}\n            justify-center uppercase\n            font-semibold\n            ${color.border}\n            ${size.padding}\n            ${size.border}\n            ${color.border}\n            ${color.hoverBg}\n            ${color.hoverText}\n            transition duration-500\n            ease-in-out \n            ${size.text}`}>\n                {this.props.children}\n            </span>\n            {(() => {\n                if (typeof this.props.timeout !== 'undefined') {\n                    return <span class={`\n                    ${size.height}\n                    ${size.width} \n                    flex-shrink-0\n                    flex ${color.text}\n                    items-center justify-center \n                    ${size.border}\n                    border-l-0 font-black\n                    ${color.border} ${color.hoverBg}\n                    ${color.hoverText}\n                    transition duration-500\n                    ease-in-out\n                    ${size.text}\n                    `}>\n                            {this.state.timer}\n                        </span>\n                }\n            })()}\n        </button>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport AskLoginForm from './Login/AskLoginForm';\nimport InputPhoneForm from './Login/InputPhoneForm';\nimport ConfirmForm from './Login/ConfirmNumberForm';\nimport LoaderScreen from '../LoaderScreen'\n\nimport reducer from '../../scripts/reducer'\n\nimport { userRoles } from '../../scripts/user/User';\nimport {Session} from '../../scripts/user/Session'\nimport { ACTION } from '../../scripts/constants/dummyConstants';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\n// Время в секундах\nconst LOGOUT_T = 30;\n\nexport default class Forms extends React.Component {\n\n    // Дописать действия при отправке формы (props.onSubmit)\n\n    // TODO: сделать переходы в зависимости от success и fail\n    constructor(props) {\n        super(props);\n        this.state = {loading: true, timer: LOGOUT_T}\n    }\n\n    componentDidMount() {\n        this.setState({session: Session.getCurrent(), loading: false})\n        //console.log(success)\n        //console.log(fail)\n    }\n\n    componentWillMount() {\n        \n    }\n\n    setLoading(value) {\n        this.setState({loading: value})\n    }\n\n    updateSession(callback = () => {}) {\n        this.setState({session: Session.getCurrent()}, callback)\n    }\n\n\n    onLogout(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGOUT, data: data}).then((result) => {\n                updateSession(setLoading(false));\n                // ...\n            },\n            )\n            .catch(result => {\n                updateSession(setLoading(false));\n                // ...\n            })\n        })\n    }\n\n    render() {\n        if (this.state.loading)\n            return <LoaderScreen/>\n        else {\n            const user = this.state.session.user;\n            //console.log(this.state.session);\n            //console.log(Session.getCurrent());\n\n            if (user.roles.has(userRoles.EMPLOYEE))\n                return (\n                    <div class=\"absolute left-4 top-4 max-w-md flex flex-col space-y-4 justify-center items-center\">\n                    <div class=\"bg-transparent w-auto flex items-center p-2\">\n                    <div class=\"flex items-center space-x-4 text-red\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                        </svg>\n                    </div>\n                    <div class=\"flex-grow p-3\">\n                    <div class=\"font-semibold text-xl text-blue-darker\">\n                        {user.getFullName().lastName + \" \" + user.getFullName().firstName}\n                    </div>\n                    {/* <div class=\"text-sm text-gray-500\">\n                        {(() => {\n                            if (user.roles.has(userRoles.EMPLOYEE))\n                                return \"Сотрудник\"\n                            else\n                                return \"Вход в систему не выполнен\"\n                        })()}\n                    </div> */}\n                    </div>\n                    <TimeoutButtonOutline timeout={20} onClick={(e) => {this.onLogout.call(this)}}>\n                        выход\n                    </TimeoutButtonOutline>\n                    </div>\n                    </div>\n                )\n            else return \"\";\n        }\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\n/**\n * Кнопка на главной странице\n */\nexport default class SecondaryButton extends React.Component {\n    static propTypes = {\n        /** \n         * \"Направление\" кнопки. Влияет на границу\n         * Может быть left, top, right или bottom\n         * @default \"left\"\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Иконка кнопки, html код (svg)\n         * Обычно пишется в виде <svg ...> </svg>\n         */\n        icon: PropTypes.string,\n\n        /** \n         * Ссылка, по которой ведёт кнопка \\\n         * Если задана, кнопка оборачивается в ссылку и функция OnClick не срабатывает \\\n         */\n        link: PropTypes.string,\n\n        /** \n         * Дополнительный текст к кнопке\n         */\n        description: PropTypes.string,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         */\n        className: PropTypes.string,\n\n        /** \n         * Функция, которая выполняется по нажатию на кнопку\n         * @default () => {}\n         */\n        onClick: PropTypes.func,\n\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        direction: 'left',\n        onClick: (e) => {},\n    }\n    \n    #arrowRotation = {\n        left:  'left-0 rotate-0',\n        right:  'right-0 rotate-180',\n    }\n\n    render() {\n      const ParentTagName = this.props.link ? Link : 'button'\n      return (\n        <ParentTagName className={\n            `${this.props.direction === 'left' ? 'bg-gradient-to-r' : 'bg-gradient-to-l'}\n        from-blue-lighter to-red p-1 ` + this.props.className}\n        onClick={this.props.onClick}\n        to={this.props.link}\n        >\n\n        <div className=\"container \n        bg-white flex items-center content-center justify-between text-center relative h-40\">\n            <div className= {`\n            ${this.props.direction === 'left' ? 'pl-16' : 'pl-6'}\n            pt-7 pb-4 text-left`}>\n            <h3 className={\n                `text-4xl font-black\n                ${this.props.direction === 'left' ? 'text-blue-darker' : 'text-red'}`}>\n                {this.props.children}\n            </h3>\n            <p class=\"text-gray-500 mt-2\">\n                {this.props.description}\n            </p>\n            </div>\n            <div className=\"p-4\">\n            <div className={\n                `w-24 mx-auto\n                ${this.props.direction === 'left' ? 'text-red' : 'text-blue-darker mr-7'}`}\n                dangerouslySetInnerHTML={{ __html: this.props.icon }}\n            >\n            </div>\n            </div>\n            <div className={\n                `w-12 h-12\n                absolute\n                text-blue-darker\n                transform\n                ${this.#arrowRotation[this.props.direction]}\n                `}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n            </div>\n        </div>\n        </ParentTagName>\n      );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ContentButton extends React.Component {\n    static propTypes = {\n\n        /** \n         * \"Направление\" кнопки. Пока что влияет только на стрелочку \\\n         * Может быть left, right или никаким\n         * @default \"left\"\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки\n         */\n        onClick: PropTypes.func,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         * @example className = \"bg-blue-lighter hover:bg-red\"\n         * сделает кнопку синей, а при наведении на неё мышкой - красной \n         */\n        className: PropTypes.string,\n\n        /**\n         * Выключена ли кнопка\n         */\n        disabled: PropTypes.any,\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        size: 'md',\n        direction: 'left',\n        children: 'Кнопка',\n        disabled: false,\n    }\n\n    render() {\n        switch (this.props.direction) {\n            case 'left':\n                return (\n                <button type=\"button\"\n                onClick={this.props.onClick}\n                disabled={this.props.disabled}\n                class={`bg-gray-800 text-white rounded-l-md\n                py-3 hover:bg-red\n                transition duration-150 ease-out\n                hover:text-white px-5 ${this.props.className}`}>\n                <div class=\"flex flex-row align-middle items-center\">\n                    <svg class=\"w-8 mr-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" d=\"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                    <p class=\"ml-4 text-xl uppercase font-black\">{this.props.children}</p>\n                </div>\n                </button>\n            )\n\n            case 'right':\n                return (\n                <button type=\"button\"\n                onClick={this.props.onClick}\n                disabled={this.props.disabled}\n                class={`bg-gray-800 text-white rounded-r-md\n                transition duration-150 ease-out\n                py-3 hover:bg-red\n                hover:text-white px-5 ${this.props.className}`}>\n                    <div class=\"flex flex-row align-middle items-center\">\n                    <p class=\"mr-4 text-xl uppercase font-black\">{this.props.children}</p>\n                    <svg class=\"w-5 ml-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path fill-rule=\"evenodd\" d=\"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                    </div>\n                </button>\n                )\n            \n            default:\n                return (\n                    <button type=\"button\"\n                    onClick={this.props.onClick}\n                    disabled={this.props.disabled}\n                    class={`bg-gray-800 text-white rounded-md\n                    py-3 hover:bg-red\n                    transition duration-150 ease-out\n                    hover:text-white px-5 ${this.props.className}`}>\n                        <div class=\"flex flex-row align-middle items-center\">\n                        <p class=\"mx-2 text-xl uppercase font-black\">{this.props.children}</p>\n                        </div>\n                    </button>\n                )\n        }\n\n    }\n}","export const getNewsList = () => {\n    return new Promise(function(resolve, reject) {\n        fetch('/api/news')\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json['newsList'])\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\nexport const getMaps = (category) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/maps/${category}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json['imageList'])\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getMenu = (menu) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/menus${menu}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json)\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getMenuTest = (menu) => {\n    return new Promise(function(resolve, reject) {\n        resolve({\n            \"buttons\": [\n              {\n                \"detail\": \"Справка 2-НДФЛ, Справка 182Н, Справка о заработной плате,\\n                Справка в УФССП, Справка в центр занятости\",\n                \"icon\": \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\">\\n                <path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\\\" />\\n                </svg>\",\n                \"link\": \"/services/finance\",\n                \"onClick\": null,\n                \"text\": \"Доходы\"\n              },\n              {\n                \"detail\": \"Справка о выплате единовременного пособия, \\n                Справка о получении/неполучении пособия по уходу за ребенком, \\n                Справка о выплате материальной помощи при рождении ребенка\",\n                \"icon\": \"<svg fill=\\\"none\\\" stroke=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                <path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\\\"></path>\\n                </svg>\",\n                \"link\": \"/forms/service/1\",\n                \"onClick\": null,\n                \"text\": \"Выплаты\"\n              }\n            ],\n            \"goBack\": true,\n            \"goBackText\": \"Назад\",\n            \"type\": \"TWO_SIDES\"\n          })\n    });\n}","import React from 'react';\n\nexport default class FailReport extends React.Component {\n    render() {\n        return (\n            <div class=\"flex items-center gap-4 bg-red p-4 rounded-md max-w-5xl mx-auto\">\n            <div class=\"w-max\">\n                <div class=\"h-24 w-28 flex text-white border-r-4 border-white\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                </div>\n            </div>\n            <div class=\"space-y-1 pl-2 text-3xl text-left\">\n                <h6 class=\"font-black text-white\">{this.props.children}</h6>\n                <p class=\"font-black text-2xl text-gray-100\">{this.props.detail}</p>\n                <p class=\"font-black text-white\">Техподдержка: +7 (555) 555 55-55</p>\n            </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../Buttons/MainButton';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\nconst directions = [\"left\", \"bottom\", \"top\", \"right\"];\n\nexport default class ToolbarSecondary extends React.Component {\n\n    static propTypes = {\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * @default []\n         * @example\n         *      [{text: \"На главную\",\n         *      onClick: (e) => {\n         *      e.preventDefault();\n         *      this.props.history.push(\"/\")\n         *      }}]\n         */\n        buttons: PropTypes.array,\n\n        /**\n         * Размер. Один из ['sm', 'lg']\n         * @default 'sm'\n         */\n        size: PropTypes.string,\n        }\n\n    static defaultProps = {\n        buttons: [],\n        size: 'sm',\n    }\n\n    render() {\n        let n = this.props.buttons.length;\n        let buttons = this.props.buttons;\n\n        return (\n            <div className={`flex justify-start items-center flex-wrap -ml-5`}>\n            {\n                buttons.map((button,index) => {\n                    return (\n                    <div className=\"ml-5\">\n                        <TimeoutButtonOutline\n                        size={this.props.size}\n                        timeout={button.timeout}\n                        onClick={button.onClick}\n                        color={button.color}>\n                            {button.text}\n                        </TimeoutButtonOutline>\n                    </div>\n                    )\n                })\n            }\n            </div>\n        );\n    }\n}","import ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport React from 'react';\n\nconst getGoBackPath = (component) => {\n    let currentPath = component.props.location.pathname;\n\n    if (currentPath.lastIndexOf(\"/\") === currentPath.length - 1)\n        currentPath = currentPath.substr(0, currentPath.length - 1)\n\n    return currentPath.substr(0, currentPath.lastIndexOf(\"/\") + 1)\n}\n\nexport class ServicesGoBack extends React.Component {\n    render() {\n        return (\n        <div class=\"clearfix\">\n            <ToolbarSecondary size=\"lg\" buttons={[\n                {\n                    text: \"Назад\",\n                    onClick: ((e) => {\n                        e.preventDefault();\n                        this.props.history?.push(getGoBackPath(this))\n                    }).bind(this),\n                    //timeout: 100,\n                },\n            ]}\n            />\n        </div>\n    )\n    }\n}","import React from 'react';\nimport MainButton from '../Buttons/MainButton'\nimport SecondaryButton from '../Buttons/SecondaryButton'\nimport ContentButton from '../Buttons/ContentButton'\nimport { func } from 'prop-types';\nimport { getMenu } from '../../scripts/api/contentApi';\nimport FailReport from '../FailReport';\nimport { ServicesGoBack } from './GoBackComponents';\n\nconst switches = {\n    'MAIN': {\n        Component: MainButton,\n        className: (index) => {\n            const sizes = [{x: 2, y: 2}, {x: 1, y: 1}, {x: 1, y: 1}]\n            const span = sizes[index % sizes.length]\n\n            // Даже нЕ ДУМай удАЛЯть этот КУсок коДА\n            const FUCK_YOU_TAILWIND_READ_THOSE_STYLES_PLZ = `\n            col-span-2 col-span-3 col-span-4 col-span-1 \n            row-span-2 row-span-3 row-span-4 row-span-1\n            `\n            return \"bg-bg-red hover:bg-blue-lighter py-4 \"\n            + `col-span-${span.x} row-span-${span.y}`\n        },\n        direction: (index) => undefined,\n        size: (index) => {\n            const d = ['xl', 'md', 'md']\n            return d[index % d.length]\n        },\n        GoBackComponent: undefined\n    },\n    'TWO_SIDES': {\n        Component: SecondaryButton,\n        className: () => \"col-span-1\",\n        direction: (index) => (index % 2 == 0) ? 'left' : 'right',\n        GoBackComponent: ServicesGoBack\n    }\n}\n\nexport default class AutoMenu extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.url != this.props.url) {\n            this.componentDidMount();\n        }\n    }\n\n    componentDidMount() {\n        getMenu(this.props.url).then((result => {\n            console.log(result)\n            this.setState(({loading: false, ...result}))\n        }).bind(this))\n        .catch((error => {\n            this.setState({loading: false, error: true})\n        }).bind(this))\n    }\n\n    render() {\n        const e = switches[this.state.type]\n\n        return (\n            this.state.loading ?\n            \"Идёт загрузка меню...\"\n            : this.state.error ?\n            <FailReport>\n                Произошла ошибка при загрузке меню!\n            </FailReport>\n            : <>\n            {\n            this.state.buttons.map((button, index) => \n                <e.Component\n                className={e.className?.(index)}\n                size={e.size?.(index)}\n                direction={e.direction?.(index)}\n                detail={button.detail}\n                icon={button.icon}\n                link={button.link}\n                onClick={button.link? undefined : button.onClick}\n                >\n                    {button.text}\n                </e.Component>\n            )\n            }\n            {\n                this.state.goBack && e.GoBackComponent ?\n                    <e.GoBackComponent {...this.props}/>\n                : null\n            }\n            </>\n        )\n    }\n}","import React from 'react';\nimport backgroundImage from '../../assets/images/background-0.png';\nimport Background from './Background';\nimport ButtonContainer from './ButtonContainer';\nimport Logo from './Logo';\nimport MainButton from '../Buttons/MainButton';\nimport UserInfo from '../Forms/UserInfo'\nimport AutoMenu from '../Menus/AutoMenu';\n\nexport default class MainPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n      return (\n      <div>\n\n        {/* Задний фон */}\n        <Background url={backgroundImage}/>\n        \n        <div className=\"container mx-auto text-center h-screen\">\n            {/* Логотип RMRail инфокиоск */}\n            <Logo/>\n\n            {/* Давайте хотя бы на главной странице выводить информацию о пользователе */}\n            <UserInfo/>\n\n            {/* Контейнер с кнопками */}\n            <ButtonContainer>\n                <AutoMenu url=\"\"/>\n            </ButtonContainer>\n        </div>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport SecondaryButton from '../Buttons/SecondaryButton';\nimport PropTypes from 'prop-types'\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\n\nexport default class ServicesMenu extends React.Component {\n    static propTypes = {\n        /**\n         *  Нужно ли выводить кнопку \"назад\"\n         *  @default true\n         */\n        goBack: PropTypes.bool,\n\n        /** \n         * Текст кнопки \"назад\"\n         * Не выводится, если goBack = false\n         * @default \"Назад\"\n         */\n        goBackText: PropTypes.string,\n\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * *Внимательно посмотрите на пример в коде компонента*\n         * @default []\n         * @example []\n         */\n        buttons: PropTypes.array,\n    }\n\n    static defaultProps = {\n        goBack: true,\n        goBackText: 'Назад',\n        buttons: [],\n    }\n\n    getGoBackPath() {\n        let currentPath = this.props.location.pathname;\n\n        if (currentPath.lastIndexOf(\"/\") === currentPath.length - 1)\n            currentPath = currentPath.substr(0, currentPath.length - 1)\n\n        return currentPath.substr(0, currentPath.lastIndexOf(\"/\") + 1)\n    }\n\n    render() {\n        let buttons = [...this.props.buttons]\n\n        /*\n        Кнопку \"назад\" решили поцепить другим способом\n        if (this.props.goBack) {\n            buttons.unshift (\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    </svg>`,\n                    link: this.getGoBackPath(),\n                    onClick: () => {},\n                    description: '',\n                    text: this.props.goBackText,\n                }\n            )\n        }\n        */\n\n      return (\n      <div>\n        <div className=\"container mx-auto text-center\">\n\n            {/* Контейнер с кнопками */}\n            <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                {\n                    buttons.map((button,index)=> {\n                        return (\n                            <SecondaryButton className=\"col-span-1\" direction={index % 2 === 0 ? 'left' : 'right'}\n                            icon={button.icon}\n                            link={button.link}\n                            description={button.description}\n                            >\n                                {button.text}\n                            </SecondaryButton>\n                        )\n                    })\n                }\n            </div>\n            {(() => {\n                if (this.props.goBack)\n                    return (\n                        <div class=\"mx-4\">\n                            <ToolbarSecondary size=\"lg\" buttons={[\n                                {\n                                    text: \"Назад\",\n                                    onClick: ((e) => {\n                                        e.preventDefault();\n                                        this.props.history.push(this.getGoBackPath())\n                                    }).bind(this),\n                                    //timeout: 100,\n                                },\n                            ]}\n                            />\n                        </div>\n                    );\n            })()}\n        </div>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport ServicesMenu from './ServicesMenu';\nimport ServicesRoutes from './Services';\n\n\nimport { BrowserRouter as Router, Switch, \n    Route, Redirect,} from \"react-router-dom\";\n\n\n\nexport default class Finance extends React.Component {\n    render() {\n        return (\n            <Switch>\n            {/*<Route path=\"/services\" component={Services}/>*/}\n            <Route path='/services/finance/:form' render={(props) => \n                {\n                    return <Redirect to={`/services/form?serviceId=${props.match.params.form}`} />\n                }\n            }/>\n\n            <Route exact path=\"/services/finance\" render={(props) => <ServicesMenu {...props}\n            buttons={[\n                {\n                    icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>`,\n                    link: '/forms/service/150',\n                    description: '',\n                    text: 'Справка 2-НДФЛ',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path></svg>`,\n                    link: '/forms/service/151',\n                    description: ``,\n                    text: 'Справка 182Н',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\">\n                    </path></svg>`,\n                    link: '/forms/service/155',\n                    description: ``,\n                    text: 'Справка о заработной плате',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\">\n                    </path></svg>`,\n                    link: '/forms/service/157',\n                    description: '',\n                    text: 'Справка в УФССП',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\">\n                    </path></svg>`,\n                    link: '/forms/service/158',\n                    description: '',\n                    text: 'Справка в центр занятости',\n                },\n            ]}\n            />} />\n\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport MainButton from '../Buttons/MainButton';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\nimport format from '../../scripts/helperFunctions/format';\n\n/**\n * ВНИМАНИЕ: этот компонент является графической обёрткой \\\n * вся логика должна быть реализована в родительском компоненте \\\n * который и передаёт данные для отображения, а также функцию при отправке\n */\nexport default class BaseForm extends React.Component {\n    static propTypes = {\n\n        /**\n         * Название услуги\n        */\n        serviceText: PropTypes.string,\n\n        /** \n         * ФИО для отображения\n         */\n        name: PropTypes.string,\n\n        /** \n         * Телефон для отображения\n         */\n        phone: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки \"подтвердить\"\n         */\n        onSubmit: PropTypes.func,\n    }\n\n    static defaultProps = {\n        // Все свойства указывать обязательно!\n        // стандартными не заменяем\n    }\n\n    render() {\n        return (\n            <div class=\"w-full max-w-3xl mx-auto\">\n            <form class=\"bg-white shadow-md relative rounded px-8 pt-6 pb-8 mb-4 mt-16\">\n            <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                \n                <div class=\"mb-8\">\n                <label class=\"block text-blue-darker font-black text-3xl mb-2\" for=\"service\">\n                    Услуга\n                </label>\n                <input\n                disabled\n                class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"service\" type=\"text\" value={this.props.serviceText}/>\n                </div>\n\n                <div class=\"mb-8\">\n                <label class=\"block text-blue-darker text-3xl font-black mb-2\" for=\"name\">\n                    ФИО\n                </label>\n                <input\n                disabled\n                class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"name\" type=\"text\" value={this.props.name}/>\n                </div>\n\n                <div class=\"mb-8\">\n                <label class=\"block text-blue-darker text-3xl font-black mb-2\" for=\"phone\">\n                    Контактный номер\n                </label>\n                <input\n                disabled\n                class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"phone\" type=\"text\" value={format(this.props.phone, '## (###) ### ##-##')}/>\n                </div>\n\n\n                <div class=\"grid h-28 grid-cols-1 grid-rows-1\">\n                <MainButton className=\"hover:bg-blue-lighter\" direction=\"right\" size=\"lg\" onClick={this.props.onSubmit}>\n                    Подтвердить\n                </MainButton>\n                {/*\n                <a class=\"inline-block align-baseline font-bold text-2xl text-blue-lighter\n                hover:text-blue-darker\" href=\"#\">\n                    Ошибка в данных?\n                </a>\n                */}\n                </div>\n            </form>\n            <p class=\"text-center text-gray-500 text-lg mt-8\">\n                &copy; 2021 РМ Рейл\n            </p>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport ServicesMenu from './ServicesMenu';\nimport { Session } from '../../scripts/user/Session';\nimport { userRoles } from '../../scripts/user/User';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport Finance from './Finance';\nimport BaseForm from '../Forms/BaseForm'\nimport AutoMenu from '../Menus/AutoMenu';\n\nexport default class ServicesRoutes extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true, url: props.location.pathname}\n    }\n\n    componentDidMount() {\n        const search = this.props.location.search;\n        this.allowGuest = ((new URLSearchParams(search).get(\"guest\")) === 'true') || false;\n\n        this.setState({session: Session.getCurrent(), loading: false}, () => {\n            if (!this.state.session.user.roles.has(userRoles.EMPLOYEE) && !this.allowGuest) {\n                this.props.history.push('/forms/ask-login?success=/services&fail=/services?guest=true');\n            }\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.pathname != prevProps.location.pathname) {\n            this.setState({url: this.props.location.pathname})\n        }\n    }\n\n    render() {\n        \n        return (\n            <Switch>\n            {/*<Route path=\"/services\" component={Services}/>*/}\n            \n            <Route path='/services' render={(props) =>\n                <>\n                <div className=\"container mx-auto text-center\">\n        \n                    {/* Контейнер с кнопками */}\n                    {console.log(this.state.url)}\n                    <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                    <AutoMenu url={this.state.url} {...props}/>\n                    </div>\n                </div>\n                </>\n            }/>\n\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ModalBackground extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при закрытии окна\n         *  @default (e) => {e.preventDefault()}\n         */\n        onClose: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onClose: (e) => {e.preventDefault()},\n    }\n\n    constructor(props) {\n        super(props);\n        this.background = React.createRef();\n    }\n\n    render() {\n        return (\n            <div ref={this.background}\n            class=\"fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 flex items-center justify-center\"\n            onClick={(e) => {\n                if (e.target == this.background.current)\n                    this.props.onClose(e)\n            }}>\n            {this.props.children}\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ModalClose extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при закрытии окна\n         *  @default (e) => {e.preventDefault()}\n         */\n        onClose: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onClose: (e) => {e.preventDefault()},\n    }\n\n    render() {\n        return (\n            <button type=\"button\" class=\"absolute right-2 top-2 p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500\"\n            onClick={(e) => this.props.onClose(e)}>\n            <span class=\"sr-only\">Close menu</span>\n            <svg class=\"h-12 w-12\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n            </button>\n        );\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport '../../../assets/css/postcard.css'\nimport InputMask from 'react-input-mask';\nimport format from '../../../scripts/helperFunctions/format';\nimport \"../../../assets/css/animate-ellipsis.css\"\nimport ModalBackground from \"../../Modals/ModalBackground\"\nimport ModalClose from '../../Modals/ModalClose';\n\n\nexport default class ReadCardForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при прочтении карты\n         *  @default (e) => {e.preventDefault()}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Действие при отмене ввода\n         *  @default (e) => {e.preventDefault()}\n         */\n        onCancel: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onSubmit: (data) => {},\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {card: '', loading: false}\n        this.background = React.createRef();\n    }\n\n    onInput = (event) => {\n        //event.preventDefault();\n        let number = event.target.value;\n\n        if (this.countdown)\n            clearTimeout(this.countdown)\n        this.countdown = setTimeout((e) => {this.props.onSubmit({card: number})}, 1500);\n        \n        if (!this.state.loading)\n        {\n            this.setState({loading: true})\n        }\n    }\n\n    componentDidMount() {\n    }\n    \n    render() {\n        return (\n            <ModalBackground onClose={(e) => this.props.onCancel(e)}>\n            <form class=\"max-w-lg pt-4 pb-8 px-8 bg-gray-800 shadow-xl rounded-lg text-center relative\">\n                <div class=\"mt-4 w-20 h-20 mx-auto relative items-center justify-center flex\">\n                {\n                    this.state.loading\n                    ?\n                    <svg class=\"animate-spin h-14 w-14 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                        <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    :\n                    <>\n                    <span class=\"absolute left-4 top-4 flex h-12 w-12\">\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75\"></span>\n                    </span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 20 20\" viewBox=\"0 0 20 20\" fill=\"#FFFFFF\"><rect fill=\"none\" height=\"20\" width=\"20\"/><path d=\"M5.41,14.59l-1.06,1.06C2.9,14.21,2,12.21,2,10c0-2.21,0.9-4.21,2.34-5.66l1.06,1.06C4.23,6.58,3.5,8.21,3.5,10 S4.23,13.42,5.41,14.59z M16.5,10c0,1.79-0.73,3.42-1.91,4.59l1.06,1.06C17.1,14.21,18,12.21,18,10c0-2.21-0.9-4.21-2.34-5.66 l-1.06,1.06C15.77,6.58,16.5,8.21,16.5,10z M13.5,10c0,0.96-0.39,1.84-1.03,2.47l1.06,1.06C14.44,12.63,15,11.38,15,10 c0-1.38-0.56-2.63-1.46-3.54l-1.06,1.06C13.11,8.16,13.5,9.04,13.5,10z M6.5,10c0-0.96,0.39-1.84,1.03-2.47L6.46,6.46 C5.56,7.37,5,8.62,5,10c0,1.38,0.56,2.63,1.46,3.54l1.06-1.06C6.89,11.84,6.5,10.96,6.5,10z M10,8.25c-0.97,0-1.75,0.78-1.75,1.75 s0.78,1.75,1.75,1.75s1.75-0.78,1.75-1.75S10.97,8.25,10,8.25z\"/></svg>\n                    </>\n                }\n                </div>    \n\n                <div>\n                    <h2 class=\"text-white text-4xl font-semibold\">\n                        Приложите карту сотрудника\n                    </h2>\n                </div>\n                \n                <input \n                class=\"absolute opacity-0 top-0 left-0 block w-screen h-full max-w-lg\"\n                name=\"card\"\n                onChange={this.onInput}\n                autoFocus>\n                </input>\n\n                <ModalClose onClose={(e) => this.props.onCancel(e)}></ModalClose>\n            </form>\n            </ModalBackground>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../Buttons/MainButton';\n\nconst directions = [\"left\", \"bottom\", \"top\", \"right\"];\n\nexport default class ToolbarMain extends React.Component {\n\n    static propTypes = {\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * @default []\n         * @example\n         *      [{text: \"На главную\",\n         *      onClick: (e) => {\n         *      e.preventDefault();\n         *      this.props.history.push(\"/\")\n         *      }}]\n         */\n        buttons: PropTypes.array,\n    }\n\n    static defaultProps = {\n        buttons: [],\n    }\n\n    render() {\n        let n = this.props.buttons.length;\n        let buttons = this.props.buttons;\n\n        return (\n            <div className={`grid h-56 grid-cols-${n > 1 ? n : 2} grid-rows-1 gap-4 py-10 absolute bottom-0 left-0 right-0`}>\n            {\n                buttons.map((button,index) => {\n                    return <MainButton className=\"col-span-1 row-span-1 bg-blue-lighter hover:bg-red\"\n                    size=\"lg\"\n                    direction={n === 1\n                        ? directions[0]\n                        : index === n - 1\n                            ? directions[directions.length - 1]\n                            : directions[index % directions.length]}\n                    onClick={button.onClick}>\n                        {button.text}\n                    </MainButton> \n                })\n            }\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class FailReport extends React.Component {\n    render() {\n        return (\n            <div class=\"flex items-center gap-4 bg-green-500 p-4 rounded-md max-w-5xl mx-auto\">\n            <div class=\"w-max\">\n                <div class=\"h-24 w-28 flex text-white border-r-4 border-white\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n                    <path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n                    </svg>\n                </div>\n            </div>\n            <div class=\"space-y-1 pl-2 text-3xl text-left\">\n                <h6 class=\"font-black text-white\">{this.props.children}</h6>\n                <p class=\"font-black text-2xl text-gray-100\">{this.props.detail}</p>\n            </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport SuccessReport from '../../SuccessReport'\nimport format from '../../../scripts/helperFunctions/format';\nimport ToolbarSecondary from '../../Toolbars/ToolbarSecondary';\n\nexport default class ServiceAfterSuccess extends React.Component {\n\n    // TODO: подключить эту штуку в forms\n    // TODO: сделать похожие формы при ошибке, а также после входа в систему\n\n    static propTypes = {\n        /**\n         *  Объект \"класса\" user\n         */\n        user: PropTypes.object,\n\n        /**\n         * Название услуги, которую мы только что отправили\n         */\n        serviceText: PropTypes.string,\n\n        /** \n         * Действие при продолжении сессии (нажали на кнопку \"Продолжить как ...\")\n         */\n        onContinue: PropTypes.func,\n\n        /** \n         * Действие при выходе (нажали на кнопку \"Завершить сеанс\")\n         */\n        onExit: PropTypes.func,\n    }\n\n    /** \n     * ОБЯЗАТЕЛЬНО ЗАПОЛНИТЕ ВСЕ ПРОПЫ!!!\n     */\n    static defaultProps = {\n\n    }\n\n    render() {\n        return (\n            <div class=\"container mt-32 mx-auto\">\n                <SuccessReport detail=\n                {`Уведомление о готовности и способе выдачи прийдет на ваш номер телефона\n                ${format(this.props.user.phoneNumber, ' ## (###) ### ##-##')}`}>\n                    Вы успешно отправили заявку <br/>\n                    \"{this.props.serviceText}\" <br/>\n                    на имя {\" \" + this.props.user.getFullName().firstName}\n                    {\" \" + this.props.user.getFullName().lastName}\n                </SuccessReport>\n                <div class=\"max-w-5xl mx-auto mt-8\">\n                    <ToolbarSecondary buttons={[\n                        {\n                            text: \"Продолжить как \" + this.props.user.getFullName().firstName,\n                            onClick: (e) => this.props.onContinue(),\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"Завершить сеанс\",\n                            onClick: (e) => this.props.onExit(),\n                            timeout: 20,\n                            //color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport FailReport from '../../FailReport'\nimport format from '../../../scripts/helperFunctions/format';\nimport ToolbarSecondary from '../../Toolbars/ToolbarSecondary';\n\nexport default class ServiceAfterFail extends React.Component {\n\n    // TODO: подключить эту штуку в forms\n    // TODO: сделать похожие формы при ошибке, а также после входа в систему\n\n    static propTypes = {\n        /**\n         *  Объект \"класса\" user\n         */\n        user: PropTypes.object,\n\n        /**\n         * Название услуги, которую мы только что отправили\n         */\n        serviceText: PropTypes.string,\n\n        /** \n         * Действие при продолжении сессии (нажали на кнопку \"Попробовать ещё раз\")\n         */\n        onContinue: PropTypes.func,\n\n        /** \n         * Действие при выходе (нажали на кнопку \"Завершить сеанс\")\n         */\n        onExit: PropTypes.func,\n    }\n\n    /** \n     * ОБЯЗАТЕЛЬНО ЗАПОЛНИТЕ ВСЕ ПРОПЫ!!!\n     */\n    static defaultProps = {\n\n    }\n\n    render() {\n        return (\n            <div class=\"container mt-32 mx-auto\">\n                <FailReport>\n                    Мы не смогли отправить заявку <br/>\n                    \"{this.props.serviceText}\" <br/>\n                    на имя {\" \" + this.props.user.getFullName().firstName}\n                    {\" \" + this.props.user.getFullName().lastName}\n                </FailReport>\n                <div class=\"max-w-5xl mx-auto mt-8\">\n                    <ToolbarSecondary buttons={[\n                        {\n                            text: \"Попробовать ещё раз\",\n                            onClick: (e) => this.props.onContinue(),\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"На главный экран\",\n                            onClick: (e) => this.props.onExit(),\n                            timeout: 60,\n                            //color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport {\n    // BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport AskLoginForm from './Login/AskLoginForm';\nimport InputPhoneForm from './Login/InputPhoneForm';\nimport ConfirmForm from './Login/ConfirmNumberForm';\nimport LoaderScreen from '../LoaderScreen'\nimport ReadCardForm from './Login/ReadCardForm';\n\nimport reducer from '../../scripts/reducer'\n\nimport { userRoles } from '../../scripts/user/User';\nimport {Session} from '../../scripts/user/Session'\nimport { ACTION } from '../../scripts/constants/dummyConstants';\n\nimport ToolbarMain from '../Toolbars/ToolbarMain';\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport FailReport from '../FailReport';\nimport BaseForm from './BaseForm';\n\nimport ServiceAfterSuccess from './info/ServiceAfterSuccess';\nimport ServiceAfterFail from './info/ServiceAfterFail';\n\n// на экране \"подтвердите номер\", маска номера подтверждения\n// изменить только в случае смены длины номера, это важно\nconst confirmNumberMask = '99999';\nexport default class Forms extends React.Component {\n\n    // Дописать действия при отправке формы (props.onSubmit)\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    componentDidMount() {\n        this.setState({session: Session.getCurrent(), loading: false})\n\n        const search = this.props.location.search;\n        const success = new URLSearchParams(search).get(\"success\") || '/';\n        const fail = new URLSearchParams(search).get(\"fail\") || '/';\n\n        this.onSuccess = (callback) => {\n            this.props.history.push(success)\n            callback?.();\n        }\n\n        this.onFail = (callback) => {\n            this.props.history.push(fail)\n            callback?.()\n        }\n\n        //console.log(success)\n        //console.log(fail)\n        \n    }\n\n    onSuccess = (callback) => {\n        this.props.history.push('/')\n    }\n\n    onFail = (callback) => {\n        this.props.history.push('/')\n    }\n\n    componentWillMount() {\n        \n    }\n\n    setLoading(value, callback) {\n        this.setState({loading: value}, callback?.())\n    }\n\n    updateSession(result, callback = () => {}) {\n        this.setState({session: Session.getCurrent(), result: result}, callback)\n    }\n\n    onCardSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n        let onSuccess = this.onSuccess.bind(this);\n        let onFail = this.onFail.bind(this)\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.READ_CARD, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // WARNING\n                onSuccess()\n                resolve(result)\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                    Неверный номер карты\n                </FailReport>, setLoading(false, reject(result)));\n                reject(result)\n            })\n        })\n    }\n\n    onPhoneSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGIN, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // ...\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                    Неверный номер телефона\n                </FailReport>, setLoading(false, reject(result)));\n                // ...\n                reject(result)\n            })\n        })\n    }\n\n    \n    // TODO: выставить confirmNumberChange наружу\n    onConfirmNumberChange = (event) => {\n        let confirmNumber = event.target.value.replace(/[ _()-]/g, '');\n\n        this.setState({\n            confirmNumber: confirmNumber,\n        });\n\n        console.log(confirmNumber);\n\n        if (confirmNumber.length === confirmNumberMask.length) {\n            this.onConfirmNumberSubmit({phoneNumber: this.state.session.user.phoneNumber, confirmNumber: confirmNumber})\n        }\n    }\n\n    onConfirmNumberSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        let onSuccess = this.onSuccess.bind(this);\n        let onFail = this.onFail.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.CONFIRM, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // ...\n                onSuccess();\n                resolve(result)\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                        Введён неверный номер подтверждения\n                    </FailReport>, setLoading(false, reject(result)));\n                // ...\n                reject(result)\n            })\n        })\n    }\n\n    onLogout(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGOUT, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>Произошла ошибка</FailReport>,\n                     setLoading(false, reject(result)));\n            })\n        })\n    }\n\n    onServiceSubmit(data) {\n        const setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        const onSuccess = this.onSuccess.bind(this),\n        onFail = this.onFail.bind(this),\n        onLogout = this.onLogout.bind(this);\n\n\n        const lifeReport = <ServiceAfterSuccess\n            user={this.state.session.user}\n            serviceText={data.serviceId}\n            onContinue = {(e) => {onSuccess()}}\n            onExit = {() => {\n                let logout = onLogout();\n                logout.then(setTimeout(this.props.history.push('/'), 1000))\n                //.then(result => onSuccess())\n                //.catch(result => onSuccess())\n            }}\n            />\n\n        const deathReport = <ServiceAfterFail\n            user={this.state.session.user}\n            serviceText={data.serviceId}\n            onContinue = {(e) => {updateSession(undefined, setLoading(false))}}\n            onExit = {(e) => {\n                onFail()\n            }}\n            />\n\n        // Запускаем загрузку\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.REQSERVICE, data: data}).then((result) => {\n                updateSession(lifeReport, setLoading(false));\n                // ...\n            },\n            )\n            .catch(error => {\n                updateSession(deathReport, setLoading(false));\n                // ...\n            })\n        })\n    }\n    \n\n    render() {\n        \n\n        if (this.state.loading)\n            return <LoaderScreen/>\n        else {\n            const user = this.state.session.user;\n            console.log(this.state.session);\n            //console.log(Session.getCurrent());\n        return (\n            <Switch>\n            <Route path='/forms/ask-login' \n            render={(props) => (\n            <div className=\"container mx-auto text-center relative h-screen\">\n            <AskLoginForm {...props}/>\n            <ToolbarMain buttons={[\n                {\n                    text: \"Продолжить как гость\",\n                    onClick: (e) => {\n                        e.preventDefault();\n                        this.onFail.call(this)\n                    }\n                },\n                {\n                    text: \"Войти в систему\",\n                    onClick: (e) => {\n                        e.preventDefault();\n                        (() => this.props.history.push('/forms/login')).call(this);\n                    }\n                },\n            ]}\n            />\n            </div>\n            ) }\n            />\n            <Route path='/forms/login' render={(props) => (\n                user.roles.has(userRoles.UNCONFIRMED)\n                ?\n                <div className=\"container mx-auto text-center relative max-w-5xl\"> \n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"mt-5 text-3xl text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                \n                    <ConfirmForm phoneNumber={user.phoneNumber}\n                    onChange={this.onConfirmNumberChange.bind(this)}\n                    numberMask = {confirmNumberMask}\n                    {...props}/>\n                    <div className=\"mt-16 -mx-5\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            timeout: 60,\n                        },\n                        {\n                            text: \"Отправить номер повторно\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onPhoneSubmit.call(this, {phoneNumber: user.phoneNumber})\n                            },\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"Ввести другой номер\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onLogout.call(this)\n                            },\n                            color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                    </div>\n                </div>\n                : user.roles.has(userRoles.INPUT_PHONE)\n\n                    ? <>\n                    <div className=\"container mx-auto text-center relative max-w-5xl\">\n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"text-3xl mt-5 text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                    <InputPhoneForm\n                    onSubmit = {this.onPhoneSubmit.bind(this)}\n                    phoneNumber = {user?.phoneNumber}\n                    {...props}/>\n                    <div className=\"mt-16 -mx-5\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            timeout: undefined,\n                        },\n                    ]}/>\n                    </div>\n                    </div>\n                    </>\n\n                    : <>\n                    <div className=\"container mx-auto text-center relative max-w-5xl\">\n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"text-3xl mt-5 text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                    </div>\n\n                    <ReadCardForm onSubmit={this.onCardSubmit.bind(this)}\n                    onCancel={this.onFail.bind(this)}\n                    />\n                    </>\n                )} />\n\n            {\n                /**\n                 * Логика работы формы с отправкой услуги\n                 * this.state.result содержит в себе компонент\n                 */\n            }\n            <Route path='/forms/service/:id' render={(props) => {\n                const serviceId = props.match.params.id;\n                \n                if (this.state.result) {\n                    console.log(this.state.result);\n                    return this.state.result;\n                }\n\n                else {\n                    return (\n                    <div class=\"max-w-3xl mx-auto\">\n                    <BaseForm\n                    serviceText={serviceId}\n                    name={user.name}\n                    phone={user.phoneNumber}\n                    onSubmit={((e) => {\n                        e.preventDefault();\n                        this.onServiceSubmit.call(this, {serviceId})\n                    }).bind(this)}\n                    {...props}/>\n                    \n                    <div class=\"-mx-5 my-8\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            //timeout: 60,\n                        },\n                        {\n                            text: \"Другой пользователь\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onLogout.call(this)\n                                .then((() => this.props.history.push(\n                                    `/forms/login?success=/forms/service/${serviceId}&fail=/forms/service/${serviceId}`\n                                )).call(this))\n                            },\n                            color: 'blue-darker'\n                        },\n                    ]}/>\n                    </div>\n                    </div>\n                    )\n                }\n            }}/>\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n        }\n    }\n}","import React from 'react';\nimport Lightbox from \"react-awesome-lightbox\";\nimport LoaderScreen from \"../LoaderScreen\"\nimport { getMaps } from '../../scripts/api/contentApi';\n// You need to import the CSS only once\nimport \"react-awesome-lightbox/build/style.css\";\nimport \"../../assets/css/lightbox-custom.css\"\n\nexport default class MapDetail extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {imageList: [], loading: true}\n    }\n\n    async componentDidMount() {\n        /*\n        * Тут в будущем можно будет написать запрос к апи\n        * или ещё к чему\n        */\n        \n\n        // Это для симуляции загрузки\n        const response = await getMaps(this.props.category)\n\n        this.setState({ imageList: response, loading: false });\n    }\n\n    render() {\n        console.log(this.state.imageList);\n        if (this.state.loading) {\n            return (\n                <LoaderScreen/>\n            );\n        }\n        else {\n            return (\n                <Lightbox images={this.state.imageList} allowRotate={false} doubleClickZoom={2}\n                onClose={() => {this.props.history.push('/maps')}}/>\n            );\n        }\n    }\n}\n","import React from 'react';\nimport ServicesMenu from '../Services/ServicesMenu';\nimport MapDetail from './MapDetail';\nimport AutoMenu from '../Menus/AutoMenu';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nexport default class Maps extends React.Component {\n\n    render() {\n        return (\n            <Switch>\n            <Route path='/maps/:category' render={(props) => \n                {\n                    return <MapDetail category={props.match.params.category} {...props}/>\n                }\n            }/>\n\n            <Route exact path=\"/maps\" render={(props) => \n                <>\n                <div className=\"container mx-auto text-center\">\n        \n                    {/* Контейнер с кнопками */}\n                    {console.log(this.props.location.pathname)}\n                    <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                    <AutoMenu url={this.props.location.pathname} {...props}/>\n                    </div>\n                </div>\n                </>} />\n\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\n\nimport ContentButton from '../Buttons/ContentButton';\n\nimport LoaderScreen from '../LoaderScreen'\nimport { getNewsList } from '../../scripts/api/contentApi';\n//import '../../assets/css/scrollbar.css'\n\nconst gutter = 48;\nexport default class News extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {numPages: 1, pageNumber: 1, \n        window: {width: window.innerWidth, height: window.innerHeight},\n        loading: true}\n    }\n\n    componentDidMount() {\n        getNewsList().then(result => {\n            this.setState({list: result, current: 0, loading: false})\n        })\n        .catch(error => {\n            this.setState({loading: false})\n        })\n    }\n\n    previousEnty() {\n        this.changeEntry.call(this, 1);\n    }\n\n    nextEntry() {\n        this.changeEntry.call(this, -1);\n    }\n\n    changeEntry(offset) {\n        this.setState({pageNumber: 1, current: this.state.current + offset})\n    }\n\n\n    onDocumentLoadSuccess({ numPages }) {\n        this.setState({numPages: numPages, pageNumber: 1});\n    }\n\n    changePage(offset) {\n        this.setState({pageNumber: this.state.pageNumber + offset})\n    }\n\n    previousPage() {\n        this.changePage.call(this, -1);\n    }\n\n    nextPage() {\n        this.changePage.call(this, 1);\n    }\n\n    render() {\n\n        if (this.state.loading) {\n            return <LoaderScreen/>\n        }\n\n        else\n        return (\n        <div class=\"bg-gray-900 pb-24 pt-24 relative\">\n            <Document\n                file={this.state.list[this.state.current].url}\n                renderMode={'svg'}\n                onLoadSuccess={this.onDocumentLoadSuccess.bind(this)}\n            >\n                <Page \n                width={this.state.window.width - gutter*2}\n                className={'flex justify-center select-none'}\n                pageNumber={this.state.pageNumber} />\n            </Document>\n            <div class=\"fixed top-0 left-0 right-0 flex items-center h-24 bg-gray-900\">\n                <div class=\"text-white px-8 gap-8 flex justify-center items-center w-full relative\">\n                    <div class={`justify-start items-center absolute left-10`}>\n                        <ContentButton\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.props.history.push(\"/\")\n                            }}\n                            direction=\"none\"\n                            className=\"justify-start bg-red hover:bg-blue-lighter\"\n                        >\n                            Выход\n                        </ContentButton>\n                    </div>\n                    \n                    <ContentButton\n                        disabled={this.state.current === this.state.list.length - 1}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.previousEnty.call(this)\n                        }}\n                        direction=\"left\"\n                    >\n                    Предыдущий выпуск\n                    </ContentButton>\n\n                    <p class=\"text-3xl font-black\">\n                        {this.state.list[this.state.current].title}\n                    </p>\n\n                    <ContentButton\n                        disabled={this.state.current === 0}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.nextEntry.call(this)\n                        }}\n                        direction=\"right\"\n                    >\n                    Следующий выпуск\n                    </ContentButton>\n\n                </div>\n            </div>\n\n            <div class=\"fixed bottom-0 left-0 right-0 flex items-center h-24 bg-gray-900\">\n                <div class=\"text-white px-8 gap-8 w-full flex justify-center items-center\">\n\n                    <ContentButton\n                        disabled={this.state.pageNumber <= 1}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.previousPage.call(this)\n                        }}\n                        direction=\"left\"\n                    >\n                        Назад\n                    </ContentButton>\n\n                    <p class=\"text-3xl\">\n                    Страница {this.state.pageNumber || (this.state.numPages ? 1 : '--')} из {this.state.numPages || '--'}\n                    </p>\n\n                    <ContentButton\n                        disabled={this.state.pageNumber >= this.state.numPages}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.nextPage.call(this)\n                        }}\n                        direction=\"right\"\n                    >\n                    Вперёд\n                    </ContentButton>\n                </div>\n            </div>\n        </div>\n        )\n    }\n}","import logo from './logo.svg';\nimport MainPage from './components/MainPage/MainPage';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport ServicesRoutes from './components/Services/Services';\nimport Forms from './components/Forms/UserForms';\nimport Maps from './components/Maps/Maps';\nimport News from './components/News/News';\nimport { Session } from './scripts/user/Session';\n\nfunction App() {\n  // Входим в систему как гость, если не находим сессии\n    if (typeof Session.getCurrent() === 'undefined' || Object.keys(Session.getCurrent()).length === 0) {\n        Session.startNew()\n    }\n\n    //console.log(Session.getCurrent())\n  \n    return (\n        <Router>\n        <Switch>\n        {/*<Route path=\"/services\" component={Services}/>*/}\n        <Route path=\"/forms\" render={(props) => <Forms {...props}/> } />\n        <Route path=\"/services\" render={(props) => <ServicesRoutes {...props}/> } />\n        <Route path=\"/maps\" render={(props) => <Maps {...props}/> } />\n        <Route path=\"/news\" render={(props) => <News {...props}/> } />\n        <Route path=\"/\" render={(props) => <MainPage {...props}/> } />    \n        <Redirect to=\"/\" />\n        </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n        <App />\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}