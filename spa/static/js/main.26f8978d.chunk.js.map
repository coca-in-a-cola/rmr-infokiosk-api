{"version":3,"sources":["logo.svg","assets/images/background.jpg","components/MainPage/Background.jsx","components/MainPage/ButtonContainer.jsx","assets/images/logo-lg.png","components/MainPage/Logo.jsx","components/Buttons/MainButton.jsx","components/Forms/Login/AskLoginForm.jsx","scripts/helperFunctions/format.js","components/VirtualPinpad.jsx","components/Forms/Login/InputPhoneForm.jsx","components/Forms/Login/ConfirmNumberForm.jsx","components/LoaderScreen.jsx","scripts/user/User.js","scripts/user/Session.js","scripts/constants/dummyConstants.js","scripts/api/fakeApi.js","scripts/reducer.js","components/Buttons/TimeoutButtonOutline.jsx","components/Forms/UserInfo.jsx","components/Buttons/SecondaryButton.jsx","components/Buttons/ContentButton.jsx","scripts/api/contentApi.js","components/FailReport.jsx","components/Toolbars/ToolbarSecondary.jsx","components/Menus/GoBackComponents.jsx","components/Menus/AutoMenu.jsx","components/MainPage/MainPage.jsx","components/Services/ServicesMenu.jsx","components/Services/Finance.jsx","components/Forms/BaseForm.jsx","components/Services/Services.jsx","components/Modals/ModalBackground.jsx","components/Modals/ModalClose.jsx","components/Forms/Login/ReadCardForm.jsx","components/Toolbars/ToolbarMain.jsx","components/SuccessReport.jsx","components/Forms/info/ServiceAfterSuccess.jsx","components/Forms/info/ServiceAfterFail.jsx","components/Forms/UserForms.jsx","components/Maps/MapDetail.jsx","components/Maps/Maps.jsx","components/News/News.jsx","App.js","reportWebVitals.js","index.js"],"names":["Background","className","src","this","props","url","alt","React","Component","ButtonContainer","children","Logo","logo","MainButton","text","icon","arrow","left","top","right","bottom","size","ParentTagName","link","Link","to","undefined","onClick","dangerouslySetInnerHTML","__html","direction","xmlns","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","d","defaultProps","AskLoginForm","location","search","substr","indexOf","length","class","format","value","pattern","i","v","toString","replace","_","ModalBackground","pins","e","style","width","map","char","onInput","x","console","log","InputPhoneForm","onPhoneChange","event","number","target","setState","phoneNumber","state","searchInput","focus","inputRef","inputEl","mask","maskChar","onChange","id","type","preventDefault","onSubmit","data","ConfirmNumberForm","numberMask","LoaderScreen","fill-rule","clip-rule","userRoles","defaultUser","name","roles","Set","User","overrides","Object","assign","result","lastName","firstName","middleName","array","split","keys","forEach","key","JSON","stringify","getInfo","current","defaultSession","user","validThrough","Date","authToken","refreshToken","Session","changes","import","export","JSONstring","parse","Cookies","set","expires","secure","get","status","ACTION","DUMMY_PHONE","DUMMY_USER_NAME","DUMMY_TOKEN","inputCard","session","Promise","resolve","reject","card","setTimeout","startNew","add","Math","random","inputNumber","confirmNumber","logout","requestService","action","a","getCurrent","reduce","sizes","height","border","padding","TimeoutButtonOutline","timer","timeout","onTimerTick","call","color","hoverText","contrastColor","hoverBg","Forms","loading","callback","setLoading","bind","updateSession","reducer","then","catch","has","getFullName","onLogout","SecondaryButton","description","ContentButton","disabled","getMaps","category","fetch","response","ok","json","error","FailReport","detail","ToolbarSecondary","buttons","button","index","ServicesGoBack","history","push","component","currentPath","pathname","lastIndexOf","getGoBackPath","switches","y","span","GoBackComponent","AutoMenu","prevProps","componentDidMount","menu","goBack","MainPage","backgroundImage","ServicesMenu","goBackText","BaseForm","for","serviceText","phone","ServicesRoutes","allowGuest","URLSearchParams","path","render","background","createRef","ref","onClose","ModalClose","aria-hidden","ReadCardForm","countdown","clearTimeout","onCancel","cx","cy","r","enable-background","autoFocus","directions","ToolbarMain","n","ServiceAfterSuccess","onContinue","onExit","ServiceAfterFail","confirmNumberMask","onSuccess","onFail","onConfirmNumberChange","onConfirmNumberSubmit","success","fail","lifeReport","serviceId","deathReport","onPhoneSubmit","onCardSubmit","match","params","onServiceSubmit","MapDetail","imageList","images","allowRotate","doubleClickZoom","Maps","exact","News","numPages","pageNumber","window","innerWidth","innerHeight","list","changeEntry","offset","changePage","file","renderMode","onLoadSuccess","onDocumentLoadSuccess","gutter","previousEnty","title","nextEntry","previousPage","nextPage","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.26f8978d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/background.54f53330.jpg\";","import React from 'react';\n\nexport default class Background extends React.Component {\n    render() {\n      return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 select-none -z-10\">\n            <img src={this.props.url} className=\"select-none -z-10 absolute top-0 left-0 h-screen w-screen\" alt=\"Фоновая картинка\"/>\n            {\n              //<div className=\"select-none bg-gray-100 bg-opacity-75 -z-10 absolute top-0 left-0 right-0 bottom-0\"></div>\n            }\n        </div>\n      );\n    }\n}\n","import React from 'react';\n\nexport default class ButtonContainer extends React.Component {\n    render() {\n      return (\n        <div className=\"relative h-2/3 mx-32\">\n        <div className=\"grid grid-cols-3 grid-rows-2 gap-4 absolute bottom-10 left-0 right-0\">\n            {this.props.children}\n        </div>\n        </div>\n      );\n    }\n} \n","export default __webpack_public_path__ + \"static/media/logo-lg.e88d47c5.png\";","import React from 'react';\nimport logo from '../../assets/images/logo-lg.png'\nexport default class Logo extends React.Component {\n    render() {\n      /**return (\n        <div className = \"mx-auto h-1/3 py-10\">\n            <header className = \"text-9xl font-black text-blue-darker flex justify-center items-center\">\n                <span className=\"flex-initial p-1\" >RM</span>\n                <span className = \"flex-initial p-1 mb-8\">\n                <svg viewBox=\"0 0 69.4 69.8\" className = \"w-48 h-auto\" xmlns=\"http://www.w3.org/2000/svg\" id=\"preloader-logo\">\n                    <path className=\"fill\" fill=\"#ed1849\" fill-rule=\"evenodd\" d=\"M45.8 52.7l-27.7 4.1-1.6-1.2 6.6-13.1 2.6 4.5c.3.5.9.8 1.4.8h16.2c.5 0 1-.3 1.4-.7.3-.4.4-1 .2-1.5l-3.8-11.1c-.2-.7-.9-1.1-1.6-1.1h-8.9L28 25.6h12.9l2.9 4.9c.3.5.9.8 1.4.8h23.9v-.2-.1l-.1-.7v-.1l-.4-2.3C65.6 11.9 51.5 0 34.7 0A35 35 0 00.5 27.7l11.1-.7 12-9.9L51.3 13l1.6 1.2-6.6 13.2-2.7-4.5c-.3-.5-.9-.8-1.4-.8H25.9c-.5 0-1 .3-1.4.7-.3.4-.4 1-.2 1.5L28 35.4c.2.7.9 1.1 1.6 1.1h8.9l2.6 7.8H28.2l-2.9-4.9c-.3-.5-.9-.8-1.4-.8H0V38.9l.1.7v.1l.4 2.2a34.9 34.9 0 0068.3.1l-11.1.7-11.9 10z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                </span>\n                <div className =\"flex-initial p-1 mt-4\">\n                    <span className=\"\" ><i>RAIL</i></span>\n                    <h2 className=\"text-4xl text-left font-normal -mt-4\">РУЗХИММАШ</h2>\n                </div>\n            </header>\n        </div>\n      );**/\n      return (\n        <div className = \"mx-auto h-1/3 py-10\">\n            <header className = \"flex justify-center items-center\">\n                <div className='max-w-5xl'>\n                <img src={logo} alt='логотип'/>\n                </div>\n            </header>\n        </div>\n      )\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\n/**\n * Кнопка на главной странице\n */\nexport default class MainButton extends React.Component {\n    static propTypes = {\n\n        /**\n         * Размер кнопки \\\n         * Влияет на размер текста, иконки и стрелки \\\n         * Возможные варианты: md (средняя), lg (большая), xl (очень большая)\n         * @default \"md\"\n        */\n        size: PropTypes.string,\n\n        /** \n         * \"Направление\" кнопки. Пока что влияет только на стрелочку \\\n         * Может быть left, top, right или bottom\n         * @default undefined\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Иконка кнопки, html код (svg) \\\n         * Обычно пишется в виде <svg ...> </svg>\n         */\n        icon: PropTypes.string,\n\n        /** \n         * Ссылка, по которой ведёт кнопка \\\n         * Если задана, кнопка оборачивается в ссылку и функция OnClick не срабатывает \\\n         */\n        link: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки\n         */\n        onClick: PropTypes.func,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         * @example className = \"bg-blue-lighter hover:bg-red\"\n         * сделает кнопку синей, а при наведении на неё мышкой - красной \n         */\n        className: PropTypes.string,\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        size: 'md',\n        direction: undefined,\n        icon: undefined,\n        children: 'Кнопка',\n    }\n    \n\n    #sizeClasses = {\n        'xl': {\n            text: 'text-6xl',\n            icon: 'w-60 h-60 p-4',\n            arrow: 'w-12 h-12',\n        },\n        'lg': {\n            text: 'text-4xl',\n            icon: 'w-44 h-44 p-3',\n            arrow: 'w-12 h-12',\n        },\n        'md': {\n            text: 'text-3xl',\n            icon: 'w-28 h-28 p-1',\n            arrow: 'w-12 h-12',\n        },\n    };\n\n    #arrowRotation = {\n        left:  'left-0 rotate-0',\n        top:  'top-0 rotate-90',\n        right:  'right-0 rotate-180',\n        bottom:  'bottom-0 -rotate-90',\n    }\n\n    getSize() {\n        return `${this.props.size}`\n    }\n\n    render() {\n\n        const ParentTagName = this.props.link ? Link : 'button'\n      return (\n        <ParentTagName\n        className={`relative bg-red transition-colors duration-200 rounded flex\n        justify-center items-center text-white shadow-xl\n        ` + this.props.className}\n        to={this.props.link ? this.props.link : undefined}\n        onClick={this.props.link ? undefined : this.props.onClick}>\n            <div className=\"text-center\">\n                {(() => {if (this.props.icon) {\n                    return (\n                    <div className={\n                        `${this.#sizeClasses[this.props.size].icon}\n                        mx-auto`}\n                        dangerouslySetInnerHTML={{ __html: this.props.icon }}\n                        >\n                    </div>)\n                }})()}\n\n                <h3 className={\n                    `${this.#sizeClasses[this.props.size].text} \n                    font-black`}>\n                    {this.props.children}\n                </h3>\n            </div>\n            {\n                this.props.direction ?\n            <div className={\n                `${this.#sizeClasses[this.props.size].arrow}\n                absolute \n                transform\n                ${this.#arrowRotation[this.props.direction]}\n                `}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n            </div>\n            : undefined\n            }\n\n        </ParentTagName>\n      );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../../Buttons/MainButton';\n\n\nexport default class AskLoginForm extends React.Component {\n\n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        let redirectTo = this.props.location.search\n        .substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n\n        return (            \n            <div className=\"mx-auto absolute min-w-full bg-gray-200 rounded-xl shadow-xl py-10 top-10\">\n                <div class=\"\">\n                <div className=\"m-5 w-56 h-56 mx-auto text-gray-500\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-person-bounding-box\" viewBox=\"0 0 16 16\">\n                    <path d=\"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z\"/>\n                    <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/>\n                    </svg>\n                </div>\n\n                <h1 className=\"text-5xl pt-12 mx-auto text-gray-500 font-black\">\n                    Для получения всего перечня доступных услуг необходимо\n                    <br/>\n                    <span className=\"text-red\"> авторизоваться в системе</span>\n                </h1>\n                </div>\n            </div>\n        );\n    }\n}","function format(value, pattern) {\n    var i = 0,\n        v = value.toString();\n    return pattern.replace(/#/g, _ => v[i++]);\n}\n\nexport default format;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst renderPinButton = (text, onClick) => {\n    return (\n        <button class=\"w-auto h-auto\" onClick={onClick}>\n            <div class=\"flex-1\" >\n            <div class=\"flex items-center justify-center flex-1 h-20 w-20 bg-blue-lighter rounded-lg\">\n                <div class=\"relative text-3xl font-black text-white\">\n                    {text}\n                </div>\n            </div>\n            </div>\n        </button>\n    )\n}\n\nexport default class ModalBackground extends React.Component {\n    static propTypes = {\n        /**\n         *  ref для инпута\n         *  @default (x) => {console.log(x)}\n         */\n        for: PropTypes.any,\n    }\n\n    static defaultProps = {\n        onInput: (x) => {console.log(x)},\n    }\n    \n\n    constructor(props) {\n        super(props);\n\n        this.pins = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"]\n    }\n\n    onPinClick(e) {\n\n    }\n\n    onBackscapeClick(e) {\n        \n    }\n\n    render() {\n        return (\n            <div className='grid grid-cols-3 grid-rows-3 grid-flow-row-dense gap-5\n            \n            overflow-x-hidden;'\n            style={{width: 'fit-content', 'block-size': 'fit-content'}}\n            >\n                {\n                this.pins.map(char => {\n                    return (\n                        <div>\n                            {\n                                renderPinButton(char, this.onInput)\n                            }\n                        </div>\n                    )})\n                }\n            <div className=\"col-span-2\">\n                <button class=\"w-full h-auto\">\n                <div class=\"flex-1\" >\n                    <div class=\"flex items-center justify-center flex-1 h-20 bg-blue-lighter rounded-lg\">\n                        <div class=\"relative font-black text-white px-5\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-10 h-10\" viewBox=\"0 0 24 24\" fill=\"currentcolor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z\"/></svg>\n                        </div>\n                    </div>\n                    </div>\n                </button>\n            </div>\n            </div>\n        )\n\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport '../../../assets/css/postcard.css'\nimport InputMask from 'react-input-mask';\nimport format from '../../../scripts/helperFunctions/format';\nimport VirtualPinpad from '../../VirtualPinpad'\n\nexport default class InputPhoneForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при отправки формы\n         *  @default (e) => {e.preventDefault()}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Действие при изменении значения поля\n         *  @default (value, mask) => console.log(value)\n         */\n         onChange: PropTypes.func,\n        \n        /**\n         *  Значение формы\n         */\n         phoneNumber: PropTypes.oneOfType(PropTypes.string, PropTypes.number)\n    }\n\n    static defaultProps = {\n        onSubmit: (data) => {},\n        onChange: (value, mask) => console.log(value),\n    }\n\n    constructor(props) {\n        super(props);\n        console.log(props.phoneNumber)\n        this.state = {phoneNumber: props.phoneNumber}\n    }\n\n    onPhoneChange = (event) => {\n        let number = event.target.value.replace(/[ _()-]/g, '');\n        console.log(number)\n        this.setState({\n            phoneNumber: number\n        });\n    }\n\n    componentDidMount() {\n        this.searchInput.focus();\n    }\n    \n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        //let redirectTo = this.props.location.search\n        //.substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n        return (\n            <>\n            <div className=\"mx-auto text-center relative max-w-5xl\">\n            <div class=\"w-full\">\n            \n            <form className=\"bg-white mt-10 shadow-md rounded px-8 mb-4\">\n                <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                <h1 className=\"text-5xl pt-12 mx-auto text-blue-darker font-black\">\n                        Войти как сотрудник\n                </h1>\n                <p className=\"text-2xl py-2 mx-auto text-gray-500\">\n                    Введите ваш номер телефона в поле ниже и нажмите на кнопку \"Продолжить\". <br/>\n                    Мы вышлем код подтверждения на указанный номер\n                </p>\n                <div className=\"my-8\">\n                <div className=\"grid h-24 grid-cols-2 grid-rows-1 gap-4 my-2\">\n                    <div><InputMask \n                    inputRef={inputEl => (this.searchInput = inputEl)}\n                    mask=\"+7 (999) 999-99-99\"\n                    maskChar={'_'}\n                    value={this.props.phoneNumber}\n                    onChange={this.onPhoneChange} \n                    //beforeMaskedValueChange={this.beforeMaskedValueChange}\n\n                    className=\"shadow appearance-none border rounded w-full h-full py-2 px-3\n                        text-gray-500 text-4xl font-black leading-tight tracking-widest focus:outline-none focus:shadow-outline\"\n                    id=\"username\" type=\"tel\"\n                    /></div>\n\n                    <MainButton\n                    className=\"bg-red hover:bg-blue-lighter\" size=\"lg\" direction=\"right\"\n                    onClick={(e) => {\n                        e.preventDefault();\n                        console.log(this.state.phoneNumber)\n                        this.props.onSubmit({phoneNumber: this.state.phoneNumber})\n                    }}\n                    >\n                        Продолжить\n                    </MainButton>\n                </div>\n                <p className=\"text-center mt-6 text-gray-500 text-lg\">\n                &copy; 2021 РМ Рейл <br/>\n                </p>\n                </div>\n            </form>\n            \n            </div>\n            </div>\n            <VirtualPinpad onInput={(e) => this.searchInput.value += e}/>\n            </>\n        );\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport InputMask from 'react-input-mask';\n\nimport format from '../../../scripts/helperFunctions/format';\nimport '../../../assets/css/input-number-fix.css'\nimport '../../../assets/css/postcard.css'\nimport VirtualPinpad from '../../VirtualPinpad'\n\nexport default class ConfirmNumberForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при изменении значения поля\n         *  Предпологается, что код подтверждения отправляется, \\\n         *  только когда поле заполнено до конца. \\\n         *  См. использование в файле LoginForm.jsx\n         *  @default (value, mask) => console.log(value)\n         */\n         onChange: PropTypes.func,\n\n        /**\n         *  Действие при отправки формы\n         *  Тут нигде не используется\n         *  @default (data) => {}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Номер телефона, который будет отображаться на форме\n         *  (Без +7 или 8)\n         *  @default '0000000000'\n         */\n        phoneNumber: PropTypes.oneOfType(PropTypes.number, PropTypes.string),\n\n        /**\n         *  Номер телефона, который будет отображаться на форме\n         *  (Без +7 или 8)\n         *  @default '00000'\n         */\n        numberMask: PropTypes.string\n    }\n\n    static defaultProps = {\n        onChange: (value, mask) => console.log(value),\n        phoneNumber: '+70000000000',\n        numberMask: '99999'\n    }\n\n    componentDidMount() {\n        this.searchInput.focus();\n    }\n\n\n    render() {\n        // TODO:\n        // Это костыль на первое время\n        // Переписать обязательно\n        //let redirectTo = this.props.location.search\n        //.substr(this.props.location.search.indexOf('redirectTo=') + 'redirectTo='.length)\n\n        return (\n            <div className=\"container mx-auto text-center relative max-w-5xl\">\n            <div class=\"mx-auto\">\n            \n            <form className=\"bg-white mt-10 left-0 right-0 shadow-md rounded px-8 mb-4\">\n                <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                <h1 className=\"text-5xl pt-12 mx-auto text-blue-darker font-black\">\n                    Введите код подтверждения\n                </h1>\n                <p className=\"text-2xl pt-2 max-w-4xl mx-auto text-gray-500\">\n                    Мы уже выслали на номер {format(this.props.phoneNumber, '## (###) ### ##-## ')} код подтверждения\n                    <br/>\n                    Введите его в поле ниже, чтобы войти\n                </p>\n                <div className=\"mb-8 mt-2\">\n\n                <InputMask\n                inputRef={inputEl => (this.searchInput = inputEl)}\n                mask={this.props.numberMask}\n                maskChar={'_'}\n                onChange={(e) => this.props.onChange(e)}\n                className=\"shadow appearance-none rounded w-72 py-2 px-3\n                text-gray-500 text-center text-4xl font-black leading-tight tracking-widest focus:outline-none focus:shadow-outline\"\n                id=\"username\" type=\"text\" \n                //beforeMaskedValueChange={this.beforeMaskedValueChange}\n                />\n\n                <p className=\"text-center mt-6 text-gray-500 text-lg\">\n                &copy; 2021 РМ Рейл <br/>\n                </p>\n                </div>\n            </form>\n            \n            </div>\n\n            <VirtualPinpad onInput={(e) => this.searchInput.value += e}/>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class LoaderScreen extends React.Component {\n    render() {\n      return (\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 select-none\">\n            <div className=\"select-none bg-gray-100 bg-opacity-75 absolute top-0 left-0 right-0 bottom-0\"></div>\n\n            <div className =\"flex absolute top-0 left-0 right-0 bottom-0 justify-center items-center\">\n                <svg viewBox=\"0 0 69.4 69.8\" className = \"w-48 h-auto animate-spin\" xmlns=\"http://www.w3.org/2000/svg\" id=\"preloader-logo\">\n                    <path className=\"fill\" fill=\"#ed1849\" fill-rule=\"evenodd\" d=\"M45.8 52.7l-27.7 4.1-1.6-1.2 6.6-13.1 2.6 4.5c.3.5.9.8 1.4.8h16.2c.5 0 1-.3 1.4-.7.3-.4.4-1 .2-1.5l-3.8-11.1c-.2-.7-.9-1.1-1.6-1.1h-8.9L28 25.6h12.9l2.9 4.9c.3.5.9.8 1.4.8h23.9v-.2-.1l-.1-.7v-.1l-.4-2.3C65.6 11.9 51.5 0 34.7 0A35 35 0 00.5 27.7l11.1-.7 12-9.9L51.3 13l1.6 1.2-6.6 13.2-2.7-4.5c-.3-.5-.9-.8-1.4-.8H25.9c-.5 0-1 .3-1.4.7-.3.4-.4 1-.2 1.5L28 35.4c.2.7.9 1.1 1.6 1.1h8.9l2.6 7.8H28.2l-2.9-4.9c-.3-.5-.9-.8-1.4-.8H0V38.9l.1.7v.1l.4 2.2a34.9 34.9 0 0068.3.1l-11.1.7-11.9 10z\" clip-rule=\"evenodd\"></path>\n                </svg>\n            </div>\n        </div>\n      );\n    }\n}\n","export const userRoles = {\n    GUEST: 'GUEST',\n    NO_PHONE: 'NO_PHONE',\n    INPUT_PHONE: 'INPUT_PHONE',\n    UNCONFIRMED: 'UNCONFIRMED',\n    EMPLOYEE: 'EMPLOYEE'\n}\n\n// Нельзя использовать set, потому что он не переносит JSON.Stringify\nexport const defaultUser = {\n    name: 'Гость',\n    phoneNumber: '+70000000000',\n    roles: new Set([userRoles.GUEST]),\n}\n\nexport class User {\n    /**\n     * Посмотрите на структуру объекта пользователя \\\n     * Время жизни сессии (expires) пишется в секундах \\\n     * Подразумевается, что данные будут храниться на стороне клиента, \\\n     * чтобы не делать слишком много запросов к апи \\\n     * Но апи должен хранить копию этих данных, чтобы проверять их целостность по токену \\\n     * как минмум при отправке формы \\\n     * Потому что иначе любой с шаловливыми ручками может залезть в дебаггер или куки \\\n     * И поменять там значения, на какие ему нужно\n     */\n\n    constructor(overrides = {}) {\n        Object.assign(this, defaultUser);\n        Object.assign(this, overrides);\n        \n        if (!(typeof this.roles === 'object' && this.roles instanceof Set)) {\n            this.roles = new Set(this.roles);\n        }\n        return this;\n    }\n\n\n    getFullName() {\n        const result = {\n            lastName: '',\n            firstName: '',\n            middleName: '',\n        }\n\n        let array = this.name.split(' ');\n\n        let i = 0;\n        Object.keys(result).forEach(key => {\n            if (i < array.length)\n            result[key] = array[i];\n            ++i;\n        });\n\n        return result;\n    }\n\n    // Кастомное поведение при JSON.stringify\n    // Нужно для преобразования сета в массив, иначе оно записывается как {}\n    toJSON() {\n        return JSON.stringify ({\n            name: this.name,\n            phoneNumber: this.phoneNumber,\n            roles: [...this.roles],\n        })\n    }\n\n    clone(overrides = {}) {\n        return new User(Object.assign(this.getInfo(), overrides));\n    }\n}","import {User, userRoles} from './User'\nimport Cookies from 'js-cookie';\n\nlet current = {};\n\n// Пока не нужно\nlet countdown = 0.0;\n\nexport const defaultSession = {\n    user: new User(),\n    validThrough: new Date(\"Jan 1, 2077 00:00:00\"),\n    authToken: '',\n\n    // Это тоже пока не используем\n    refreshToken: '',\n}\n\nexport class Session {\n    static startNew(overrides = {}) {\n        current = {};\n\n        current = Object.assign(current, defaultSession);\n        current = Object.assign(current, overrides);\n    }\n\n    // Пока что не пользуемся куками\n    static start() {\n        \n    }\n\n    static edit(changes = {}) {\n        Object.assign(current, changes);\n    }\n\n    static getCurrent() {\n        // Выдаём копию, чтобы ненароком ничего не менять в самой сессии\n        return Session.import(Session.export());\n    }\n\n    static export() {\n        return JSON.stringify(current);\n    }\n\n    static import(JSONstring) {\n        return JSON.parse(JSONstring, function(key, value) {\n            if (key == 'user') {\n                return new User(JSON.parse(value));\n             }\n            \n            if (key == 'validThrough') return new Date(value);\n            return value;\n        });\n    }\n\n    // Пока что не нужно\n    static writeCookie() {\n        Cookies.set('session', JSON.stringify(current), { expires: 1, secure: true })\n    }\n\n    // И это тоже\n    static readCookie() {\n        return JSON.parse((Cookies.get('session')));\n    }\n}\n\n// export const startNewSession = (sessionObj = {}) => {\n//     const result = {...defaultSession};\n//     Object.keys(sessionObj).forEach(key => {\n//         result[key] = sessionObj[key];\n//     });\n//     writeUserSession(result);\n// }\n\n// export const editSession = (edited = {}) => {\n//     const current = readUserSession();\n//     Object.keys(edited).forEach(key => {\n//         current[key] = edited[key];\n//     });\n//     writeUserSession(current);\n// }\n\n// export const writeUserSession = (session) => {\n//     Cookies.set('session', JSON.stringify(session), { expires: 1, secure: true })\n// }\n\n// export const refreshSession = (session) => {\n\n// }\n\n// export const readUserSession = () => {\n//     return JSON.parse((Cookies.get('session')));\n// }\n\n// const sessionCache = () => {\n\n// }","export const DUMMY_PHONE = '5555555555';\nexport const DUMMY_CONFIRM_NUMBER = '55555';\nexport const DUMMY_TOKEN = 'ffff0000';\nexport const UNCONFIRMED_TOKEN = 'UNCONFIRMED_USER';\n\n/**\n * Несколько самопальным ENUM реализованных в виде объектов-констант,\n * чтобы не работать с неизвестными строками\n */\n\nexport const status = {\n    SUCCESS: 'SUCCESS',\n    FAIL: 'FAIL',\n    NOT_FOUND: 'NOT FOUND'\n}\n\nexport const ACTION = {\n    READ_CARD: 'READ_CARD',\n    LOGIN: 'LOGIN',\n    LOGOUT: 'LOGOUT',\n    CONFIRM: 'CONFIRM',\n    REQSERVICE: 'REQUEST SERVICE',\n}","import {User, userRoles, defaultUser} from '../user/User'\nimport { Session } from '../user/Session';\nimport { status } from '../constants/dummyConstants';\n\nconst DUMMY_PHONE = '+75555555555';\nconst DUMMY_CONFIRM_NUMBER = '55555';\nconst DUMMY_USER_NAME = 'Иванов Иван Иванович'\nconst DUMMY_TOKEN = 'ffff0000';\nconst DUMMY_REFRESH_TOKEN = '0000ffff'\nconst DUMMY_CARD_NUMBER = '1362859'\n\n//TODO: дописать FAKEAPI, подключить reducer к нему\n//Будем считать, что сделано\n\nexport const refreshSession = (session) => {\n    return new Promise(function(resolve, reject) {\n        \n    });\n}\n\nexport const inputCard = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.card === DUMMY_CARD_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.EMPLOYEE),\n                        //roles: session.user.roles.add(userRoles.INPUT_PHONE),\n                    }),\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const inputNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, phoneNumber: DUMMY_PHONE,\n                        roles: session.user.roles.add(userRoles.UNCONFIRMED)}),\n                    // expires: 600,\n                    authToken: DUMMY_TOKEN,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const confirmNumber = (session, data) => {\n    return new Promise(function(resolve, reject) {\n        // Симулируем какой-то процесс обращения к апи с помошью setTimeout\n        if (data.phoneNumber === DUMMY_PHONE\n            && data.confirmNumber === DUMMY_CONFIRM_NUMBER) {\n            \n            setTimeout(() => {\n                Session.startNew({\n                    user: new User({...session.user, name: DUMMY_USER_NAME,\n                    roles: new Set([userRoles.GUEST, userRoles.EMPLOYEE])}),\n\n                    authToken: DUMMY_TOKEN,\n                    // expires: 600,\n                });\n                resolve(status.SUCCESS);\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL);\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}\n\nexport const logout = (session, data = {}) => {\n    return new Promise(function(resolve, reject) {\n        setTimeout(() => {\n            Session.startNew();\n            resolve(status.SUCCESS)\n        }, Math.random() * 1000 + 250)\n    });\n}\n\nexport const requestService = (session, data = {}) => {\n    // data.serviceId - id запрашиваемой услуги\n    return new Promise(function(resolve, reject) {\n        if (session.authToken === DUMMY_TOKEN) {\n            setTimeout(() => {\n                resolve(status.SUCCESS)\n            }, Math.random() * 1000 + 250)\n        }\n        else {\n            setTimeout(() => {\n                reject(status.FAIL)\n            }, Math.random() * 1000 + 250)\n        }\n    });\n}","//import login from \"./actions/login\";\n//import confirm from \"./actions/confirm\";\n//import logout from \"./actions/logout\"\n\nimport {inputCard, inputNumber, confirmNumber, logout, requestService} from \"./api/fakeApi\"\nimport { Session } from \"./user/Session\"\n\nimport {ACTION, status} from './constants/dummyConstants'\n/**\n * REDUCE ОБРАБАТЫВАЕТ ВСЕ ВХОДЯЩИЕ ЗАПРОСЫ С ФОРМ \\\n * ПРИНИМАЕТ ЗАПРОС, ИСПОЛЬЗУЕТ СООТВЕТСТВУЮЩЕЕ ДЕЙСТВИЕ \\\n * \n * @param {*} action действие, которое мы хотим обработать\n * @returns ответ в виде строки-константы STATUS (см. dummyConstants), например 'SUCCESS' или 'FAIL'\n */\nasync function reduce(action) {\n    switch (action.type) {\n        case ACTION.READ_CARD:\n            return inputCard(Session.getCurrent(), action.data)\n        case ACTION.LOGIN:\n            return inputNumber(Session.getCurrent(), action.data)\n        case ACTION.CONFIRM:\n            return confirmNumber(Session.getCurrent(), action.data)\n        case ACTION.LOGOUT:\n            return logout(Session.getCurrent(), action.data)\n        case ACTION.REQSERVICE:\n            return requestService(Session.getCurrent(), action.data)\n        default:\n            return Promise.reject(status.NOT_FOUND);\n        }\n}\n\nexport default reduce;","import React from 'react';\nimport PropTypes from 'prop-types'\n\nconst sizes = {\n    'sm': {\n        height: \"h-12\",\n        width: \"w-12\",\n        border: \"border-2\",\n        padding: \"px-8\",\n        text: 'text-md',\n    },\n    'lg': {\n        height: \"h-16\",\n        width: \"w-16\",\n        border: \"border-2\",\n        padding: \"px-12\",\n        text: 'text-xl',\n    }\n}\n\n\nexport default class TimeoutButtonOutline extends React.Component {\n    \n    static propTypes = {\n        /**\n         *  Действие при нажатии кнопки либо по истечении времени\n         *  @default () => {}\n         */\n        onClick: PropTypes.func,\n\n        /**\n         *  Время в секундах до осуществления действия\n         *  @default undefined\n         */\n        timeout: PropTypes.number,\n\n        /**\n         * Размер кнопки. Один из ['sm', 'lg']\n         * @default 'sm'\n         */\n        size: PropTypes.string,\n\n        /**\n         * Цвет кнопки. СТРОКА. См. цветообразование в tailwind css \\\n         * Также в проект зашиты другие цвета в tailwind.config.js\n         * \n         * @default 'red'\n         */\n        color: PropTypes.string,\n\n        /**\n         * Контрастный цвет к заданному (color) СТРОКА. См. цветообразование в tailwind css \\\n         * Также в проект зашиты другие цвета в tailwind.config.js \\\n         * \n         * @default 'white'\n         */\n        contrastColor: PropTypes.string,\n    }\n\n    static defaultProps = {\n        onClick: () => {},\n        timeout: undefined,\n        size: 'sm',\n        color: 'red',\n        contrastColor: 'white'\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {timer: props.timeout}\n    }\n\n    componentDidMount() {\n        if (this.state.timer)\n            this.onTimerTick.call(this);\n    }\n\n    onTimerTick() {\n        if (this.state.timer <= 0) {\n            this.props.onClick({preventDefault: () => {}});\n        }\n        else {\n            setTimeout(() => {\n                this.setState({timer: this.state.timer - 1},\n                    this.onTimerTick.call(this));\n            }, 1000)\n        }\n    }\n\n    render() {\n        const size = sizes[this.props.size] || sizes['sm'];\n        const color = {\n            text: `text-${this.props.color}`,\n            border: `border-${this.props.color}`,\n            hoverText: `hover:text-${this.props.contrastColor}`,\n            hoverBg: `hover:bg-${this.props.color}`,\n        }\n\n        /*         \n            h-12\n            flex items-center\n            text-red\n            justify-center uppercase\n            font-semibold\n            border-red\n            undefined\n            border-red hover:bg-red\n            hover:text-white\n            transition duration-500\n            ease-in-out \n            text-md\"\n         */\n\n        return (\n        <button class=\"inline-flex\" onClick={this.props.onClick}>\n            <span class={`\n            ${size.height}\n            flex items-center\n            ${color.text}\n            justify-center uppercase\n            font-semibold\n            ${color.border}\n            ${size.padding}\n            ${size.border}\n            ${color.border}\n            ${color.hoverBg}\n            ${color.hoverText}\n            transition duration-500\n            ease-in-out \n            ${size.text}`}>\n                {this.props.children}\n            </span>\n            {(() => {\n                if (typeof this.props.timeout !== 'undefined') {\n                    return <span class={`\n                    ${size.height}\n                    ${size.width} \n                    flex-shrink-0\n                    flex ${color.text}\n                    items-center justify-center \n                    ${size.border}\n                    border-l-0 font-black\n                    ${color.border} ${color.hoverBg}\n                    ${color.hoverText}\n                    transition duration-500\n                    ease-in-out\n                    ${size.text}\n                    `}>\n                            {this.state.timer}\n                        </span>\n                }\n            })()}\n        </button>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport AskLoginForm from './Login/AskLoginForm';\nimport InputPhoneForm from './Login/InputPhoneForm';\nimport ConfirmForm from './Login/ConfirmNumberForm';\nimport LoaderScreen from '../LoaderScreen'\n\nimport reducer from '../../scripts/reducer'\n\nimport { userRoles } from '../../scripts/user/User';\nimport {Session} from '../../scripts/user/Session'\nimport { ACTION } from '../../scripts/constants/dummyConstants';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\n// Время в секундах\nconst LOGOUT_T = 30;\n\nexport default class Forms extends React.Component {\n\n    // Дописать действия при отправке формы (props.onSubmit)\n\n    // TODO: сделать переходы в зависимости от success и fail\n    constructor(props) {\n        super(props);\n        this.state = {loading: true, timer: LOGOUT_T}\n    }\n\n    componentDidMount() {\n        this.setState({session: Session.getCurrent(), loading: false})\n        //console.log(success)\n        //console.log(fail)\n    }\n\n    componentWillMount() {\n        \n    }\n\n    setLoading(value) {\n        this.setState({loading: value})\n    }\n\n    updateSession(callback = () => {}) {\n        this.setState({session: Session.getCurrent()}, callback)\n    }\n\n\n    onLogout(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGOUT, data: data}).then((result) => {\n                updateSession(setLoading(false));\n                // ...\n            },\n            )\n            .catch(result => {\n                updateSession(setLoading(false));\n                // ...\n            })\n        })\n    }\n\n    render() {\n        if (this.state.loading)\n            return <LoaderScreen/>\n        else {\n            const user = this.state.session.user;\n            //console.log(this.state.session);\n            //console.log(Session.getCurrent());\n\n            if (user.roles.has(userRoles.EMPLOYEE))\n                return (\n                    <div class=\"absolute left-4 top-4 max-w-md flex flex-col space-y-4 justify-center items-center\">\n                    <div class=\"bg-transparent w-auto flex items-center p-2\">\n                    <div class=\"flex items-center space-x-4 text-red\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                        </svg>\n                    </div>\n                    <div class=\"flex-grow p-3\">\n                    <div class=\"font-semibold text-xl text-blue-darker\">\n                        {user.getFullName().lastName + \" \" + user.getFullName().firstName}\n                    </div>\n                    {/* <div class=\"text-sm text-gray-500\">\n                        {(() => {\n                            if (user.roles.has(userRoles.EMPLOYEE))\n                                return \"Сотрудник\"\n                            else\n                                return \"Вход в систему не выполнен\"\n                        })()}\n                    </div> */}\n                    </div>\n                    <TimeoutButtonOutline timeout={20} onClick={(e) => {this.onLogout.call(this)}}>\n                        выход\n                    </TimeoutButtonOutline>\n                    </div>\n                    </div>\n                )\n            else return \"\";\n        }\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\n/**\n * Кнопка на главной странице\n */\nexport default class SecondaryButton extends React.Component {\n    static propTypes = {\n        /** \n         * \"Направление\" кнопки. Влияет на границу\n         * Может быть left, top, right или bottom\n         * @default \"left\"\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Иконка кнопки, html код (svg)\n         * Обычно пишется в виде <svg ...> </svg>\n         */\n        icon: PropTypes.string,\n\n        /** \n         * Ссылка, по которой ведёт кнопка \\\n         * Если задана, кнопка оборачивается в ссылку и функция OnClick не срабатывает \\\n         */\n        link: PropTypes.string,\n\n        /** \n         * Дополнительный текст к кнопке\n         */\n        description: PropTypes.string,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         */\n        className: PropTypes.string,\n\n        /** \n         * Функция, которая выполняется по нажатию на кнопку\n         * @default () => {}\n         */\n        onClick: PropTypes.func,\n\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        direction: 'left',\n        onClick: (e) => {},\n    }\n    \n    #arrowRotation = {\n        left:  'left-0 rotate-0',\n        right:  'right-0 rotate-180',\n    }\n\n    render() {\n      const ParentTagName = this.props.link ? Link : 'button'\n      return (\n        <ParentTagName className={\n            `${this.props.direction === 'left' ? 'bg-gradient-to-r' : 'bg-gradient-to-l'}\n        from-blue-lighter to-red p-1 ` + this.props.className}\n        onClick={this.props.onClick}\n        to={this.props.link}\n        >\n\n        <div className=\"container \n        bg-white flex items-center content-center justify-between text-center relative h-40\">\n            <div className= {`\n            ${this.props.direction === 'left' ? 'pl-16' : 'pl-6'}\n            pt-7 pb-4 text-left`}>\n            <h3 className={\n                `text-4xl font-black\n                ${this.props.direction === 'left' ? 'text-blue-darker' : 'text-red'}`}>\n                {this.props.children}\n            </h3>\n            <p class=\"text-gray-500 mt-2\">\n                {this.props.description}\n            </p>\n            </div>\n            <div className=\"p-4\">\n            <div className={\n                `w-24 mx-auto\n                ${this.props.direction === 'left' ? 'text-red' : 'text-blue-darker mr-7'}`}\n                dangerouslySetInnerHTML={{ __html: this.props.icon }}\n            >\n            </div>\n            </div>\n            <div className={\n                `w-12 h-12\n                absolute\n                text-blue-darker\n                transform\n                ${this.#arrowRotation[this.props.direction]}\n                `}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n            </div>\n        </div>\n        </ParentTagName>\n      );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ContentButton extends React.Component {\n    static propTypes = {\n\n        /** \n         * \"Направление\" кнопки. Пока что влияет только на стрелочку \\\n         * Может быть left, right или никаким\n         * @default \"left\"\n         */\n        direction: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки\n         */\n        onClick: PropTypes.func,\n\n        /** \n         * Добавочные css классы к кнопке \\\n         * желательно использовать классы Tailwind Css\n         * @example className = \"col-span-2 row-span-1\" \n         * растянет кнопку внутри сетки (CSS) на 1 ряд и 2 колонки \n         * @example className = \"bg-blue-lighter hover:bg-red\"\n         * сделает кнопку синей, а при наведении на неё мышкой - красной \n         */\n        className: PropTypes.string,\n\n        /**\n         * Выключена ли кнопка\n         */\n        disabled: PropTypes.any,\n\n        /** \n         * Внутри компонента пишется текст кнопки\n         */\n        children: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    }\n\n    static defaultProps = {\n        size: 'md',\n        direction: 'left',\n        children: 'Кнопка',\n        disabled: false,\n    }\n\n    render() {\n        switch (this.props.direction) {\n            case 'left':\n                return (\n                <button type=\"button\"\n                onClick={this.props.onClick}\n                disabled={this.props.disabled}\n                class={`bg-gray-800 text-white rounded-l-md\n                py-3 hover:bg-red\n                transition duration-150 ease-out\n                hover:text-white px-5 ${this.props.className}`}>\n                <div class=\"flex flex-row align-middle items-center\">\n                    <svg class=\"w-8 mr-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" d=\"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                    <p class=\"ml-4 text-xl uppercase font-black\">{this.props.children}</p>\n                </div>\n                </button>\n            )\n\n            case 'right':\n                return (\n                <button type=\"button\"\n                onClick={this.props.onClick}\n                disabled={this.props.disabled}\n                class={`bg-gray-800 text-white rounded-r-md\n                transition duration-150 ease-out\n                py-3 hover:bg-red\n                hover:text-white px-5 ${this.props.className}`}>\n                    <div class=\"flex flex-row align-middle items-center\">\n                    <p class=\"mr-4 text-xl uppercase font-black\">{this.props.children}</p>\n                    <svg class=\"w-8 mr-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path fill-rule=\"evenodd\" d=\"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                    </div>\n                </button>\n                )\n            \n            default:\n                return (\n                    <button type=\"button\"\n                    onClick={this.props.onClick}\n                    disabled={this.props.disabled}\n                    class={`bg-gray-800 text-white rounded-md\n                    py-3 hover:bg-red\n                    transition duration-150 ease-out\n                    hover:text-white px-5 ${this.props.className}`}>\n                        <div class=\"flex flex-row align-middle items-center\">\n                        <p class=\"mx-2 text-xl uppercase font-black\">{this.props.children}</p>\n                        </div>\n                    </button>\n                )\n        }\n\n    }\n}","export const getNewsList = () => {\n    return new Promise(function(resolve, reject) {\n        fetch('/api/news')\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json['newsList'])\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\nexport const getMaps = (category) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/maps/${category}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json['imageList'])\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getMenu = (menu) => {\n    return new Promise(function(resolve, reject) {\n        fetch(`/api/menus${menu}`)\n        .then((response) => {\n            if (response.ok) {\n            // if HTTP-status is 200-299\n            // get the response body (the method explained below)\n            response.json()\n                .then(json => {\n                    resolve(json)\n                })\n            }\n    \n            else {\n                reject(\"HTTP-Error: \" + response.status);\n            }\n        })\n        .catch((error) => {\n            reject(\"serious error occured\");\n        })\n    });\n}\n\n\nexport const getMenuTest = (menu) => {\n    return new Promise(function(resolve, reject) {\n        resolve({\n            \"buttons\": [\n              {\n                \"detail\": \"Справка 2-НДФЛ, Справка 182Н, Справка о заработной плате,\\n                Справка в УФССП, Справка в центр занятости\",\n                \"icon\": \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\">\\n                <path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\\\" />\\n                </svg>\",\n                \"link\": \"/services/finance\",\n                \"onClick\": null,\n                \"text\": \"Доходы\"\n              },\n              {\n                \"detail\": \"Справка о выплате единовременного пособия, \\n                Справка о получении/неполучении пособия по уходу за ребенком, \\n                Справка о выплате материальной помощи при рождении ребенка\",\n                \"icon\": \"<svg fill=\\\"none\\\" stroke=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                <path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\\\"></path>\\n                </svg>\",\n                \"link\": \"/forms/service/1\",\n                \"onClick\": null,\n                \"text\": \"Выплаты\"\n              }\n            ],\n            \"goBack\": true,\n            \"goBackText\": \"Назад\",\n            \"type\": \"TWO_SIDES\"\n          })\n    });\n}","import React from 'react';\n\nexport default class FailReport extends React.Component {\n    render() {\n        return (\n            <div class=\"flex items-center gap-4 bg-red p-4 rounded-md max-w-5xl mx-auto\">\n            <div class=\"w-max\">\n                <div class=\"h-24 w-28 flex text-white border-r-4 border-white\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                </div>\n            </div>\n            <div class=\"space-y-1 pl-2 text-3xl text-left\">\n                <h6 class=\"font-black text-white\">{this.props.children}</h6>\n                <p class=\"font-black text-2xl text-gray-100\">{this.props.detail}</p>\n                <p class=\"font-black text-white\">Техподдержка: +7 (555) 555 55-55</p>\n            </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../Buttons/MainButton';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\nconst directions = [\"left\", \"bottom\", \"top\", \"right\"];\n\nexport default class ToolbarSecondary extends React.Component {\n\n    static propTypes = {\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * @default []\n         * @example\n         *      [{text: \"На главную\",\n         *      onClick: (e) => {\n         *      e.preventDefault();\n         *      this.props.history.push(\"/\")\n         *      }}]\n         */\n        buttons: PropTypes.array,\n\n        /**\n         * Размер. Один из ['sm', 'lg']\n         * @default 'sm'\n         */\n        size: PropTypes.string,\n        }\n\n    static defaultProps = {\n        buttons: [],\n        size: 'sm',\n    }\n\n    render() {\n        let n = this.props.buttons.length;\n        let buttons = this.props.buttons;\n\n        return (\n            <div className={`flex justify-start items-center flex-wrap -ml-5`}>\n            {\n                buttons.map((button,index) => {\n                    return (\n                    <div className=\"ml-5\">\n                        <TimeoutButtonOutline\n                        size={this.props.size}\n                        timeout={button.timeout}\n                        onClick={button.onClick}\n                        color={button.color}>\n                            {button.text}\n                        </TimeoutButtonOutline>\n                    </div>\n                    )\n                })\n            }\n            </div>\n        );\n    }\n}","import ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport React from 'react';\n\nconst getGoBackPath = (component) => {\n    let currentPath = component.props.location.pathname;\n\n    if (currentPath.lastIndexOf(\"/\") === currentPath.length - 1)\n        currentPath = currentPath.substr(0, currentPath.length - 1)\n\n    return currentPath.substr(0, currentPath.lastIndexOf(\"/\") + 1)\n}\n\nexport class ServicesGoBack extends React.Component {\n    render() {\n        return (\n        <div class=\"clearfix\">\n            <ToolbarSecondary size=\"lg\" buttons={[\n                {\n                    text: \"Назад\",\n                    onClick: ((e) => {\n                        e.preventDefault();\n                        this.props.history?.push(getGoBackPath(this))\n                    }).bind(this),\n                    //timeout: 100,\n                },\n            ]}\n            />\n        </div>\n    )\n    }\n}","import React from 'react';\nimport MainButton from '../Buttons/MainButton'\nimport SecondaryButton from '../Buttons/SecondaryButton'\nimport ContentButton from '../Buttons/ContentButton'\nimport { func } from 'prop-types';\nimport { getMenu } from '../../scripts/api/contentApi';\nimport FailReport from '../FailReport';\nimport { ServicesGoBack } from './GoBackComponents';\n\nconst switches = {\n    'MAIN': {\n        Component: MainButton,\n        className: (index) => {\n            const sizes = [{x: 2, y: 2}, {x: 1, y: 1}, {x: 1, y: 1}]\n            const span = sizes[index % sizes.length]\n\n            // Даже нЕ ДУМай удАЛЯть этот КУсок коДА\n            const FUCK_YOU_TAILWIND_READ_THOSE_STYLES_PLZ = `\n            col-span-2 col-span-3 col-span-4 col-span-1 \n            row-span-2 row-span-3 row-span-4 row-span-1\n            `\n            return \"bg-bg-red hover:bg-blue-lighter py-4 \"\n            + `col-span-${span.x} row-span-${span.y}`\n        },\n        direction: (index) => undefined,\n        size: (index) => {\n            const d = ['xl', 'md', 'md']\n            return d[index % d.length]\n        },\n        GoBackComponent: undefined\n    },\n    'TWO_SIDES': {\n        Component: SecondaryButton,\n        className: () => \"col-span-1\",\n        direction: (index) => (index % 2 == 0) ? 'left' : 'right',\n        GoBackComponent: ServicesGoBack\n    }\n}\n\nexport default class AutoMenu extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.url != this.props.url) {\n            this.componentDidMount();\n        }\n    }\n\n    componentDidMount() {\n        getMenu(this.props.url).then((result => {\n            console.log(result)\n            this.setState(({loading: false, ...result}))\n        }).bind(this))\n        .catch((error => {\n            this.setState({loading: false, error: true})\n        }).bind(this))\n    }\n\n    render() {\n        const e = switches[this.state.type]\n\n        return (\n            this.state.loading ?\n            \"Идёт загрузка меню...\"\n            : this.state.error ?\n            <FailReport>\n                Произошла ошибка при загрузке меню!\n            </FailReport>\n            : <>\n            {\n            this.state.buttons.map((button, index) => \n                <e.Component\n                className={e.className?.(index)}\n                size={e.size?.(index)}\n                direction={e.direction?.(index)}\n                detail={button.detail}\n                icon={button.icon}\n                link={button.link}\n                onClick={button.link? undefined : button.onClick}\n                >\n                    {button.text}\n                </e.Component>\n            )\n            }\n            {\n                this.state.goBack && e.GoBackComponent ?\n                    <e.GoBackComponent {...this.props}/>\n                : null\n            }\n            </>\n        )\n    }\n}","import React from 'react';\nimport backgroundImage from '../../assets/images/background.jpg';\nimport Background from './Background';\nimport ButtonContainer from './ButtonContainer';\nimport Logo from './Logo';\nimport MainButton from '../Buttons/MainButton';\nimport UserInfo from '../Forms/UserInfo'\nimport AutoMenu from '../Menus/AutoMenu';\n\nexport default class MainPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n      return (\n      <div>\n\n        {/* Задний фон */}\n        <Background url={backgroundImage}/>\n        \n        <div className=\"container mx-auto text-center h-screen\">\n            {/* Логотип RMRail инфокиоск */}\n            <Logo/>\n\n            {/* Давайте хотя бы на главной странице выводить информацию о пользователе */}\n            <UserInfo/>\n\n            {/* Контейнер с кнопками */}\n            <ButtonContainer>\n                <AutoMenu url=\"\"/>\n            </ButtonContainer>\n        </div>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport SecondaryButton from '../Buttons/SecondaryButton';\nimport PropTypes from 'prop-types'\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\n\nexport default class ServicesMenu extends React.Component {\n    static propTypes = {\n        /**\n         *  Нужно ли выводить кнопку \"назад\"\n         *  @default true\n         */\n        goBack: PropTypes.bool,\n\n        /** \n         * Текст кнопки \"назад\"\n         * Не выводится, если goBack = false\n         * @default \"Назад\"\n         */\n        goBackText: PropTypes.string,\n\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * *Внимательно посмотрите на пример в коде компонента*\n         * @default []\n         * @example []\n         */\n        buttons: PropTypes.array,\n    }\n\n    static defaultProps = {\n        goBack: true,\n        goBackText: 'Назад',\n        buttons: [],\n    }\n\n    getGoBackPath() {\n        let currentPath = this.props.location.pathname;\n\n        if (currentPath.lastIndexOf(\"/\") === currentPath.length - 1)\n            currentPath = currentPath.substr(0, currentPath.length - 1)\n\n        return currentPath.substr(0, currentPath.lastIndexOf(\"/\") + 1)\n    }\n\n    render() {\n        let buttons = [...this.props.buttons]\n\n        /*\n        Кнопку \"назад\" решили поцепить другим способом\n        if (this.props.goBack) {\n            buttons.unshift (\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    </svg>`,\n                    link: this.getGoBackPath(),\n                    onClick: () => {},\n                    description: '',\n                    text: this.props.goBackText,\n                }\n            )\n        }\n        */\n\n      return (\n      <div>\n        <div className=\"container mx-auto text-center\">\n\n            {/* Контейнер с кнопками */}\n            <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                {\n                    buttons.map((button,index)=> {\n                        return (\n                            <SecondaryButton className=\"col-span-1\" direction={index % 2 === 0 ? 'left' : 'right'}\n                            icon={button.icon}\n                            link={button.link}\n                            description={button.description}\n                            >\n                                {button.text}\n                            </SecondaryButton>\n                        )\n                    })\n                }\n            </div>\n            {(() => {\n                if (this.props.goBack)\n                    return (\n                        <div class=\"mx-4\">\n                            <ToolbarSecondary size=\"lg\" buttons={[\n                                {\n                                    text: \"Назад\",\n                                    onClick: ((e) => {\n                                        e.preventDefault();\n                                        this.props.history.push(this.getGoBackPath())\n                                    }).bind(this),\n                                    //timeout: 100,\n                                },\n                            ]}\n                            />\n                        </div>\n                    );\n            })()}\n        </div>\n        </div>\n      );\n    }\n}","import React from 'react';\nimport ServicesMenu from './ServicesMenu';\nimport ServicesRoutes from './Services';\n\n\nimport { BrowserRouter as Router, Switch, \n    Route, Redirect,} from \"react-router-dom\";\n\n\n\nexport default class Finance extends React.Component {\n    render() {\n        return (\n            <Switch>\n            {/*<Route path=\"/services\" component={Services}/>*/}\n            <Route path='/services/finance/:form' render={(props) => \n                {\n                    return <Redirect to={`/services/form?serviceId=${props.match.params.form}`} />\n                }\n            }/>\n\n            <Route exact path=\"/services/finance\" render={(props) => <ServicesMenu {...props}\n            buttons={[\n                {\n                    icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>`,\n                    link: '/forms/service/150',\n                    description: '',\n                    text: 'Справка 2-НДФЛ',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path></svg>`,\n                    link: '/forms/service/151',\n                    description: ``,\n                    text: 'Справка 182Н',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\">\n                    </path></svg>`,\n                    link: '/forms/service/155',\n                    description: ``,\n                    text: 'Справка о заработной плате',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\">\n                    </path></svg>`,\n                    link: '/forms/service/157',\n                    description: '',\n                    text: 'Справка в УФССП',\n                },\n                {\n                    icon: `<svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\">\n                    </path></svg>`,\n                    link: '/forms/service/158',\n                    description: '',\n                    text: 'Справка в центр занятости',\n                },\n            ]}\n            />} />\n\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport MainButton from '../Buttons/MainButton';\nimport TimeoutButtonOutline from '../Buttons/TimeoutButtonOutline';\n\nimport format from '../../scripts/helperFunctions/format';\n\n/**\n * ВНИМАНИЕ: этот компонент является графической обёрткой \\\n * вся логика должна быть реализована в родительском компоненте \\\n * который и передаёт данные для отображения, а также функцию при отправке\n */\nexport default class BaseForm extends React.Component {\n    static propTypes = {\n\n        /**\n         * Название услуги\n        */\n        serviceText: PropTypes.string,\n\n        /** \n         * ФИО для отображения\n         */\n        name: PropTypes.string,\n\n        /** \n         * Телефон для отображения\n         */\n        phone: PropTypes.string,\n\n        /** \n         * Действие при нажатии кнопки \"подтвердить\"\n         */\n        onSubmit: PropTypes.func,\n    }\n\n    static defaultProps = {\n        // Все свойства указывать обязательно!\n        // стандартными не заменяем\n    }\n\n    render() {\n        return (\n            <div class=\"w-full max-w-3xl mx-auto\">\n            <form class=\"bg-white shadow-md relative rounded px-8 pt-6 pb-8 mb-4 mt-16\">\n            <div class=\"absolute -top-5 -left-5 -right-5 -bottom-5 -z-10 bg-postcard rounded shadow-md\"></div>\n                \n                <div class=\"mb-8\">\n                <label class=\"block text-blue-darker font-black text-3xl mb-2\" for=\"service\">\n                    Услуга\n                </label>\n                <input\n                disabled\n                class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"service\" type=\"text\" value={this.props.serviceText}/>\n                </div>\n\n                <div class=\"mb-8\">\n                <label class=\"block text-blue-darker text-3xl font-black mb-2\" for=\"name\">\n                    ФИО\n                </label>\n                <input\n                disabled\n                class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"name\" type=\"text\" value={this.props.name}/>\n                </div>\n\n                <div class=\"mb-8\">\n                <label class=\"block text-blue-darker text-3xl font-black mb-2\" for=\"phone\">\n                    Контактный номер\n                </label>\n                <input\n                disabled\n                class=\"shadow appearance-none border rounded w-full bg-gray-200 py-4 px-6\n                text-gray-900 text-2xl leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"phone\" type=\"text\" value={format(this.props.phone, '## (###) ### ##-##')}/>\n                </div>\n\n\n                <div class=\"grid h-28 grid-cols-1 grid-rows-1\">\n                <MainButton className=\"hover:bg-blue-lighter\" direction=\"right\" size=\"lg\" onClick={this.props.onSubmit}>\n                    Подтвердить\n                </MainButton>\n                {/*\n                <a class=\"inline-block align-baseline font-bold text-2xl text-blue-lighter\n                hover:text-blue-darker\" href=\"#\">\n                    Ошибка в данных?\n                </a>\n                */}\n                </div>\n            </form>\n            <p class=\"text-center text-gray-500 text-lg mt-8\">\n                &copy; 2021 РМ Рейл\n            </p>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport ServicesMenu from './ServicesMenu';\nimport { Session } from '../../scripts/user/Session';\nimport { userRoles } from '../../scripts/user/User';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport Finance from './Finance';\nimport BaseForm from '../Forms/BaseForm'\nimport AutoMenu from '../Menus/AutoMenu';\n\nexport default class ServicesRoutes extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true, url: props.location.pathname}\n    }\n\n    componentDidMount() {\n        const search = this.props.location.search;\n        this.allowGuest = ((new URLSearchParams(search).get(\"guest\")) === 'true') || false;\n\n        this.setState({session: Session.getCurrent(), loading: false}, () => {\n            if (!this.state.session.user.roles.has(userRoles.EMPLOYEE) && !this.allowGuest) {\n                this.props.history.push('/forms/ask-login?success=/services&fail=/services?guest=true');\n            }\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location.pathname != prevProps.location.pathname) {\n            this.setState({url: this.props.location.pathname})\n        }\n    }\n\n    render() {\n        \n        return (\n            <Switch>\n            {/*<Route path=\"/services\" component={Services}/>*/}\n            \n            <Route path='/services' render={(props) =>\n                <>\n                <div className=\"container mx-auto text-center\">\n        \n                    {/* Контейнер с кнопками */}\n                    {console.log(this.state.url)}\n                    <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                    <AutoMenu url={this.state.url} {...props}/>\n                    </div>\n                </div>\n                </>\n            }/>\n\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ModalBackground extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при закрытии окна\n         *  @default (e) => {e.preventDefault()}\n         */\n        onClose: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onClose: (e) => {e.preventDefault()},\n    }\n\n    constructor(props) {\n        super(props);\n        this.background = React.createRef();\n    }\n\n    render() {\n        return (\n            <div ref={this.background}\n            class=\"fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 flex items-center justify-center\"\n            onClick={(e) => {\n                if (e.target == this.background.current)\n                    this.props.onClose(e)\n            }}>\n            {this.props.children}\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nexport default class ModalClose extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при закрытии окна\n         *  @default (e) => {e.preventDefault()}\n         */\n        onClose: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onClose: (e) => {e.preventDefault()},\n    }\n\n    render() {\n        return (\n            <button type=\"button\" class=\"absolute right-2 top-2 p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500\"\n            onClick={(e) => this.props.onClose(e)}>\n            <span class=\"sr-only\">Close menu</span>\n            <svg class=\"h-12 w-12\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n            </button>\n        );\n    }\n}","import React from 'react';\nimport MainButton from '../../Buttons/MainButton';\nimport PropTypes from 'prop-types'\nimport '../../../assets/css/postcard.css'\nimport InputMask from 'react-input-mask';\nimport format from '../../../scripts/helperFunctions/format';\nimport \"../../../assets/css/animate-ellipsis.css\"\nimport ModalBackground from \"../../Modals/ModalBackground\"\nimport ModalClose from '../../Modals/ModalClose';\n\n\nexport default class ReadCardForm extends React.Component {\n    static propTypes = {\n        /**\n         *  Действие при прочтении карты\n         *  @default (e) => {e.preventDefault()}\n         */\n        onSubmit: PropTypes.func,\n\n        /**\n         *  Действие при отмене ввода\n         *  @default (e) => {e.preventDefault()}\n         */\n        onCancel: PropTypes.func,\n    }\n\n    static defaultProps = {\n        onSubmit: (data) => {},\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {card: '', loading: false}\n        this.background = React.createRef();\n    }\n\n    onInput = (event) => {\n        //event.preventDefault();\n        let number = event.target.value;\n\n        if (this.countdown)\n            clearTimeout(this.countdown)\n        this.countdown = setTimeout((e) => {this.props.onSubmit({card: number})}, 1500);\n        \n        if (!this.state.loading)\n        {\n            this.setState({loading: true})\n        }\n    }\n\n    componentDidMount() {\n    }\n    \n    render() {\n        return (\n            <ModalBackground onClose={(e) => this.props.onCancel(e)}>\n            <form class=\"max-w-lg pt-4 pb-8 px-8 bg-gray-800 shadow-xl rounded-lg text-center relative\">\n                <div class=\"mt-4 w-20 h-20 mx-auto relative items-center justify-center flex\">\n                {\n                    this.state.loading\n                    ?\n                    <svg class=\"animate-spin h-14 w-14 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                        <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    :\n                    <>\n                    <span class=\"absolute left-4 top-4 flex h-12 w-12\">\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75\"></span>\n                    </span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 20 20\" viewBox=\"0 0 20 20\" fill=\"#FFFFFF\"><rect fill=\"none\" height=\"20\" width=\"20\"/><path d=\"M5.41,14.59l-1.06,1.06C2.9,14.21,2,12.21,2,10c0-2.21,0.9-4.21,2.34-5.66l1.06,1.06C4.23,6.58,3.5,8.21,3.5,10 S4.23,13.42,5.41,14.59z M16.5,10c0,1.79-0.73,3.42-1.91,4.59l1.06,1.06C17.1,14.21,18,12.21,18,10c0-2.21-0.9-4.21-2.34-5.66 l-1.06,1.06C15.77,6.58,16.5,8.21,16.5,10z M13.5,10c0,0.96-0.39,1.84-1.03,2.47l1.06,1.06C14.44,12.63,15,11.38,15,10 c0-1.38-0.56-2.63-1.46-3.54l-1.06,1.06C13.11,8.16,13.5,9.04,13.5,10z M6.5,10c0-0.96,0.39-1.84,1.03-2.47L6.46,6.46 C5.56,7.37,5,8.62,5,10c0,1.38,0.56,2.63,1.46,3.54l1.06-1.06C6.89,11.84,6.5,10.96,6.5,10z M10,8.25c-0.97,0-1.75,0.78-1.75,1.75 s0.78,1.75,1.75,1.75s1.75-0.78,1.75-1.75S10.97,8.25,10,8.25z\"/></svg>\n                    </>\n                }\n                </div>    \n\n                <div>\n                    <h2 class=\"text-white text-4xl font-semibold\">\n                        Приложите карту сотрудника\n                    </h2>\n                </div>\n                \n                <input \n                class=\"absolute opacity-0 top-0 left-0 block w-screen h-full max-w-lg\"\n                name=\"card\"\n                onChange={this.onInput}\n                autoFocus>\n                </input>\n\n                <ModalClose onClose={(e) => this.props.onCancel(e)}></ModalClose>\n            </form>\n            </ModalBackground>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport MainButton from '../Buttons/MainButton';\n\nconst directions = [\"left\", \"bottom\", \"top\", \"right\"];\n\nexport default class ToolbarMain extends React.Component {\n\n    static propTypes = {\n        /** \n         * Массив кнопок, которые нужно отобразить.\n         * @default []\n         * @example\n         *      [{text: \"На главную\",\n         *      onClick: (e) => {\n         *      e.preventDefault();\n         *      this.props.history.push(\"/\")\n         *      }}]\n         */\n        buttons: PropTypes.array,\n    }\n\n    static defaultProps = {\n        buttons: [],\n    }\n\n    render() {\n        let n = this.props.buttons.length;\n        let buttons = this.props.buttons;\n\n        return (\n            <div className={`grid h-56 grid-cols-${n > 1 ? n : 2} grid-rows-1 gap-4 py-10 absolute bottom-0 left-0 right-0`}>\n            {\n                buttons.map((button,index) => {\n                    return <MainButton className=\"col-span-1 row-span-1 bg-blue-lighter hover:bg-red\"\n                    size=\"lg\"\n                    direction={n === 1\n                        ? directions[0]\n                        : index === n - 1\n                            ? directions[directions.length - 1]\n                            : directions[index % directions.length]}\n                    onClick={button.onClick}>\n                        {button.text}\n                    </MainButton> \n                })\n            }\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class FailReport extends React.Component {\n    render() {\n        return (\n            <div class=\"flex items-center gap-4 bg-green-500 p-4 rounded-md max-w-5xl mx-auto\">\n            <div class=\"w-max\">\n                <div class=\"h-24 w-28 flex text-white border-r-4 border-white\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n                    <path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n                    </svg>\n                </div>\n            </div>\n            <div class=\"space-y-1 pl-2 text-3xl text-left\">\n                <h6 class=\"font-black text-white\">{this.props.children}</h6>\n                <p class=\"font-black text-2xl text-gray-100\">{this.props.detail}</p>\n            </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport SuccessReport from '../../SuccessReport'\nimport format from '../../../scripts/helperFunctions/format';\nimport ToolbarSecondary from '../../Toolbars/ToolbarSecondary';\n\nexport default class ServiceAfterSuccess extends React.Component {\n\n    // TODO: подключить эту штуку в forms\n    // TODO: сделать похожие формы при ошибке, а также после входа в систему\n\n    static propTypes = {\n        /**\n         *  Объект \"класса\" user\n         */\n        user: PropTypes.object,\n\n        /**\n         * Название услуги, которую мы только что отправили\n         */\n        serviceText: PropTypes.string,\n\n        /** \n         * Действие при продолжении сессии (нажали на кнопку \"Продолжить как ...\")\n         */\n        onContinue: PropTypes.func,\n\n        /** \n         * Действие при выходе (нажали на кнопку \"Завершить сеанс\")\n         */\n        onExit: PropTypes.func,\n    }\n\n    /** \n     * ОБЯЗАТЕЛЬНО ЗАПОЛНИТЕ ВСЕ ПРОПЫ!!!\n     */\n    static defaultProps = {\n\n    }\n\n    render() {\n        return (\n            <div class=\"container mt-32 mx-auto\">\n                <SuccessReport detail=\n                {`Уведомление о готовности и способе выдачи прийдет на ваш номер телефона\n                ${format(this.props.user.phoneNumber, ' ## (###) ### ##-##')}`}>\n                    Вы успешно отправили заявку <br/>\n                    \"{this.props.serviceText}\" <br/>\n                    на имя {\" \" + this.props.user.getFullName().firstName}\n                    {\" \" + this.props.user.getFullName().lastName}\n                </SuccessReport>\n                <div class=\"max-w-5xl mx-auto mt-8\">\n                    <ToolbarSecondary buttons={[\n                        {\n                            text: \"Продолжить как \" + this.props.user.getFullName().firstName,\n                            onClick: (e) => this.props.onContinue(),\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"Завершить сеанс\",\n                            onClick: (e) => this.props.onExit(),\n                            timeout: 20,\n                            //color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport FailReport from '../../FailReport'\nimport format from '../../../scripts/helperFunctions/format';\nimport ToolbarSecondary from '../../Toolbars/ToolbarSecondary';\n\nexport default class ServiceAfterFail extends React.Component {\n\n    // TODO: подключить эту штуку в forms\n    // TODO: сделать похожие формы при ошибке, а также после входа в систему\n\n    static propTypes = {\n        /**\n         *  Объект \"класса\" user\n         */\n        user: PropTypes.object,\n\n        /**\n         * Название услуги, которую мы только что отправили\n         */\n        serviceText: PropTypes.string,\n\n        /** \n         * Действие при продолжении сессии (нажали на кнопку \"Попробовать ещё раз\")\n         */\n        onContinue: PropTypes.func,\n\n        /** \n         * Действие при выходе (нажали на кнопку \"Завершить сеанс\")\n         */\n        onExit: PropTypes.func,\n    }\n\n    /** \n     * ОБЯЗАТЕЛЬНО ЗАПОЛНИТЕ ВСЕ ПРОПЫ!!!\n     */\n    static defaultProps = {\n\n    }\n\n    render() {\n        return (\n            <div class=\"container mt-32 mx-auto\">\n                <FailReport>\n                    Мы не смогли отправить заявку <br/>\n                    \"{this.props.serviceText}\" <br/>\n                    на имя {\" \" + this.props.user.getFullName().firstName}\n                    {\" \" + this.props.user.getFullName().lastName}\n                </FailReport>\n                <div class=\"max-w-5xl mx-auto mt-8\">\n                    <ToolbarSecondary buttons={[\n                        {\n                            text: \"Попробовать ещё раз\",\n                            onClick: (e) => this.props.onContinue(),\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"На главный экран\",\n                            onClick: (e) => this.props.onExit(),\n                            timeout: 60,\n                            //color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types'\n\nimport {\n    // BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nimport AskLoginForm from './Login/AskLoginForm';\nimport InputPhoneForm from './Login/InputPhoneForm';\nimport ConfirmForm from './Login/ConfirmNumberForm';\nimport LoaderScreen from '../LoaderScreen'\nimport ReadCardForm from './Login/ReadCardForm';\n\nimport reducer from '../../scripts/reducer'\n\nimport { userRoles } from '../../scripts/user/User';\nimport {Session} from '../../scripts/user/Session'\nimport { ACTION } from '../../scripts/constants/dummyConstants';\n\nimport ToolbarMain from '../Toolbars/ToolbarMain';\nimport ToolbarSecondary from '../Toolbars/ToolbarSecondary';\nimport FailReport from '../FailReport';\nimport BaseForm from './BaseForm';\n\nimport ServiceAfterSuccess from './info/ServiceAfterSuccess';\nimport ServiceAfterFail from './info/ServiceAfterFail';\n\n// на экране \"подтвердите номер\", маска номера подтверждения\n// изменить только в случае смены длины номера, это важно\nconst confirmNumberMask = '99999';\nexport default class Forms extends React.Component {\n\n    // Дописать действия при отправке формы (props.onSubmit)\n\n    constructor(props) {\n        super(props);\n        this.state = {loading: true}\n    }\n\n    componentDidMount() {\n        this.setState({session: Session.getCurrent(), loading: false})\n\n        const search = this.props.location.search;\n        const success = new URLSearchParams(search).get(\"success\") || '/';\n        const fail = new URLSearchParams(search).get(\"fail\") || '/';\n\n        this.onSuccess = (callback) => {\n            this.props.history.push(success)\n            callback?.();\n        }\n\n        this.onFail = (callback) => {\n            this.props.history.push(fail)\n            callback?.()\n        }\n\n        //console.log(success)\n        //console.log(fail)\n        \n    }\n\n    onSuccess = (callback) => {\n        this.props.history.push('/')\n    }\n\n    onFail = (callback) => {\n        this.props.history.push('/')\n    }\n\n    componentWillMount() {\n        \n    }\n\n    setLoading(value, callback) {\n        this.setState({loading: value}, callback?.())\n    }\n\n    updateSession(result, callback = () => {}) {\n        this.setState({session: Session.getCurrent(), result: result}, callback)\n    }\n\n    onCardSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n        let onSuccess = this.onSuccess.bind(this);\n        let onFail = this.onFail.bind(this)\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.READ_CARD, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // WARNING\n                onSuccess()\n                resolve(result)\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                    Неверный номер карты\n                </FailReport>, setLoading(false, reject(result)));\n                reject(result)\n            })\n        })\n    }\n\n    onPhoneSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGIN, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // ...\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                    Неверный номер телефона\n                </FailReport>, setLoading(false, reject(result)));\n                // ...\n                reject(result)\n            })\n        })\n    }\n\n    \n    // TODO: выставить confirmNumberChange наружу\n    onConfirmNumberChange = (event) => {\n        let confirmNumber = event.target.value.replace(/[ _()-]/g, '');\n\n        this.setState({\n            confirmNumber: confirmNumber,\n        });\n\n        console.log(confirmNumber);\n\n        if (confirmNumber.length === confirmNumberMask.length) {\n            this.onConfirmNumberSubmit({phoneNumber: this.state.session.user.phoneNumber, confirmNumber: confirmNumber})\n        }\n    }\n\n    onConfirmNumberSubmit(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        let onSuccess = this.onSuccess.bind(this);\n        let onFail = this.onFail.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.CONFIRM, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n                // ...\n                onSuccess();\n                resolve(result)\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>\n                        Введён неверный номер подтверждения\n                    </FailReport>, setLoading(false, reject(result)));\n                // ...\n                reject(result)\n            })\n        })\n    }\n\n    onLogout(data) {\n        let setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.LOGOUT, data: data}).then((result) => {\n                updateSession(undefined, setLoading(false, resolve(result)));\n            },\n            )\n            .catch(result => {\n                updateSession(<FailReport>Произошла ошибка</FailReport>,\n                     setLoading(false, reject(result)));\n            })\n        })\n    }\n\n    onServiceSubmit(data) {\n        const setLoading = this.setLoading.bind(this),\n        updateSession = this.updateSession.bind(this);\n\n        const onSuccess = this.onSuccess.bind(this),\n        onFail = this.onFail.bind(this),\n        onLogout = this.onLogout.bind(this);\n\n\n        const lifeReport = <ServiceAfterSuccess\n            user={this.state.session.user}\n            serviceText={data.serviceId}\n            onContinue = {(e) => {onSuccess()}}\n            onExit = {() => {\n                let logout = onLogout();\n                logout.then(setTimeout(this.props.history.push('/'), 1000))\n                //.then(result => onSuccess())\n                //.catch(result => onSuccess())\n            }}\n            />\n\n        const deathReport = <ServiceAfterFail\n            user={this.state.session.user}\n            serviceText={data.serviceId}\n            onContinue = {(e) => {updateSession(undefined, setLoading(false))}}\n            onExit = {(e) => {\n                onFail()\n            }}\n            />\n\n        // Запускаем загрузку\n        setLoading(true)\n        \n        return new Promise(function(resolve, reject) {\n            reducer({type: ACTION.REQSERVICE, data: data}).then((result) => {\n                updateSession(lifeReport, setLoading(false));\n                // ...\n            },\n            )\n            .catch(error => {\n                updateSession(deathReport, setLoading(false));\n                // ...\n            })\n        })\n    }\n    \n\n    render() {\n        \n\n        if (this.state.loading)\n            return <LoaderScreen/>\n        else {\n            const user = this.state.session.user;\n            console.log(this.state.session);\n            //console.log(Session.getCurrent());\n        return (\n            <Switch>\n            <Route path='/forms/ask-login' \n            render={(props) => (\n            <div className=\"container mx-auto text-center relative h-screen\">\n            <AskLoginForm {...props}/>\n            <ToolbarMain buttons={[\n                {\n                    text: \"Продолжить как гость\",\n                    onClick: (e) => {\n                        e.preventDefault();\n                        this.onFail.call(this)\n                    }\n                },\n                {\n                    text: \"Войти в систему\",\n                    onClick: (e) => {\n                        e.preventDefault();\n                        (() => this.props.history.push('/forms/login')).call(this);\n                    }\n                },\n            ]}\n            />\n            </div>\n            ) }\n            />\n            <Route path='/forms/login' render={(props) => (\n                user.roles.has(userRoles.UNCONFIRMED)\n                ?\n                <div className=\"container mx-auto text-center relative max-w-5xl\"> \n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"mt-5 text-3xl text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                \n                    <ConfirmForm phoneNumber={user.phoneNumber}\n                    onChange={this.onConfirmNumberChange.bind(this)}\n                    numberMask = {confirmNumberMask}\n                    {...props}/>\n                    <div className=\"mt-16 -mx-5\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            timeout: 60,\n                        },\n                        {\n                            text: \"Отправить номер повторно\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onPhoneSubmit.call(this, {phoneNumber: user.phoneNumber})\n                            },\n                            color: 'blue-darker'\n                        },\n                        {\n                            text: \"Ввести другой номер\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onLogout.call(this)\n                            },\n                            color: 'blue-darker'\n                        },\n                    ]}\n                    />\n                    </div>\n                </div>\n                : user.roles.has(userRoles.INPUT_PHONE)\n\n                    ? <>\n                    <div className=\"container mx-auto text-center relative max-w-5xl\">\n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"text-3xl mt-5 text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                    <InputPhoneForm\n                    onSubmit = {this.onPhoneSubmit.bind(this)}\n                    phoneNumber = {user?.phoneNumber}\n                    {...props}/>\n                    <div className=\"mt-16 -mx-5\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            timeout: undefined,\n                        },\n                    ]}/>\n                    </div>\n                    </div>\n                    </>\n\n                    : <>\n                    <div className=\"container mx-auto text-center relative max-w-5xl\">\n                    {(() => {\n                        if (this.state.result) {\n                            return <h6 className=\"text-3xl mt-5 text-red\">{this.state.result}</h6>\n                        }\n                    })()}\n                    </div>\n\n                    <ReadCardForm onSubmit={this.onCardSubmit.bind(this)}\n                    onCancel={this.onFail.bind(this)}\n                    />\n                    </>\n                )} />\n\n            {\n                /**\n                 * Логика работы формы с отправкой услуги\n                 * this.state.result содержит в себе компонент\n                 */\n            }\n            <Route path='/forms/service/:id' render={(props) => {\n                const serviceId = props.match.params.id;\n                \n                if (this.state.result) {\n                    console.log(this.state.result);\n                    return this.state.result;\n                }\n\n                else {\n                    return (\n                    <div class=\"max-w-3xl mx-auto\">\n                    <BaseForm\n                    serviceText={serviceId}\n                    name={user.name}\n                    phone={user.phoneNumber}\n                    onSubmit={((e) => {\n                        e.preventDefault();\n                        this.onServiceSubmit.call(this, {serviceId})\n                    }).bind(this)}\n                    {...props}/>\n                    \n                    <div class=\"-mx-5 my-8\">\n                    <ToolbarSecondary size=\"lg\" buttons={[\n                        {\n                            text: \"Отмена\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onFail.call(this);\n                            },\n                            //timeout: 60,\n                        },\n                        {\n                            text: \"Другой пользователь\",\n                            onClick: (e) => {\n                                e.preventDefault();\n                                this.onLogout.call(this)\n                                .then((() => this.props.history.push(\n                                    `/forms/login?success=/forms/service/${serviceId}&fail=/forms/service/${serviceId}`\n                                )).call(this))\n                            },\n                            color: 'blue-darker'\n                        },\n                    ]}/>\n                    </div>\n                    </div>\n                    )\n                }\n            }}/>\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n        }\n    }\n}","import React from 'react';\nimport Lightbox from \"react-awesome-lightbox\";\nimport LoaderScreen from \"../LoaderScreen\"\nimport { getMaps } from '../../scripts/api/contentApi';\n// You need to import the CSS only once\nimport \"react-awesome-lightbox/build/style.css\";\nimport \"../../assets/css/lightbox-custom.css\"\n\nexport default class MapDetail extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {imageList: [], loading: true}\n    }\n\n    async componentDidMount() {\n        /*\n        * Тут в будущем можно будет написать запрос к апи\n        * или ещё к чему\n        */\n        \n\n        // Это для симуляции загрузки\n        const response = await getMaps(this.props.category)\n\n        this.setState({ imageList: response, loading: false });\n    }\n\n    render() {\n        console.log(this.state.imageList);\n        if (this.state.loading) {\n            return (\n                <LoaderScreen/>\n            );\n        }\n        else {\n            return (\n                <Lightbox images={this.state.imageList} allowRotate={false} doubleClickZoom={2}\n                onClose={() => {this.props.history.push('/maps')}}/>\n            );\n        }\n    }\n}\n","import React from 'react';\nimport ServicesMenu from '../Services/ServicesMenu';\nimport MapDetail from './MapDetail';\nimport AutoMenu from '../Menus/AutoMenu';\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n  }\nfrom 'react-router-dom';\n\nexport default class Maps extends React.Component {\n\n    render() {\n        return (\n            <Switch>\n            <Route path='/maps/:category' render={(props) => \n                {\n                    return <MapDetail category={props.match.params.category} {...props}/>\n                }\n            }/>\n\n            <Route exact path=\"/maps\" render={(props) => \n                <>\n                <div className=\"container mx-auto text-center\">\n        \n                    {/* Контейнер с кнопками */}\n                    {console.log(this.props.location.pathname)}\n                    <div className=\"grid grid-cols-2 gap-4 py-10 px-4\">\n                    <AutoMenu url={this.props.location.pathname} {...props}/>\n                    </div>\n                </div>\n                </>} />\n\n            <Redirect to=\"/\" />\n            </Switch>\n        )\n    }\n}","import React from 'react';\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\n\nimport ContentButton from '../Buttons/ContentButton';\n\nimport LoaderScreen from '../LoaderScreen'\nimport { getNewsList } from '../../scripts/api/contentApi';\n//import '../../assets/css/scrollbar.css'\n\nconst gutter = 48;\nexport default class News extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {numPages: 1, pageNumber: 1, \n        window: {width: window.innerWidth, height: window.innerHeight},\n        loading: true}\n    }\n\n    componentDidMount() {\n        getNewsList().then(result => {\n            this.setState({list: result, current: 0, loading: false})\n        })\n        .catch(error => {\n            this.setState({loading: false})\n        })\n    }\n\n    previousEnty() {\n        this.changeEntry.call(this, 1);\n    }\n\n    nextEntry() {\n        this.changeEntry.call(this, -1);\n    }\n\n    changeEntry(offset) {\n        this.setState({pageNumber: 1, current: this.state.current + offset})\n    }\n\n\n    onDocumentLoadSuccess({ numPages }) {\n        this.setState({numPages: numPages, pageNumber: 1});\n    }\n\n    changePage(offset) {\n        this.setState({pageNumber: this.state.pageNumber + offset})\n    }\n\n    previousPage() {\n        this.changePage.call(this, -1);\n    }\n\n    nextPage() {\n        this.changePage.call(this, 1);\n    }\n\n    render() {\n\n        if (this.state.loading) {\n            return <LoaderScreen/>\n        }\n\n        else\n        return (\n        <div class=\"bg-gray-900 pb-24 pt-24 relative\">\n            <Document\n                file={this.state.list[this.state.current].url}\n                renderMode={'svg'}\n                onLoadSuccess={this.onDocumentLoadSuccess.bind(this)}\n            >\n                <Page \n                width={this.state.window.width - gutter*2}\n                className={'flex justify-center select-none'}\n                pageNumber={this.state.pageNumber} />\n            </Document>\n            <div class=\"fixed top-0 left-0 right-0 flex items-center h-24 bg-gray-900\">\n                <div class=\"text-white px-8 gap-8 flex justify-center items-center w-full relative\">\n                    <div class={`justify-start items-center absolute left-10`}>\n                        <ContentButton\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.props.history.push(\"/\")\n                            }}\n                            direction=\"none\"\n                            className=\"justify-start bg-red hover:bg-blue-lighter\"\n                        >\n                            Выход\n                        </ContentButton>\n                    </div>\n                    \n                    <ContentButton\n                        disabled={this.state.current === this.state.list.length - 1}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.previousEnty.call(this)\n                        }}\n                        direction=\"left\"\n                    >\n                    Предыдущий выпуск\n                    </ContentButton>\n\n                    <p class=\"text-3xl font-black\">\n                        {this.state.list[this.state.current].title}\n                    </p>\n\n                    <ContentButton\n                        disabled={this.state.current === 0}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.nextEntry.call(this)\n                        }}\n                        direction=\"right\"\n                    >\n                    Следующий выпуск\n                    </ContentButton>\n\n                </div>\n            </div>\n\n            <div class=\"fixed bottom-0 left-0 right-0 flex items-center h-24 bg-gray-900\">\n                <div class=\"text-white px-8 gap-8 w-full flex justify-center items-center\">\n\n                    <ContentButton\n                        disabled={this.state.pageNumber <= 1}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.previousPage.call(this)\n                        }}\n                        direction=\"left\"\n                    >\n                        Назад\n                    </ContentButton>\n\n                    <p class=\"text-3xl\">\n                    Страница {this.state.pageNumber || (this.state.numPages ? 1 : '--')} из {this.state.numPages || '--'}\n                    </p>\n\n                    <ContentButton\n                        disabled={this.state.pageNumber >= this.state.numPages}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.nextPage.call(this)\n                        }}\n                        direction=\"right\"\n                    >\n                    Вперёд\n                    </ContentButton>\n                </div>\n            </div>\n        </div>\n        )\n    }\n}","import logo from './logo.svg';\nimport MainPage from './components/MainPage/MainPage';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport ServicesRoutes from './components/Services/Services';\nimport Forms from './components/Forms/UserForms';\nimport Maps from './components/Maps/Maps';\nimport News from './components/News/News';\nimport { Session } from './scripts/user/Session';\n\nfunction App() {\n  // Входим в систему как гость, если не находим сессии\n    if (typeof Session.getCurrent() === 'undefined' || Object.keys(Session.getCurrent()).length === 0) {\n        Session.startNew()\n    }\n\n    //console.log(Session.getCurrent())\n  \n    return (\n        <Router>\n        <Switch>\n        {/*<Route path=\"/services\" component={Services}/>*/}\n        <Route path=\"/forms\" render={(props) => <Forms {...props}/> } />\n        <Route path=\"/services\" render={(props) => <ServicesRoutes {...props}/> } />\n        <Route path=\"/maps\" render={(props) => <Maps {...props}/> } />\n        <Route path=\"/news\" render={(props) => <News {...props}/> } />\n        <Route path=\"/\" render={(props) => <MainPage {...props}/> } />    \n        <Redirect to=\"/\" />\n        </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nimport './index.css';\nimport './assets/css/fonts.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n        <App />\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}